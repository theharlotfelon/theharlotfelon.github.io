(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[11],{"./node_modules/@sky-uk/apollo-content/node_modules/graphql-tag/src/index.js":function(e,n,r){var t=r("./node_modules/graphql/language/parser.mjs").parse;function o(e){return e.replace(/[\s,]+/g," ").trim()}var a={},i={};var c=!0;var l=!1;function s(e){var n=o(e);if(a[n])return a[n];var r=t(e,{experimentalFragmentVariables:l});if(!r||"Document"!==r.kind)throw new Error("Not a valid GraphQL document.");return r=function e(n,r){var t=Object.prototype.toString.call(n);if("[object Array]"===t)return n.map((function(n){return e(n,r)}));if("[object Object]"!==t)throw new Error("Unexpected input.");r&&n.loc&&delete n.loc,n.loc&&(delete n.loc.startToken,delete n.loc.endToken);var o,a,i,c=Object.keys(n);for(o in c)c.hasOwnProperty(o)&&(a=n[c[o]],"[object Object]"!==(i=Object.prototype.toString.call(a))&&"[object Array]"!==i||(n[c[o]]=e(a,!0)));return n}(r=function(e){for(var n,r={},t=[],a=0;a<e.definitions.length;a++){var l=e.definitions[a];if("FragmentDefinition"===l.kind){var s=l.name.value,u=o((n=l.loc).source.body.substring(n.start,n.end));i.hasOwnProperty(s)&&!i[s][u]?(c&&console.warn("Warning: fragment with name "+s+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"),i[s][u]=!0):i.hasOwnProperty(s)||(i[s]={},i[s][u]=!0),r[u]||(r[u]=!0,t.push(l))}else t.push(l)}return e.definitions=t,e}(r),!1),a[n]=r,r}function u(){for(var e=Array.prototype.slice.call(arguments),n=e[0],r="string"==typeof n?n:n[0],t=1;t<e.length;t++)e[t]&&e[t].kind&&"Document"===e[t].kind?r+=e[t].loc.source.body:r+=e[t],r+=n[t];return s(r)}u.default=u,u.resetCaches=function(){a={},i={}},u.disableFragmentWarnings=function(){c=!1},u.enableExperimentalFragmentVariables=function(){l=!0},u.disableExperimentalFragmentVariables=function(){l=!1},e.exports=u},"./node_modules/@sky-uk/apollo-error/dist/index.es.js":function(e,n,r){"use strict";r.d(n,"a",(function(){return V})),r.d(n,"b",(function(){return G}));r("./node_modules/@apollo/react-ssr/lib/react-ssr.esm.js");var t=r("./node_modules/@apollo/react-components/lib/react-components.esm.js"),o=r("./node_modules/@apollo/react-common/lib/react-common.esm.js"),a=r("./node_modules/apollo-link-error/lib/bundle.esm.js"),i=r("./node_modules/reselect/es/index.js"),c=r("./node_modules/react/index.js"),l=r.n(c),s=r("./node_modules/react-router/esm/react-router.js"),u=r("./node_modules/@sky-uk/templates/dist/Error.js"),d=r("./node_modules/@sky-uk/selectors/dist/selectErrorContent.js"),m=r("./node_modules/@sky-uk/toolkit-react/lib/EventPublisher.js");function f(){return(f=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}function g(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var v=r("./node_modules/@sky-uk/apollo-content/node_modules/graphql-tag/src/index.js"),p=r.n(v),y="\n  contentId\n  information\n",b="\n  contentId\n  legend\n  disclaimer\n  prefix\n  suffix\n  zeroCost\n",h="\n  contentId\n  src\n  alt\n  logo\n  focalPoint\n  captionText\n  copyrights {\n    ".concat("\n  text\n  contentId\n","\n  },\n  context\n  variants\n  heroes\n"),k="\n  text\n  url\n  key\n  description\n  media {\n    ".concat(h,"\n  }\n"),O="\n  contentId\n  bodyText\n  startDate\n  endDate\n  experience\n",E="\n  key\n  heading\n  subHeading\n  bodyText\n  disclaimer\n  highlight\n  ctas {\n    ".concat(k,"\n  }\n  images {\n    ").concat("\n  desktop\n  tablet\n  mobile\n  altText\n","\n  }\n  terms {\n    ").concat("\n  contentId\n  key\n  heading\n  legalIntro\n  bodyText\n","\n  }\n  media {\n    ").concat(h,"\n  }\n"),j="\n  contentId\n  features\n  component\n  reference\n  countdowns {\n    ".concat(O,"\n  }\n  contract {\n    ").concat(y,"\n  }\n  costings {\n    recurring {\n      ").concat(b,"\n    }\n    oneOff {\n      ").concat(b,"\n    }\n    negativeRecurring {\n      ").concat(b,"\n    }\n    negativeOneOff {\n      ").concat(b,"\n    }\n    existingCustomer {\n      recurring { \n        ").concat(b," \n      }\n      oneOff {\n        ").concat(b,"\n      }\n    }\n  }\n  ").concat(E,"\n  sections {\n    ").concat(E,"\n  }\n");function _(){var e,n,r=(e=["query{content @client{page(location:$location locale:$locale){contentId metadata{contentId title canonical description keywords robots}pods{contentId features component children{","}reference contract{","}costings{recurring{","}oneOff{","}negativeRecurring{","}negativeOneOff{","}existingCustomer{recurring{","}oneOff{","}}}","sections{","}countdowns{","}}notifications{","}}}}"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return _=function(){return r},r}var w=p()(_(),j,y,b,b,b,b,b,b,E,E,O,"\n  contentId\n  text\n  url\n  key\n  theme\n  startDate\n  endDate\n"),S=function(e){var n=e.children,r=e.location,o=e.locale,a=e.fetchPolicy,i=g(e,["children","location","locale","fetchPolicy"]);return l.a.createElement(t.b,f({query:w,fetchPolicy:a,variables:{location:r,locale:o}},i),n)},x=r("./node_modules/@sky-uk/sky-tags-events/dist/index.es.js");function F(){return(F=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}function C(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function N(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var r=[],t=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(t=(i=c.next()).done)&&(r.push(i.value),!n||r.length!==n);t=!0);}catch(e){o=!0,a=e}finally{try{t||null==c.return||c.return()}finally{if(o)throw a}}return r}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function D(e){return function(e){if(Array.isArray(e)){for(var n=0,r=new Array(e.length);n<e.length;n++)r[n]=e[n];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var A={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"errors"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"globalErrors"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"errorFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"globalErrorHistory"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"errorFragment"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"errorFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GlobalError"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"severity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attemptsRemaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cause"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorCodes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"statusCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"errorDetails"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sessionId"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:155,source:{body:'#import "./error-fragment.gql"\n\nquery errors {\n  globalErrors @client {\n    ...errorFragment\n  }\n  globalErrorHistory @client {\n    ...errorFragment\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}}}},I="FATAL",P="ERROR",q=null,T=I,L=0,H=function(e){if(!e)return!1;var n=e.severity,r=void 0===n?T:n;return null===r||r===I},R=function(e){return!!e&&H(e.error)},Q=function(e){var n=e.message,r=void 0===n?"":n,t=e.severity,o=void 0===t?T:t,a=e.attemptsRemaining,i=void 0===a?L:a,c=e.cause,l=(c=void 0===c?{}:c).errorCodes,s=void 0===l?[]:l,u=c.errorDetails,d=void 0===u?[]:u,m=c.statusCode,f=void 0===m?null:m,g=e.sessionId;return{message:r,severity:o,attemptsRemaining:i,cause:{errorCodes:s,statusCode:f,errorDetails:d,__typename:"ErrorCause"},sessionId:void 0===g?"":g,__typename:"Error"}},B=function(e,n){var r=e.readQuery({query:A}),t=r.globalErrors,o=r.globalErrorHistory,a=[].concat(t).concat(n).filter(Boolean);e.writeQuery({query:A,data:{globalErrors:a,globalErrorHistory:o}})},G=function(e){var n=e.cache,r=e.errorHandler;return Object(a.a)((function(e){var t=e.graphQLErrors,o=e.networkError,a=e.operation,i=e.response,c=a.getContext(),l=c.severity,s=c.errorPassThru;"warning"!==l?s||(t&&t.forEach((function(e){H(e)&&(r&&r(e),n&&B(n,{type:"GraphQLError",error:Q(e),__typename:"GlobalError"}))})),o&&(r&&r(o),n&&B(n,{type:"NetworkError",error:Q({message:null==o?void 0:o.message,severity:P,attemptsRemaining:q,cause:{errorCodes:401===o.statusCode?["unauthenticated"]:["failed.to.fetch"],statusCode:o.statusCode||500}}),__typename:"GlobalError"}))):i&&i.errors&&(i.errors=null)}))},U=function(e){return"422"===e?"ineligible":"error"},z=function(e){return(e.match(/\d{3}/)||["500"])[0]},K=Object(i.a)([function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.error,r=(n=void 0===n?{}:n).error;return r}],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.message,r=void 0===n?"":n,t=e.cause,o=(t=void 0===t?{}:t).statusCode,a=t.errorCodes,i=N(a=void 0===a?[]:a,1),c=i[0],l=t.errorDetails,s=N(l=void 0===l?[]:l,1),u=s[0],d=(u=void 0===u?{}:u).reason,m=o||z(r);return{statusCode:m,code:c,message:r,reason:d,type:U(m)}})),V={globalErrors:[],globalErrorHistory:[]},W=(Object(s.i)((function(e){var n=e.history,r=e.error,t=K(r).statusCode;return!["error","ineligible"].some((function(e){return n.location.pathname.includes(e)}))&&n.push("422"===t?"/ineligible":"/error"),null})),function(e){var n=e.children;return l.a.createElement(t.b,{query:A,fetchPolicy:"cache-only"},(function(e){var r=e.data,t=(r=void 0===r?{}:r).globalErrors,o=N(t=void 0===t?[]:t,1)[0];return n(o)}))}),$=function(e){var n=e.children;return l.a.createElement(o.a,null,(function(e){var r=e.readQuery({query:A}),t=r.globalErrors,o=r.globalErrorHistory,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter((function(e){return R(e)}))}(t).slice(-1);return a.length<t.length&&e.writeQuery({query:A,data:{globalErrors:a,globalErrorHistory:[].concat(D(t),D(o))}}),n(t)}))},J=function(e,n,r){return{error:Object(d.a)({content:e,history:n,error:r})}},M=function(){return!1},X=function(e){var n=e.base,r=e.cacheError,t=e.children,o=e.content,a=e.custom,i=e.history;return Object(c.useEffect)((function(){var e="422"===(null==r?void 0:r.statusCode)?"ineligible":"error",t=i.location.pathname,o=n?"".concat(n,"_").concat(e):e,c=[n].concat(D(function(e){return(null==e?void 0:e.split("/"))||[]}(t)),[e]).filter(Boolean);Object(x.d)(o,c,a)})),l.a.createElement(c.Fragment,null,l.a.createElement(m.a,{events:["myskyapp.DISABLE_BACK_BUTTON"]}),l.a.createElement(u.a,{componentProps:J(o,i,r)}),t)};Object(s.i)((function(e){var n=e.children,r=C(e,["children"]);return l.a.createElement(W,null,(function(e){return e?l.a.createElement(S,{location:"error"},(function(e){var n=e.error,t=e.data;return(null==t?void 0:t.content)?l.a.createElement($,null,(function(e){var n=N(e,1)[0];return l.a.createElement(X,F({},r,{content:t.content,cacheError:n}),l.a.createElement(s.a,{when:!n||R(n),message:M}))})):n?l.a.createElement(X,r,l.a.createElement(s.a,{when:!0,message:M})):null})):n}))}))}}]);