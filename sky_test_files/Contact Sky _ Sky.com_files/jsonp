lpTag.callback({"serviceMap":[{"service":"pusherInt","account":"36478212","baseURI":"lo.pushsrv.int.liveperson.net"},{"service":"eventManager","account":"36478212","baseURI":"lo.event-manager.liveperson.net"},{"service":"googleConnector","account":"36478212","baseURI":"lo.ggl-gw.liveperson.net"},{"service":"tokenizer","account":"36478212","baseURI":"lo.tokenizer.liveperson.net"},{"service":"liveEngageVep","account":"36478212","baseURI":"lo.batchelor.liveperson.net"},{"service":"coBrowse","account":"36478212","baseURI":"lo.cobrowse.liveperson.net"},{"service":"leDataReporting","account":"36478212","baseURI":"lo.data.liveperson.net"},{"service":"visitorFeed","account":"36478212","baseURI":"lo.v-feed.liveperson.net"},{"service":"act","account":"36478212","baseURI":"lo.act.liveperson.net"},{"service":"appKeyManagement","account":"36478212","baseURI":"z2.appkey-mgmnt.liveperson.net"},{"service":"rtDashboard","account":"36478212","baseURI":"lo.realtime.liveperson.net"},{"service":"asyncMessagingEnt","account":"36478212","baseURI":"lo2.msg.liveperson.net"},{"service":"agentManagerWorkspace","account":"36478212","baseURI":"lo.agentmng.liveperson.net"},{"service":"leBilling","account":"36478212","baseURI":"lo.le-billing.liveperson.net"},{"service":"batchelor","account":"36478212","baseURI":"z2.batchelor.liveperson.net"},{"service":"cqmMsg","account":"36478212","baseURI":"lo2.cqm-msg.liveperson.net"},{"service":"msgHist","account":"36478212","baseURI":"lo.msghist.liveperson.net"},{"service":"msdkgw","account":"36478212","baseURI":"lo.v.liveperson.net"},{"service":"loggos","account":"36478212","baseURI":"z2.loggos.liveperson.net"},{"service":"coreAIMavenHubDomain","account":"36478212","baseURI":"z2.maven.liveperson.net"},{"service":"visitManager","account":"36478212","baseURI":"lo.vm.liveperson.net"},{"service":"whatsappConnector","account":"36478212","baseURI":"lo.whatsapp-gw.liveperson.net"},{"service":"authenticationServiceDomain","account":"36478212","baseURI":"auth-z2.liveperson.net"},{"service":"openPlatform","account":"36478212","baseURI":"server.lon.liveperson.net"},{"service":"googleRcsConnector","account":"36478212","baseURI":"lo.grcs-gw.liveperson.net"},{"service":"pusher","account":"36478212","baseURI":"lo.push.liveperson.net"},{"service":"botConnectorsDomain","account":"36478212","baseURI":"z2.bot-connectors.liveperson.net"},{"service":"acCdnDomain","account":"36478212","baseURI":"accdn.lpsnmedia.net"},{"service":"mTag","account":"36478212","baseURI":"server.lon.liveperson.net"},{"service":"nls","account":"36478212","baseURI":"lo.nls.liveperson.net"},{"service":"keyService","account":"36478212","baseURI":"lo.keyservice.liveperson.net"},{"service":"coreAIAutomation","account":"36478212","baseURI":"lo.automationlookup.int.liveperson.net"},{"service":"facadeMsg","account":"36478212","baseURI":"lo2.facade-msg.liveperson.net"},{"service":"interactionPlatform","account":"36478212","baseURI":"lo.i.liveperson.net"},{"service":"leRBMstr","account":"36478212","baseURI":"z2.bi.liveperson.net"},{"service":"rollover","account":"36478212","baseURI":"lo.lp-rollover.liveperson.net"},{"service":"agent","account":"36478212","baseURI":"server.lon.liveperson.net"},{"service":"visitorFeedV2","account":"36478212","baseURI":"z2.visitorfeedv2.liveperson.net"},{"service":"msgEwtAPI","account":"36478212","baseURI":"lo.lp-msgewt.liveperson.net"},{"service":"leIntegration","account":"36478212","baseURI":"lo.octopus.liveperson.net"},{"service":"leadGenerator","account":"36478212","baseURI":"lo.lp-leadgenerator-web.liveperson.net"},{"service":"routingMsg","account":"36478212","baseURI":"lo2.agent4matching.liveperson.net"},{"service":"predictiveDialer","account":"36478212","baseURI":"lo.pd.liveperson.net"},{"service":"socialMsgHistDomain","account":"36478212","baseURI":"lo.smmsghistproxy.liveperson.net"},{"service":"agentVep","account":"36478212","baseURI":"lo.agentvep.liveperson.net"},{"service":"appMgmtSvcDomain","account":"36478212","baseURI":"lo.appmgmtsvc.liveperson.net"},{"service":"leCdnDomain","account":"36478212","baseURI":"lpcdn.lpsnmedia.net"},{"service":"leProxyDomain","account":"36478212","baseURI":"lo.leproxy.liveperson.net"},{"service":"facebookConnector","account":"36478212","baseURI":"lo.msg-gw.liveperson.net"},{"service":"coreAIFeedbackChuteDomain","account":"36478212","baseURI":"lo.feedbackchute.int.liveperson.net"},{"service":"coreAIFeedbackOnlyDomain","account":"36478212","baseURI":"lo.aifeedback.int.liveperson.net"},{"service":"faasUI","account":"36478212","baseURI":"lo.faasui.liveperson.net"},{"service":"cbNluDomain","account":"36478212","baseURI":"lo.bc-nlu.liveperson.net"},{"service":"lpEng","account":"36478212","baseURI":"z2.lpEng.liveperson.net"},{"service":"sentinel","account":"36478212","baseURI":"lo.sentinel.liveperson.net"},{"service":"intentAnalyzer","account":"36478212","baseURI":"lo.intent.liveperson.net"},{"service":"accountConfigReadOnly","account":"36478212","baseURI":"z2.acr.liveperson.net"},{"service":"runtimeFormLogic","account":"36478212","baseURI":"lo.rfl.liveperson.net"},{"service":"staticContent","account":"36478212","baseURI":"lo.content.lpsnmedia.net"},{"service":"mobileChat","account":"36478212","baseURI":"dispatch.look.io"},{"service":"coreAIFeedback","account":"36478212","baseURI":"lo.intentid.liveperson.net"},{"service":"connectionPanel","account":"36478212","baseURI":"z2.connection-panel.liveperson.net"},{"service":"connectToMessagingDomain","account":"36478212","baseURI":"lo.connect-to-messaging.liveperson.net"},{"service":"provisionGW","account":"36478212","baseURI":"lo.register.liveperson.net"},{"service":"liveEngage","account":"36478212","baseURI":"z2.le.liveperson.net"},{"service":"asyncMessaging","account":"36478212","baseURI":"lo2.msg.liveperson.net"},{"service":"odinDomain","account":"36478212","baseURI":"lo.odin.liveperson.net"},{"service":"subscription","account":"36478212","baseURI":"lo.providersubscription.liveperson.net"},{"service":"rtbf","account":"36478212","baseURI":"lo.data-mng.liveperson.net"},{"service":"smsConnector","account":"36478212","baseURI":"lo.msg-gw.liveperson.net"},{"service":"coreAIIntent","account":"36478212","baseURI":"lo.intentid.liveperson.net"},{"service":"launchpadDomain","account":"36478212","baseURI":"hub.liveperson.net"},{"service":"marketplaceDomain","account":"36478212","baseURI":"va.marketplace.liveperson.net"},{"service":"leBiMstr","account":"36478212","baseURI":"z2.bi.liveperson.net"},{"service":"faasGW","account":"36478212","baseURI":"lo.faasgw.liveperson.net"},{"service":"conversationVep","account":"36478212","baseURI":"lo.convep.liveperson.net"},{"service":"agentActivityDomain","account":"36478212","baseURI":"lo.agent-activity.liveperson.net"},{"service":"engHistDomain","account":"36478212","baseURI":"lo.enghist.liveperson.net"},{"service":"adminArea","account":"36478212","baseURI":"server.lon.liveperson.net"},{"service":"smt","account":"36478212","baseURI":"lo.v.liveperson.net"},{"service":"redirect","account":"36478212","baseURI":"z2.liveper.sn"},{"service":"accountCreation","account":"36478212","baseURI":"z2.acc-create.liveperson.net"},{"service":"mtlsGateway","account":"36478212","baseURI":"lo.mtls.liveperson.net"},{"service":"lineConnector","account":"36478212","baseURI":"lo.line-gw.liveperson.net"},{"service":"ALL","account":"36478212","baseURI":"server.lon.liveperson.net"},{"service":"appleConnector","account":"36478212","baseURI":"lo.apple-gw.liveperson.net"},{"service":"routingBot","account":"36478212","baseURI":"lo.routingbot.ext.liveperson.net"},{"service":"leBackofficeInt","account":"36478212","baseURI":"z2.houston.int.liveperson.net"},{"service":"liveEngageUI","account":"36478212","baseURI":"lo.le1.liveperson.net"},{"service":"accountConfigReadWrite","account":"36478212","baseURI":"lo.ac.liveperson.net"},{"service":"usmsgwDomain","account":"36478212","baseURI":"lo-ges-usmsgw.liveperson.net"},{"service":"idp","account":"36478212","baseURI":"lo.idp.liveperson.net"},{"service":"etool","account":"36478212","baseURI":"z2.etool.liveperson.net"},{"service":"socialMsgDomain","account":"36478212","baseURI":"lo.smmsgproxy.liveperson.net"},{"service":"swift","account":"36478212","baseURI":"z2.objectstorage.liveperson.net"},{"service":"mobileVisit","account":"36478212","baseURI":"dispatch.look.io"},{"service":"viberConnector","account":"36478212","baseURI":"lo.viber-gw.liveperson.net"},{"service":"transporter","account":"36478212","baseURI":"lo.transporter.liveperson.net"},{"service":"coApp","account":"36478212","baseURI":"z2.coapp.liveperson.net"},{"service":"nlp","account":"36478212","baseURI":"lo.nlp.liveperson.net"},{"service":"uconnDomain","account":"36478212","baseURI":"lo-ges-uconn.liveperson.net"},{"service":"mcs","account":"36478212","baseURI":"mcs.liveperson.net"}],"taglets":[{"name":"lpSecureStorage","type":0},{"name":"lp_sdes","type":0},{"name":"cobrowse","type":0},{"name":"scraper","type":0},{"name":"lpActivityMonitor","type":0},{"name":"rendererStub","type":0},{"name":"lp_version_detector","type":0},{"name":"lp_monitoringSDK","type":0},{"name":"lpTransporter","type":0},{"name":"lpUnifiedWindow","type":0},{"name":"SMT","type":0},{"name":"hooks","type":0},{"name":"lp_SMT","type":0},{"name":"authenticator","type":0},{"name":"cleanCCPatterns","type":0},{"name":"lp_global_utils","type":0},{"name":"unAuthMessaging","type":0},{"name":"jsLoader","type":0}],"site":"36478212","features":{"Common.LiveEngage_2_CrossDomainStorage":false,"Messaging.Auto_Messages":true,"Common.Multiple_Consumer_IDP":false}});try{window.lpTag=window.lpTag||{};window.lpTag.taglets=window.lpTag.taglets||{};lpTag.taglets.lpSecureStorage=lpTag.taglets.lpSecureStorage||function(e){function t(e){r(e);e&&e.length&&n(e,Yt);i();a();Ut=f(Ft.getDomain("leCdnDomain"))}function n(e,t){var n;lpTag.taglets.lpUtil.convertConfig(e,t);(t.periodToDisableFallbackRequestsInDays||"0"===t.periodToDisableFallbackRequestsInDays)&&(n=parseInt(t.periodToDisableFallbackRequestsInDays,10));("true"===t.useLocalStorageAsDataProviderOnIOSSafari||t.useLocalStorageAsDataProviderOnIOSSafari===!0)&&(Vt=!0);n>=0&&(Gt=24*n*60*60*1e3)}function r(e){e&&0!==e.length&&e.forEach(function(e){"legacyGetPath"===e.id&&"true"===e.value?_t=!0:"legacyIframe"===e.id&&"true"===e.value&&(xt=!0)})}function a(){wt.bind({eventName:"firstPartyMessage",appName:ze,func:ee})}function i(){var e=lpTag.protocol+"//"+lpTag.csds.getDomain(It.ACCDN)+"/api/account/"+lpTag.site+"/configuration/setting/accountproperties/",t=s();He("_loadSiteSettings called with url: "+e);if(We||t){if(!We&&t){He("_loadSiteSettings - Account settings network call already in progress"+e);o()}}else{u();lpTag.taglets.jsonp.issueCall({url:e,timeout:5e3,retries:0,callbackName:"accountSettingsCB",allowDuplicateCallbackNames:"true",success:function(e){c(e,!0)},error:function(){p(!0)}})}}function o(){var e=lpTag.events.hasFired("*","receivedAccountSettings"),t=lpTag.events.hasFired("*","receivedAccountSettingsFailed");e.length<1?wt.once({appName:"*",eventName:"receivedAccountSettings",func:function(e){c(e,!1)}}):c(e[0].data,!1);t.length<1?wt.once({appName:"*",eventName:"receivedAccountSettingsFailed",func:function(e){p(e,!1)}}):p(t[0].data,!1)}function s(){return wt.hasFired("*","requestedAccountSettings").length>0}function u(){wt.trigger({appName:"*",eventName:"requestedAccountSettings",data:{}})}function c(e,t){if(e&&Array.isArray(e)&&!e.error){He("_loadSiteSettings - got configuration: "+JSON.stringify(e));We=e;Ke=l(Ct.FIRST_PARTY_STORAGE,"true");Qe=Ke&&g(Ct.FIRST_PARTY_STORAGE);Xe=Ke&&d(Ct.FIRST_PARTY_STORAGE);kt=!0}else{He("_loadSiteSettings - NO CONFIGURATION FOUND");We=[];Ke=!1;kt=!0}t&&wt.trigger({appName:"*",eventName:"receivedAccountSettings",data:e})}function p(e){qe("Loading siteSettings: "+lpTag.site+" failed.");We=[];Ke=!1;kt=!0;e&&wt.trigger({appName:"*",eventName:"receivedAccountSettingsFailed",data:{}})}function f(e){return e.indexOf("dev.lprnd.net")>0?location.hostname===e?!0:e.indexOf("qtvr")>0||e.indexOf("lp-cdn-qa")>0?!1:!1:"lpcdn-a.lpsnmedia.net"===e?!1:"lpcdn.lpsnmedia.net"===e?!1:!0}function l(e,t){var n=We.filter(function(t){return t.id===e}),r=n&&n.length>0&&n[0].propertyValue&&n[0].propertyValue.value;return r&&r===t}function d(e){var t=We.filter(function(t){return t.id===e});return t.length&&t[0].modifiedDate&&new Date(t[0].modifiedDate)}function g(e){var t=We.filter(function(t){return t.id===e});return t.length&&t[0].createdDate&&new Date(t[0].createdDate)}function T(e){e=be(e);return e&&vt[e]?vt[e]:vt}function S(e){A(e);e.type=St.GET;k(e)}function y(e){A(e);e.type=St.MULTIGET;k(e)}function m(e){if(!e||-1!==e.expires&&-1!==e.ttl){e.type=St.SET;k(e)}else E(e)}function v(e){A(e);e.type=St.TOUCH;k(e)}function E(e){if(e){e.ttl=-1;e.expires=-1}e.type=St.REMOVE;k(e)}function R(e){var t,n;if(kt){e&&e.debug===!0&&(pt=!0);for(var r in e)if("object"==typeof e[r]&&e.hasOwnProperty(r)&&e[r].site){e[r].app||(e[r].app=Ot);Mt[e[r].app]||(Mt[e[r].app]=e[r]);if(e[r].url&&0===e[r].url.indexOf("http")){var a=N(e[r]);He("Configuring url "+e[r].url);t=be(e[r].url);a&&(t=yt.FIRSTPARTYSTORAGE);if(rt[t])if(vt[t]&&vt[t][e[r].app])le(e[r].chosenStorageHandler,vt[t][e[r].app]);else{ye(t,e[r].app,e[r].chosenStorageHandler);O(e[r],t)}else{ye(t,e[r].app,e[r].chosenStorageHandler);n=h(e[r],t);Te(e[r],n,t)}}else e[r].url===$e&&ge(e[r])}}else setTimeout(R.bind(this,e),Lt)}function h(e,t){var n=Vt&&Ke&&Je()?yt.LOCALSTORAGE:e.initialStorageType;return{type:St.SELECT_STORAGE,app:e.app,domain:t,site:e.site,initialStorageType:n,force:e.force,duplicate:e.duplicate,firstParty:e.firstParty,error:e.error}}function O(e,t){k(h(e,t))}function A(e){if(e&&e.value){e.value=null;delete e.value}return e}function N(e){return!e.duplicate&&(Ke||e.force)&&e.firstParty}function I(e){var t=e.firstParty;if("undefined"==typeof t){var n=Mt[e.app];n&&!n.disableFirstPartyGlobalConfig&&(t=n.firstParty)}return!e.duplicate&&(Ke||e.force)&&t}function C(e){He("DUPLICATED REQUEST: "+e)}function k(e){var t=be(e.domain),n=I(e),r=lpTag.taglets.lpUtil&&lpTag.taglets.lpUtil.clone(e)||{};e.success&&(r.success=C.bind(this,"SUCCESS"));e.error&&(r.error=C.bind(this,"ERROR"));if(kt){if(n&&t!==yt.FIRSTPARTYSTORAGE&&e.domain!==$e){var a=t;t=yt.FIRSTPARTYSTORAGE;if(St.SET===e.type||St.TOUCH===e.type||St.REMOVE===e.type)P()&&G(e,r);else if(St.GET===e.type||St.MULTIGET===e.type){r.success=e.success;r.error=e.error;if(!e.bound){e.bound=!0;e.success=D.bind(this,r.success,r,a,!1);e.error=D.bind(this,r.error,r,a,!0)}}}else Ke||St.GET!==e.type&&St.MULTIGET!==e.type||e.domain===$e||Ut||!e.firstParty&&!e.clearFirst||P()&&b(e,r);e.app||(e.app=Ot);if(U(e,t))e.alreadyConfigured&&e.error?le(e.error,"Could not configure storage",e.keys||e.key):R(_(e));else{w(e,t)&&(e.alreadyConfigured=!0);x(e,t)}}else setTimeout(k.bind(this,e),Lt)}function G(e,t){t.firstParty=!1;t.duplicate=!0;if(e.expires&&-1!==e.expires&&e.expires>60*Dt){e.expires=Dt;t.expires=Dt}if(e.ttl&&-1!==e.ttl&&e.ttl>60*Dt*1e3){e.ttl=1e3*Dt;t.ttl=1e3*Dt}St.SET===e.type?m(t):St.TOUCH===e.type?v(t):St.REMOVE!==e.type||e.forceFirst||E(t)}function b(e,t){t.firstParty=!0;t.force=!0;t.forceFirst=!0;if(St.MULTIGET===e.type)for(var n=0;n<e.keys.length;n++){t.type=St.REMOVE;t.key=e.keys[n];E(t)}else{t.type=St.REMOVE;E(t)}}function P(){var e=Xe||Qe,t=lpTag.taglets.lpSecureStorage.isStepUpEnabled;return t||!e||Math.abs(bt-e.getTime())<Gt}function D(e,t,n,r,a){var i=!1;t.type===St.MULTIGET&&"object"==typeof a&&(i=F(a));if(a&&!i)le(e,a);else if(P()){var o=t.error;t.firstParty=!1;t.domain=n;t.url=n;t.error=function(t){r?le(o,t):le(e,a)};S(t)}else le(e,a)}function F(e){for(var t in e)if(null!==e[t])return!1;return!0}function w(e,t){var n=at[t]&&at[t].filter(function(t){return t.type===St.SELECT_STORAGE&&t.app===e.app}.bind(this)),r=L(e,t),a=e.type===St.SELECT_STORAGE||r||n&&n.length>0;return a}function U(e,t){var n=w(e,t),r=!(!vt[t]||!vt[t][e.app]);return!n&&!r}function L(e,t){if(it)for(var n in it)if(it.hasOwnProperty(n)&&it[n].type===St.SELECT_STORAGE&&it[n].domain===t&&it[n].app===e.app)return!0;return!1}function _(e){var t={};t[e.app]={site:e.site,app:e.app,url:e.domain,initialStorageType:e.initialStorageType,chosenStorageHandler:k.bind(this,e),firstParty:e.firstParty,force:e.force,duplicate:e.duplicate,env:Ye()};"function"==typeof e.error&&(t[e.app].error=e.error);return t}function x(e,t){var n=e.domain===$e,r=I(e);if(r){e.url=e.domain||t;t=yt.FIRSTPARTYSTORAGE;e.domain=yt.FIRSTPARTYSTORAGE}n?Y(e):Nt.get(t)?W(e,t):B(e,t)}function M(){lpTag.storageMethods&&!Be&&(Be=lpTag.storageMethods);return Be?Be.isSessionStorageEnabled():!1}function Y(e){var t,n;if(M())switch(e.type){case St.GET:case St.MULTIGET:n=H(e);le(e.success,n,e.keys||e.key);break;case St.SET:t=""+e.site+e.key;J(t,e);le(e.success,e.value,e.key);break;case St.TOUCH:n=q(""+e.site+e.key,e);le(n?e.success:e.error,n?n:{error:"No data to touch"},e.key);break;case St.REMOVE:t=""+e.site+e.key;n={error:"Object not found."};j(t,e)&&(n=void 0);le(n&&n.error&&e.error?e.error:e.success,n&&n.error||n,e.key)}else le(e.error||e.success,{error:"SessionStorage is not active",code:500},e.key)}function V(e){var t=Be.getSessionData(e);try{t=""===t?"":JSON.parse(t)}catch(n){}return""!==t?t:null}function q(e,t){var n=V(e);t.appName&&null!==n&&"object"==typeof n&&(n=n[t.appName]);return""!==n?n:null}function H(e){var t,n,r=!1,a=!1,i={};if(e.keys&&Array.isArray(e.keys)){r=!0;t=e.keys}else t=[e.key];t.forEach(function(t){n=q(""+e.site+t,e);if(n){i[t]=n;a=!0}});i=a?r?i:i[t[0]]:null;return i}function J(e,t){var n=V(e);null===n&&(n={});if("object"==typeof n){n[t.appName]=t.value;return Be.setSessionData(e,fe(n))}return!1}function j(e,t){var n=!1,r=!1,a=V(e);if(null!==a&&"object"==typeof a&&a.hasOwnProperty(t.appName)){a[t.appName]=null;delete a[t.appName];for(var i in a)if(a.hasOwnProperty(i)){r=!0;break}n=!0}return n&&r?Be.setSessionData(e,fe(a)):n?Be.removeSessionData(e):!1}function B(e,t){var n;if(e&&((e.success||e.error)&&(e.key||e.keys)&&e.appName||e.type===St.SELECT_STORAGE)&&e.domain&&e.site)if(et)if(rt[t]){n=e.app&&vt[t]&&vt[t][e.app];if(n&&e.type===St.SELECT_STORAGE){ie(e.domain,e.app,n);se(e.domain)}else if(!n||n&&!n.error){xe(e);Fe(e);He("Made request for key: "+e.key+" appName: "+e.appName)}else{le(e.error||e.success,null,e.key);He("No Storage Selected, Blocked request for key: "+e.key+" appName: "+e.appName)}}else Te(e,e,t);else tt.push(function(){k(e)})}function W(e,t){ut[t]="undefined"==typeof ut[t]?[]:ut[t];ut[t].push(e)}function K(){var e,t=(new Date).getTime(),n=!1;if(je){clearTimeout(je);je=null}for(var r in it)if(it.hasOwnProperty(r)){e=0;e=t-it[r].startTime;if(e>=lt){qe("iFrame not responding in time to requests, domain: "+it[r].domain);oe(r,it[r].key,null,!0)}else n=!0}Q(n)}function Q(e){e&&!je&&(je=setTimeout(K,dt))}function X(e,t){ot[e]=t?"undefined"==typeof ot[e]?1:ot[e]+1:0;He("Domain "+e+" error count: "+ot[e],"_manageErrorState");ot[e]>gt&&Re(ut[e],e,"iFrame not responding in time to requests")}function z(e){if(rt[e]&&rt[e].parentNode){rt[e].parentNode.removeChild(rt[e]);rt[e]=null;delete rt[e];ot[e]=0;qe("Removed iFrame for domain","_removeIFrame")}}function Z(){document.body?Le():setTimeout(Z,0)}function $(e){e&&e.data&&st[e.origin]&&ne(e.data,e.origin)}function ee(e){He("firstParty message triggered from client");e&&e.data&&ne(e.data,yt.FIRSTPARTYSTORAGE)}function te(e){it[e]=null;delete it[e]}function ne(e,t){var n,r,a,i,o=pe(e);if(o){n=o.id;r=o.key||o.keys;a="undefined"!=typeof o.value?o.value:o.error;if(Rt===r){re(o,t);i=be(t);oe(n,r,a,!!o.error,i)}else{oe(n,r,a,!!o.error);He("Got result for key: "+r+" appName: "+o.appName)}}}function re(e,t){var n,r;if(!e.app){if(it){for(var a in it)if(it.hasOwnProperty(a)&&ae(t,it[a])){n=it[a].app;r=a;break}r&&te(r)}if(at&&!r)for(var i in at){at.hasOwnProperty(i)&&i===t&&Array.isArray(at[i])&&at[i].every(function(e,a){if(ae(t,e)){n=e.app;r=a;return!1}return!0});if("undefined"!=typeof r){at[i].splice(r,1);break}}e.app=n||Ot}vt[t]=vt[t]||{};vt[t][e.app]=e.value;He("Got storage type: "+e.value+" for origin: "+t+" appName: "+e.appName);ie(t,e.app,e.value)}function ae(e,t){return t.type!==St.SELECT_STORAGE||t.domain!==e||t.app!==Ot&&t.app!==At?!1:!0}function ie(e,t,n){if(Et[e]&&Et[e][t]&&Et[e][t].length>0){Et[e][t].forEach(function(e){le(e,n)});Et[e][t]=[]}}function oe(e,t,n,r,a){var i=ue(e),o=a||i&&be(i.domain);i&&ce(i,n,t,r);e&&te(e);Nt.set(!1,o);X(o,r);se(o)}function se(e){ut[e]&&ut[e].length>0&&k(ut[e].shift())}function ue(e){return e&&it[e]?it[e]:void 0}function ce(e,t,n,r){r?le(e.error||e.success,t,n):le(e.success,t,n)}function pe(e){try{e=decodeURIComponent(e);e=JSON.parse(e)}catch(t){}return e}function fe(e){var t,n;if("function"==typeof Array.prototype.toJSON){n=Array.prototype.toJSON;delete Array.prototype.toJSON;try{t=JSON.stringify(e)}catch(r){Array.prototype.toJSON=n;throw r}Array.prototype.toJSON=n}else t=JSON.stringify(e);return t}function le(e,t,n){if("function"==typeof e)try{e(t,n)}catch(r){}}function de(t,n,r){e.addEventListener?t.addEventListener(n,r,!1):t.attachEvent("on"+n,r)}function ge(e){var t={app:e.app,value:"NONE"};ye($e,e.app,e.chosenStorageHandler);if(M()){rt[$e]=!0;t.value=yt.STATICSESSIONSTORAGE}re(t,$e)}function Te(e,t,n){var r,a=e.url||e.domain,i=e.site,o=N(e);n=n||be(a);if(kt){if(!rt[n])if(at[n])Se(n,t);else if(o){He("Attaching first party methods: "+a+" domain: "+n);r=ve();st[yt.FIRSTPARTYSTORAGE]=!0;r.setAttribute("src",Ie(a,i,e));at[yt.FIRSTPARTYSTORAGE]=[];Se(yt.FIRSTPARTYSTORAGE,t);et?Ee(yt.FIRSTPARTYSTORAGE,r)():nt.push(Ee(yt.FIRSTPARTYSTORAGE,r))}else{He("Attaching iFrame: "+a+" domain: "+n);r=me();st[n]=!0;r.setAttribute("src",Ne(a,i,e));at[n]=[];Se(n,t);et?Ee(n,r)():nt.push(Ee(n,r))}return r}setTimeout(Te.bind(this,e,t,n),Lt)}function Se(e,t){t&&at[e].push(t)}function ye(e,t,n){if(n){Et[e]=Et[e]||{};Et[e][t]=Et[e][t]||[];Et[e][t].push(n)}}function me(){var e=document.createElement("iframe"),t=e.style,n="lpSS_"+Math.floor(9e10*Math.random()),r={tabIndex:"-1","aria-hidden":"true",role:"presentation",title:"Intentionally blank",name:n,id:n};t.width="0px";t.height="0px";t.position="absolute";t.top="-1000px";t.left="-1000px";t.display="none";for(var a in r)r.hasOwnProperty(a)&&e.setAttribute(a,r[a]);return e}function ve(){var e=document.createElement("script");e.id="lpSS_"+Math.floor(9e10*Math.random());return e}function Ee(e,t){return function(){var n=setTimeout(function(){Re(at[e],e,"unable to load iFrame for key")},ft);de(t,"load",function(){Oe(t,e,n)});document.body.appendChild(t)}}function Re(e,t,n){for(;e.length>0;){var r=e.shift();r.error&&setTimeout(he(r.error,n||{error:n,key:r.key},r.key),0)}z(t)}function he(e,t,n){return function(){le(e,t,n)}}function Oe(t,n,r){r&&clearTimeout(r);rt[n]=t.tagName&&"script"===t.tagName.toLowerCase()?{contentWindow:e}:t;He("Loaded frame "+n);Ae(n)}function Ae(e){He("Running pending request for frame "+e);if(at[e]){for(;at[e].length>0;)k(at[e].shift());at[e]=null;delete at[e]}}function Ne(e,t,n){var r,a,i,o;if(e&&"string"==typeof e){a=Ye();i=ke(n);e=Ce(e,n);r=0<location.port.length?":"+location.port:"";o=e+"/"+i+"?loc="+encodeURIComponent(location.protocol+"//"+location.hostname+r)+"&site="+encodeURIComponent(t)+(n.initialStorageType?"&ist="+encodeURIComponent(n.initialStorageType):"")+(n.force?"&force=1":"")+(a?"&env="+encodeURIComponent(a):"")+(Me()?"&isCrossDomain=true":"")}return o}function Ie(e,t,n){var r,a,i,o;if(e&&"string"==typeof e){a=Ye();i=Ge(n);e=Ce(e,n);r=0<location.port.length?":"+location.port:"";o=e+"/"+i+"?loc="+encodeURIComponent(location.protocol+"//"+location.hostname+r)+"&site="+encodeURIComponent(t)+(n.initialStorageType?"&ist="+encodeURIComponent(n.initialStorageType):"")+(n.force?"&force=1":"")+(a?"&env="+encodeURIComponent(a):"")+(Me()?"&isCrossDomain=true":"")}return o}function Ce(e){var t,n,r=e.lastIndexOf("/");if(r>8)n=e.substr(0,r);else{t=e.indexOf("?");t>0&&(n=e.substr(0,t))}n||_t||(n=e);return n}function ke(){var e="storage.secure.min.html";pt?e="storage.html":xt&&(e="storage.min.html");return e}function Ge(){var e;e=pt?"storage.secure.js":"storage.secure.min.js";return e}function be(e){var t,n,r=null;if(e===yt.STATICSESSIONSTORAGE)r=e;else{if(e===yt.FIRSTPARTYSTORAGE)return e;t=new RegExp(/(http{1}s{0,1}?:\/\/){0,1}([^\/\?]+)(\/?)/gi);n=t.exec(e);n&&n.length>=3&&""!==n[2]&&(r=n[1]+n[2].toLowerCase())}return r}function Pe(e){var t={};t.id=e.id;e.key?t.key=e.key:e.keys&&(t.keys=e.keys);t.site=e.site;t.appName=e.appName||"*";t.type=e.type;if(e.type===St.SELECT_STORAGE){t.initialStorageType=e.initialStorageType;t.force=e.force}isNaN(e.ttl)||(t.ttl=e.ttl);isNaN(e.expires)||(t.expires=e.expires);e.app&&(t.app=e.app);if("undefined"!=typeof e.value){t.value=e.value;t.locations=De(e.locations)}return t}function De(e){e=e?e.constructor===Array?e:[e]:[];e.push(document.location.hostname);return e}function Fe(e){var t,n=be(e.domain);if(rt[n]){e.startTime=(new Date).getTime();t=Pe(e);Nt.set(!0,n);we(t,n);Q(!0)}}function we(e,t){rt[t]&&(t===yt.FIRSTPARTYSTORAGE?lpTag.isUnauthExternalWindow||wt.trigger({appName:Pt,eventName:"firstPartyMessage",data:{data:Ue(e)}}):rt[t].contentWindow.postMessage(Ue(e),t))}function Ue(e){try{e=fe(e);e=encodeURIComponent(e)}catch(t){}return e}function Le(){et=!0;for(;nt.length>0;)try{nt.shift()()}catch(e){}for(;tt.length>0;)try{tt.shift()()}catch(e){}}function _e(){ct++;ct>2e4&&(ct=0);return"k"+ct+(new Date).getTime()+parseInt(100*Math.random(),10)}function xe(e,t){e.id=t?t:_e();"undefined"!=typeof e.value&&(e.type=St.SET);it[e.id]=e}function Me(){return lpTag.features&&"function"==typeof lpTag.features.getFeature&&lpTag.features.getFeature(ht)}function Ye(){return"function"==typeof lpTag.getEnv&&lpTag.getEnv()}function Ve(t,n){e.lpTag&&lpTag.log&&lpTag.log(t,n,ze)}function qe(e){Ve(e,Tt.ERROR)}function He(e){Ve(e,Tt.DEBUG)}function Je(){var e=lpTag.device&&lpTag.device.osName(),t=lpTag.device&&lpTag.device.browserName(),n="iOS"===e,r="Safari"===t;return n&&r}var je,Be,We,Ke,Qe,Xe,ze="lpSecureStorage",Ze="3.18.0.0-release_5078",$e="STATICSESSIONSTORAGE",et=!1,tt=[],nt=[],rt={},at={},it={},ot={},st={},ut={},ct=0,pt=!1,ft=7e3,lt=5e3,dt=1e3,gt=10,Tt={ERROR:"ERROR",DEBUG:"DEBUG",INFO:"INFO"},St={SET:"set",GET:"get",MULTIGET:"multiget",REMOVE:"remove",TOUCH:"touch",SELECT_STORAGE:"selectStorage"},yt={LOCALSTORAGE:"localStorage",SESSIONSTORAGE:"sessionStorage",INDEXEDDB:"indexedDB",COOKIE:"secureSessionCookie",STATICSESSIONSTORAGE:$e,FIRSTPARTYSTORAGE:"firstPartyStorage"},mt={STORAGE:"storage_error"},vt={},Et={},Rt="SecureStorageClient/storageType",ht="Common.LiveEngage_2_CrossDomainStorage",Ot="default",At="cobrowse",Nt={set:function(e,t){t&&(this[t]=e)},get:function(e){return e?this[e]:void 0}},It={ACCDN:"acCdnDomain"},Ct={FIRST_PARTY_STORAGE:"unified.window.allow.first.party.storage"},kt=!1,Gt=12096e5,bt=(new Date).getTime(),Pt="SecureStorageClient",Dt=31536e3,Ft=lpTag.csds,wt=lpTag.events,Ut=!1,Lt=200,_t=!1,xt=!1,Mt={},Yt={},Vt=!1;de(e,"message",$);Z();if(lpTag.isUnauthExternalWindow){Ke=!1;kt=!0}return{storageTypes:yt,getStorageType:T,getValue:S,getValues:y,setValue:m,touchValue:v,removeValue:E,configure:R,sessionStorageStaticDomain:$e,errorTypes:mt,v:Ze,name:ze,init:t,inspect:function(){var e={};for(var t in rt)rt.hasOwnProperty(t)&&(e[t]={url:t,storageType:vt[t]});return{name:ze,version:Ze,configuredFrames:e}}}}(window);}catch(e){lpTag.handleGeneralError("lpSecureStorage",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lp_sdes=lpTag.taglets.lp_sdes||function(){function e(){var e=lpTag.sdes;lpTag.sdes=lpTag.taglets.lp_sdes;if("undefined"!=typeof e&&e.length)for(var n=0;n<e.length;n++)t(e[n])}function t(e){if("undefined"!=typeof e){"undefined"==typeof e.length&&(e=[e]);for(var t=0;t<e.length;t++)if("object"==typeof e[t]&&e[t].type){var n=s(e[t].type);if("undefined"!=typeof n){n.push(e[t]);f[e[t].type]=n}else f[e[t].type]=[e[t]];d("Added sde type: "+e[t].type);lpTag.events.trigger(o,"VAR_ADDED",e[t])}else g("sde: "+JSON.stringify(e[t])+" is not an Object");lpTag.taglets.lp_monitoringSDK.sdes.push(e)}else g("Called push with no sde")}function n(e,n,s){"undefined"!=typeof e&&t(e);p("called send with sdes: "+JSON.stringify(e),"DEBUG");return lpTag.taglets.lp_monitoringSDK.send(n,s)}function s(e){return e?f[e]:f}function l(){f={};d("sdes store was reset")}function i(){l()}function p(e,t){window.lpTag&&lpTag.log&&lpTag.log(e,t,o)}function g(e){p(e,"ERROR")}function d(e){p(e,"INFO")}var o="lp_sdes",a="2.33.0",f={};return{v:a,name:o,init:e,get:s,push:t,send:n,reset:l,reinit:i,inspect:function(){return{store:s()}}}}();}catch(e){lpTag.handleGeneralError("lp_sdes",e);}try{!function(){var t,n,i;t=function(){function e(e){return e.lpTag&&e.lpTag.taglets&&e.lpTag.taglets.lp_monitoringSDK}function t(t){var n,i=e(t);i&&(n=i.getSid());if(n)return n;var o=t.lpMTagConfig;o&&o.FPC_SKEY&&(n=o.FPC_SKEY);return n}function n(e){var t,n=e.lpMTagConfig;n&&n.LPSID_VAR&&(t=n.LPSID_VAR);return t}function i(t){var n,i=e(t);i&&(n=i.getVid());if(n)return n;var o=t.lpMTagConfig;o&&o.FPC_VID&&(n=o.FPC_VID);return n}function o(e){var t,n,i=e&&e.lpMTagConfig,o=["FPC_SKEY_NAME","FPC_VID_NAME"];if(i)for(var r=0;r<o.length;r++){t=i[o[r]];if(t){n=t.match(/((qa|P)?[\d]+)(-[\w])/);if(n&&n.length>0)return n[1]}}}return{getVisitorId:i,getSessionId:t,getVisitorSessionId:n,getRedirectedSiteId:o}}();!function(t){var n,o=window,r=o.document,s=o.lpTag=o.lpTag||{},a=s.taglets=s.taglets||{};s.isDebug&&o.console&&o.console.log&&(s.log=function(e,t){"ERROR"===t?o.console.error(e):o.console.log(e)});a.cobrowse=a.cobrowse||function(){function c(e){P("INITIALIZING");P("CONFIG PARAM="+e);n=a.lpUtil||a.lp_global_utils;e&&e.constructor===Array?n.convertConfig(e,W):W=e||W;W=U(Q,W);W.autoloadApi&&A();f()}function l(){P("STARTING");s.events.trigger(q,"ready",a.cobrowse);T()}function u(){P("_visitorApiReady()");B=j(W.namespace,o);B.removeDefaultFlow();g(B);x(H,function(e){e(B)});H=[]}function f(){P("_addLpTagListeners()");x(Z,s.events.unbind,s.events);Z=[s.events.bind({appName:G,eventName:"cobrowseOffered",func:p}),s.events.bind({appName:G,eventName:"cobrowseAccepted",func:d}),s.events.bind({appName:G,eventName:"cobrowseDeclined",func:m}),s.events.bind({appName:G,eventName:"state",func:I}),s.events.bind({appName:K,eventName:"cobrowseOffered",func:p}),s.events.bind({appName:K,eventName:"cobrowseAccepted",func:d}),s.events.bind({appName:K,eventName:"cobrowseDeclined",func:m})]}function g(e){P("_addSynchroniteListeners()");x(X,function(e){e.remove()});X=[e.on("sessionAccepted",function(){e.removeDefaultFlow();P("sessionAccepted")}),e.on("sessionStart",S)]}function p(e){P("_handleOffered "+(e?JSON.stringify(e):"no event param"));z=!1;J=e.mode;var n=e.serviceId||e.ssid||t.getSessionId();A(e).then(function(t){e.serviceId=n;t.removeDefaultFlow();t.emit("sessionOffered",e)})}function d(e){if(z)P("Chat already ended");else{e&&(e.context="LIVEENGAGE");v(e)}}function v(e){e.svid=e.svid||t.getVisitorId();e.ssid=e.ssid||t.getSessionId();var n=e.serviceId||e.svid||e.ssid||t.getSessionId();A(e).then(function(t){P("_handleAccepted "+(e?JSON.stringify(e):"no event param"));e.channelSegment=e.agentId+"";e.serviceId=n;e.visitorAlias=w(e);e.mode=J;e.type=b(J);t.acceptSupportOffer(e,!0)})}function m(e){if(z)P("Chat already ended");else{P("_handleDeclined "+(e?JSON.stringify(e):"no event param"));var n=e.serviceId||e.svid||e.ssid||t.getSessionId();A(e).then(function(t){var i=JSON.parse(JSON.stringify(e));i.channelSegment=i.agentId+"";i.serviceId=n;i.visitorAlias=w(i);t.removeDefaultFlow();t.cancelSupportOffer(i)})}}function S(e){P("_handleStart() - "+JSON.stringify(e));s.events.trigger(q,"start",a.cobrowse);B.visitorInfo.connectedAgentAlias=null;B.visitorInfo.clearServiceID();if("VOICE_CALL"===J||"VIDEO_CALL"===J){window.callConfig={ticket:e.ticket,mode:J,isAgent:!1,sid:e.sid,username:e.visitorName,comet:B.getComet()};L(V(W.tenantId)+"/js/synchronite/call/run.js?cacheBust="+encodeURIComponent(M))}else{window.proxylessConfig={ticket:e.ticket,master:!0,sid:e.sid,username:e.visitorName,comet:B.getComet()};L(V(W.tenantId)+"/js/synchronite/proxyless/run.js?cacheBust="+encodeURIComponent(M))}B.cometCleanUp()}function I(e){P("_handleChatState() - "+JSON.stringify(e));if("ended"===e.state){z=!0;o.proxyless&&o.proxyless.endSession&&o.proxyless.endSession()}}function y(e){var n=t.getVisitorId(),i=w();A().then(function(t){e=e||function(e){P("ServiceId set: "+e)};t.visitorInfo.setFullname(i);t.createServiceId(n,e)})}function N(){var e=t.getVisitorId(),n=w(),i={agentServiceId:e,fullname:n};P("_requestCobrowse "+JSON.stringify(i));A(event).then(function(e){e.requestSupport(i,function(e){P(e?"REQUESTEDSUPPORT SUCCESS ":"REQUESTEDSUPPORT FAILED - SERVICE ID UNKNOWN")})})}function h(){var e=s.url;window.proxyless&&window.proxyless.newPage&&window.proxyless.newPage(e)}function C(){var e=W.site;if(!e){e=t.getRedirectedSiteId(o);if(e)return e;e=o.lpMTagConfig&&o.lpMTagConfig.lpNumber;if(e)return e;e=o.lpTag&&o.lpTag.site;if(e)return e}e||o.lp&&o.lp.urlParams&&o.urlParams.lpnumber&&(e=o.urlParams.lpnumber);return e}function b(e){return"VOICE_CALL"===e||"VIDEO_CALL"===e?"call":"cobrowse"}function w(e){return e&&e.visitorName?e.visitorName:o.lp&&o.lp.chatApi&&o.lp.chatApi.getVisitorName?o.lp.chatApi.getVisitorName():"Visitor"}function A(e){P("_loadVisitorApi()");e=e||{};if(!B){var t=e.siteId||C();W.tenantId=t;W.readyCallback=u;o.synchroniteConfig=U(o.synchroniteConfig||{},W);L(V(t)+"/js/synchronite/integration.js?cacheBust="+encodeURIComponent(M),"cobrowse-integration")}return{then:function(e){e&&(B?e(B):H.push(e))}}}function T(){_(function(){R(function(e){F("Active Session "+e,"INFO");e&&s.taglets.lpSecureStorage.getValue({site:C(),app:Y,appName:"cobrowse",key:"s.type",domain:k,success:function(e){F("Type from storage "+e,"INFO");"voice"===e||"video"===e?O():E()},error:function(){E()}})})})}function E(){L(V(C())+"/js/synchronite/proxyless/run.js?cacheBust="+encodeURIComponent(M))}function O(){L(V(C())+"/js/synchronite/call/run.js?cacheBust="+encodeURIComponent(M))}function _(e){if(o.lpTag&&o.lpTag.taglets&&o.lpTag.taglets.lpSecureStorage){F("Configure secure storage","INFO");var t=o.lpTag.taglets.lpSecureStorage,n=o.lpTag.getDomain("leCdnDomain");k="https://"+n+"/le_secure_storage/"+(t.v?t.v+"/":"");o.proxyless=o.proxyless||{};o.proxyless.useCdn=!0;var i={url:k,app:Y,site:C(),initialStorageType:"sessionStorage",chosenStorageHandler:e};F("secure storage config "+JSON.stringify(i),"INFO");var r="function"==typeof s.getEnv&&s.getEnv();r&&(i.env=r);try{s.taglets.lpSecureStorage.configure({conf:i,error:function(e){F("Error initializing secure storage: "+e,"ERROR")},success:e})}catch(a){F("Error initializing secure storage: "+a,"ERROR")}}}function R(t){F("app and domain "+Y+" "+k,"INFO");s.taglets.lpSecureStorage.getValue({site:C(),app:Y,appName:"cobrowse",key:"s.tid",domain:k,success:t,error:function(){F("Error getting value from secure storage: "+e,"ERROR")}})}function D(){var e="coBrowse",t=W.domain;return!t&&o.lpTag&&o.lpTag.csds?o.lpTag.csds.getDomain(e):!t&&o.lp&&o.lp.CSDSList?o.lp.CSDSList[e]:t}function V(e,t){e=e||C();t=t||D();return"https://"+e+"."+t}function F(e,t){o.lpTag&&o.lpTag.log&&o.lpTag.log(e,t,q+" taglet")}function P(e){F(e,"INFO")}function L(e,t){if(!t||!r.getElementById(t)){var n=r.createElement("script");n.setAttribute("type","text/javascript");n.setAttribute("charset","UTF-8");n.setAttribute("src",e);t&&n.setAttribute("id",t);var i=r.body||r.getElementsByTagName("body")[0];i.appendChild(n)}}function x(e,t,n){var i=0,o=e&&e.length||0;o&&"string"==typeof e&&(e=e.split(""));if(n)for(;o>i;++i)t.call(n,e[i],i,e);else for(;o>i;++i)t(e[i],i,e)}function U(e,t){if(!e||!t)return e;for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function j(e,t){t=t||o;"string"==typeof e&&(e=e.split("."));var n=t;if(e&&e.length)for(var r=0;r<e.length;r++){if("undefined"==typeof n[e[r]])return i;n=n[e[r]]}return n}var k,B,J,M="3.2.0.0",q="cobrowse",G="lpUnifiedWindow",K="lpCoBrowse",Y="cobrowse",z=!1,Q={debugEvents:!1,autoloadApi:!1,namespace:"lpTag.cobrowse.visitorApi",cobrowseEngine:"proxyless",chatEnabled:!1,skipVisitorConfirmation:!0,visitorNameRequired:!1,checkAgentAvailability:!1,customFlow:!0,realtimeTracking:!1},W={},H=[],Z=[],X=[];return{v:M,name:q,init:c,start:l,config:W,loadApi:function(e){A().then(e)},onBeforeNavigation:function(){h()},includes:[{name:"lp_global_utils"},{name:"lpSecureStorage"}],inspect:function(){return{_setServiceId:y,_requestCobrowse:N,config:W}},accept:function(e){v(e)},testEvent:function(e){o.lpTag.events.trigger(G,e,{svid:t.getVisitorId(),visitorName:w()})}}}()}(t);n=i;i=i}();}catch(e){lpTag.handleGeneralError("cobrowse",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.scraper=lpTag.taglets.scraper||function(){function e(e){if(e)for(var a=0;a<e.length;a++)"object"==typeof e[a]&&(m[e[a].id]=e[a].value)}function a(){lpTag.taglets.jsonp.issueCall({url:lpTag.protocol+"//"+lpTag.csds.getDomain(T.ACCDN)+"/api/account/"+lpTag.site+"/configuration/le-campaigns/zones?fields=id&fields=zoneValue",callbackName:"lpZonesStaticCB",success:function(e){E=e;lpTag.events.trigger("SCRAPER","ZONES_LOADED",E);s()},error:function(){lpTag.log("Loading elements list for scraper failed","ERROR","SCRAPER")}})}function n(){i()}function t(){s()}function r(e){for(var a=0;a<E.length;a++)if(E[a].id===e)return E[a].zoneValue;return null}function l(e,a,n){for(var t=0;t<E.length;t++)if(E[t].id===e){E[t].queuedSpecializedScrapes||(E[t].queuedSpecializedScrapes=[]);E[t].queuedSpecializedScrapes.push({specialization:a,callback:n})}}function c(){return{config:m,zones:E}}function i(){for(var e=0;e<E.length;e++)E[e].scraped=!1}function s(){var e=u();o(e);lpTag.isDom||setTimeout(s,m.scrapeInterval)}function u(){for(var e=[],a=0;a<E.length;a++){var n=!1;if(E[a].queuedSpecializedScrapes&&E[a].queuedSpecializedScrapes.length>0){for(var t=0;t<E[a].queuedSpecializedScrapes.length;t++){var r=E[a].queuedSpecializedScrapes[t],l=p(r.specialization,E[a]);l&&l.length>0&&(n=!0);r.callback&&r.callback(l,r.specialization,E[a])}E[a].queuedSpecializedScrapes=[]}if(!E[a].scraped){var c=document.getElementById(E[a].zoneValue);if(null!=c||n&&E[a].zoneType===A.EMBEDDED){E[a].scraped=!0;e.push({type:"pagediv",divId:E[a].zoneValue})}}}return e}function o(e){if(e.length>0){lpTag.log("zones: "+JSON.stringify(e),"DEBUG","SCRAPER");lpTag.sdes.send(e,function(){lpTag.log("scraper::_send::lpTag.sdes.send success for: "+e.toString(),"DEBUG","SCRAPER")})}}function p(e,a){var n=g(e,a),t=[];n&&(t=d(e.scrapeType,n));return t}function g(e,a){return e.scrapeValueType==v.ZONEVALUE?a.zoneValue:e.scrapeValue}function d(e,a){switch(e){case z.CLASS:return document.getElementsByClassName(a);case z.ATTRIBUTE:var n="["+a+"]";return document.querySelectorAll(n);case z.ID:return document.getElementById(a);case z.NAME:return document.getElementsByName(a);case z.TAG:return document.getElementsByTagName(a)}return[]}var f="0.4.0",S="scraper",T={ACCDN:"acCdnDomain"},E=[],m={scrapeInterval:50},z={CLASS:"class",ATTRIBUTE:"attribute",ID:"id",TAG:"tag",NAME:"name"},v={ZONEVALUE:"zoneValue",CUSTOM:"custom"},A={EMBEDDED:0};return{v:f,name:S,init:e,start:a,reinit:n,restart:t,getElmId:r,queueSpecializedScrape:l,inspect:c}}();}catch(e){lpTag.handleGeneralError("scraper",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lpActivityMonitor=lpTag.taglets.lpActivityMonitor||function(){function t(t){lpTag.sdes=lpTag.sdes||[];f(t);s(v)}function e(){c("Starting activity tracking");S=!0;O=setTimeout(E,A.timeout)}function n(){c("Called Stop");if(O){clearTimeout(O);S=!1;p("Stopped activity tracking")}T()}function i(t){c("Called push with type="+t);t&&"number"==typeof t?lpTag.sdes.push({type:A.sdeType,input:t}):r("Did not push sde since type is not a number type="+t,"ERROR")}function o(t){c("Called Reinit");u();f(t);v()}function u(){D=0;U=N.UNDEFINED}function a(){return S}function r(t,e){window.lpTag&&lpTag.log&&lpTag.log(t,e,h)}function c(t){r(t,"DEBUG")}function p(t){r(t,"INFO")}function l(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return t}}function s(t){return setTimeout(t,0)}function f(t){if(t)for(var e=0;e<t.length;e++){var n=t[e].value;"string"==typeof n&&""!==n&&("["===n.charAt(0)||"{"===n.charAt(0))&&("undefined"!=typeof JSON&&JSON.parse?n=JSON.parse(n):r("unable to parse JSON, no JSON object on page ","ERROR"));A[t[e].id]=n}else p("No cfg were given on init")}function m(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)}function d(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&t.detachEvent("on"+e,n)}function g(t){y&&clearTimeout(y);var e=t.type;y=s(function(){if(I[e]){U=I[e].input;D=(new Date).getTime()}})}function v(){if(!R)for(var t in I)I.hasOwnProperty(t)&&m(I[t].elem,t,g);R=!0}function T(){if(R)for(var t in I)I.hasOwnProperty(t)&&d(I[t].elem,t,g);R=!1}function E(){var t=(new Date).getTime()-D;if(0!==D&&t<=A.timeout){lpTag.events.trigger(h,"ACTIVITY_MONITORED",{inputType:U,time:D});i(U)}O&&clearTimeout(O);O=setTimeout(E,A.timeout)}var O,y,w="2.33.0",h="lpActivityMonitor",S=!1,N={UNDEFINED:0,MOUSE:1,KEYBOARD:2,TOUCH:3,FOCUS:4},D=0,U=N.UNDEFINED,A={timeout:6e4,sdeType:"tabActive"},R=!1,I={click:{elem:document,input:N.MOUSE},mousemove:{elem:document,input:N.MOUSE},wheel:{elem:document,input:N.MOUSE},scroll:{elem:window,input:N.MOUSE},keydown:{elem:document,input:N.KEYBOARD},touchmove:{elem:document,input:N.TOUCH},focus:{elem:window,input:N.FOCUS}};return{v:w,name:h,init:t,start:e,reinit:o,restart:e,stop:n,push:i,reset:u,isActive:a,inputType:N,inspect:function(){return{conf:l(A),lastActivityTime:D,lastInputType:U,intervalId:O}}}}();}catch(e){lpTag.handleGeneralError("lpActivityMonitor",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.rendererStub=lpTag.taglets.rendererStub||function(){function e(e){lpTag.log("rendererStub init called","DEBUG","LP_OFFER");se=lpTag.taglets.lpUtil;oe(e);V()&&n()}function n(){lpTag.events.bind("LE_ENGAGER","SHOW",d);lpTag.events.bind("lpUnifiedWindow","state",y);lpTag.events.bind("LE_ENGAGER","CHAT",m);lpTag.events.bind("LE_ENGAGER","MESSAGING",T);lpTag.events.bind("LE_ENGAGER","SURVEY",E);lpTag.events.bind("LE_ENGAGER","OPEN",p);lpTag.events.bind("LP_OFFERS","OFFER_REMOVE",f);lpTag.events.bind("lpUnifiedWindow","STORAGE_SELECTED",ee)}function t(e){e=e||{};c(e)}function a(e){var n={};if(ye.ids[e]&&ye.ids[e].engData){n=JSON.parse(z(ye.ids[e].engData));n.engagementId=e}return n}function i(e){var n={engagementId:e,state:0,desc:"NA"};if(ye.ids[e]&&ye.ids[e].engData&&"undefined"!=typeof ye.ids[e].engData.state&&"undefined"!=typeof pe[ye.ids[e].engData.state]){n.state=ye.ids[e].engData.state;n.desc=pe[n.state]}return n}function o(e,n,t){var a={},i=e.engagementWindowId||e.windowId||n.windowId;a.site=lpTag.site;a.scid=e.contextId;a.cid=e.campaignId;a.eid=e.engagementId;a.ename=e.engagementName;a.target=t&&t.target||(Ie+lpTag.site).replace(/[^a-z0-9]/gi,"_");a.params=t&&t.params||Fe;a.svid=lpTag.taglets.lp_monitoringSDK.getVid();a.ssid=lpTag.taglets.lp_monitoringSDK.getSid();a.ssuid=lpTag.taglets.lp_monitoringSDK.getSidPrefix();a.isPopOut="boolean"==typeof n.isPopOut||"true"===n.isPopOut?!!n.isPopOut:!1;a.env=t&&t.env||"function"==typeof lpTag.getEnv&&lpTag.getEnv();a.offlineSurveyId=e.offlineSurveyId;a.async=e.conversationType===Ce.MESSAGING||n.conversationType===Ce.MESSAGING;a.allowUnauthMsg=n.allowUnauthMsg;a.identityData=ge=n.identityData;(e.connector||n.connector)&&(a.connector=lpTag.taglets.lpUtil.cloneExtend(e.connector||{},n.connector||{}));n.skillName&&(a.skill=n.skillName);n.skillId&&(a.skillId=n.skillId);i&&(a.lewid=i);n.language&&(a.lang=n.language);(e.forceOffline===!0||e.state===we.OFFLINE||e.state===we.BUSY&&n.availabilityPolicy===_e.OFFLINE)&&(a.isOffline=!0);if(e.redirect){a.redirect=e.redirect;a.isPopOut=!0}e.ssoKey&&(a.ssoKey=e.ssoKey);e.minimiseOnStart&&(a.minimiseOnStart=!0);e.preChatLines&&(a.preChatLines=e.preChatLines);e.queuePriority&&(a.queuePriority=e.queuePriority);(n.availabilityPolicy===_e.OFFLINE||n.availabilityPolicy===_e.CHAT)&&(a.availabilityPolicy=n.availabilityPolicy);e[Ne]&&(a[Ne]=e[Ne]);e.windowConf&&(a.windowConf=e.windowConf);ae()&&(a.accountSettings=re);if(n.externalTargets&&n.externalTargets.length){a.externalTargets={};n.externalTargets.forEach(function(e){a.externalTargets[e.deflectionTarget]={brandIdentifier:e.brandIdentifier};a.externalTargets[e.deflectionTarget].deflectionTargetProperties=r(e.deflectionTargetProperties)})}e.multiChannelEngagementSelection&&j(e.multiChannelEngagementSelection,a);lpTag.events.trigger("RENDERER_STUB","ENGAGEMENT_CONFIGURATION_CREATED",{engConf:a,data:e,config:n,channel:t});return a}function g(e,n){var t=!1;if(ye.ids[e]&&"function"==typeof ye.ids[e].offerClick){t=!0;n=n||{};l(n)&&(ye.ids[e].engData.preChatLines=n.preChatLines);ye.ids[e].offerClick()}return t}function r(e){var n={};"string"==typeof e&&e.split(",").forEach(function(e){if(e){var t=e.split(":");2===t.length&&t[0]&&t[1]&&(n[t[0]]="true"===t[1]||"false"===t[1]?"true"===t[1]:isNaN(t[1])?t[1]:Number(t[1]))}});return n}function l(e){function n(e){return"string"==typeof e}return e&&e.preChatLines&&Array.isArray(e.preChatLines)&&e.preChatLines.every(n)}function s(e,n){var t;if(e&&n&&n.length)for(var a=0;a<n.length;a++){t=n[a];e[t]=null;delete e[t]}}function c(e){var n,t=[],a=e.idsToKeep||{},i=e.divIdsToKeep||{};for(var o in i)if(i.hasOwnProperty(o)&&ye.divIds.hasOwnProperty(o)){n=ye.divIds[o];a[n]=!0}for(var g in ye.ids)if(ye.ids.hasOwnProperty(g)&&!a[g]){try{ye.ids[g].cleanupOffer({silent:!0})}catch(r){lpTag.log("Failed to remove engagement, might have been removed already. ex="+r.message,"DEBUG","LP_OFFER")}t.push(g)}s(ye.ids,t);Ee={};De={}}function f(e){var n=e.engagementId;if(n&&ye.ids[n]){ye.ids[n]=null;delete ye.ids[n]}}function d(e){if(X(e)){lpTag.log("rendererStub received new smt msg. {id:"+e.engagementId+" ,type:"+e.engagementType+",revision:"+e.engagementRevision+",campaignId "+e.campaignId+"}","DEBUG","LP_OFFER");e[Ne]=Oe.SHOW;if("undefined"!=typeof e.controlGroup&&e.controlGroup)v(e);else{J(e);e.customTaglet&&N(e);O(e,b(e).files);F(e);R(e)}}}function p(e){if("object"==typeof e){e[Ne]=Oe.OPEN;e.conversationType=me.MESSAGING;e.minimiseOnStart=!0;R(e);X(e)?F(e,function(n){k(n);n.confKey=Q(e);e.confKey=Q(e);Ee[e.confKey]=n;M(n)?B(e):u(n)}):u(e)}}function u(e){e.tglName="conversationInitiator";R(e);if(X(e))F(e,O(e,e.tglName));else{if(!e.windowConf)if(e.windowId){e.confKey=e.confKey||e.windowId;ne(e,U)}else{e.confKey=e.tglName;De[e.confKey]={}}O(e,e.tglName)}}function T(e){X(e)&&e.state===we.OFFLINE&&"offsite"===de[e.engagementType]?L(e,"messaging"):u(e)}function m(e){X(e)&&e.state===we.OFFLINE&&"offsite"===de[e.engagementType]?L(e,"chat"):u(e)}function E(e){e.forceOffline=!0;u(e)}function y(e){lpTag.log("rendererStub received hide engagements event.","DEBUG","LP_OFFER");e&&"chatting"===e.state&&lpTag.events.trigger("LP_OFFERS","HIDE")}function v(e){lpTag.log("rendererStub::controlGroup is true for campaignID: "+e.campaignId+" - engagementId: "+e.engagementId,"DEBUG","LP_OFFER");var n=[{type:"impDisplay",campaign:e.campaignId,engId:e.engagementId,revision:e.engagementRevision,eContext:[{type:"engagementContext",id:e.contextId}]}];lpTag.sdes.send(n,function(){lpTag.log("rendererStub:::impression event send for "+e.campaignId+" - engagementId: "+e.engagementId,"DEBUG","LP_OFFER")});lpTag.events.trigger("LP_OFFERS","CONTROL_GROUP",e)}function O(e,n){lpTag.log("_loadTaglet called with url: "+JSON.stringify(e),"DEBUG","LP_OFFER");var t=!1,a={},i=lpTag.protocol+"//"+lpTag.csds.getDomain(ue.LPCDN)+"/le_re/";ce&&(i+=ce+"/");i+="jsv2/";if(n){n=Array.isArray(n)?n:[n];for(var o=0;o<n.length;o++)if("string"==typeof n[o]&&!lpTag.taglets[n[o]]){a[n[o]]=i+n[o]+".js?_v="+ce;t=!0}}t?lpTag.taglets.jsLoader.loadJS({loadObj:a,success:S(e),error:I(e)}):U(e)}function N(e){lpTag.log("_loadCustomTaglet called with url: "+JSON.stringify(e),"DEBUG","LP_OFFER");lpTag.taglets[e.tglName]?U(e):"function"==typeof lpTag.loadTaglet&&lpTag.loadTaglet({name:e.tglName,success:S(e),error:I(e)})}function S(e){return function(){lpTag.log("_loadTagletSuccess taglet not exist, isReady: "+D(e),"DEBUG","LP_OFFER");U(e)}}function I(e){return function(n){lpTag.log("Loading taglet: "+e.tglName+" failed. Error: "+JSON.stringify(n),"ERROR","LP_OFFER")}}function F(e,n){var t=lpTag.protocol+"//"+lpTag.csds.getDomain(ue.ACCDN)+"/api/account/"+lpTag.site+"/configuration/le-campaigns/campaigns/"+e.campaignId+"/engagements/"+e.engagementId+"/revision/"+e.engagementRevision+"?v="+he;lpTag.log("_loadEngagementConfig called with url: "+t+" msg: "+JSON.stringify(e),"DEBUG","LP_OFFER");e.confKey=e.confKey?e.confKey:Q(e);Ee[e.confKey]?U(e):lpTag.taglets.jsonp.issueCall({url:t,data:{flavor:"dependency"},callbackName:"lp"+e.engagementId,success:function(t){if(Z(t)&&$(t)){lpTag.log("Engagement "+e.engagementId+" loaded","DEBUG","LP_OFFER");t.identityData=e.identityData;Ee[e.confKey]=t;if("function"==typeof n){t.confKey=e.confKey?e.confKey:Q(e);ne(t,n)}else{e.windowId=t.windowId;ne(e,U);lpTag.log("_loadEngagementConfig conf not exist, isReady: "+D(e),"DEBUG","LP_OFFER")}}},error:function(){lpTag.log("Loading engagement: "+e.engagementId+"   failed.  id : ","ERROR","LP_OFFER")}})}function R(e){var n=lpTag.protocol+"//"+lpTag.csds.getDomain(ue.ACCDN)+"/api/account/"+lpTag.site+"/configuration/setting/accountproperties/",t=A(),a=function(n){_(n,!1,e)},i=function(){h(!1,e)};lpTag.log("_loadSiteSettings called with url: "+n,"DEBUG","LP_OFFER");ae||(re=[]);if(re||t)if(!re&&t){lpTag.log("_loadSiteSettings - Account settings network call already in progress"+n,"DEBUG","LP_OFFER");C(e)}else U(e);else{w();lpTag.taglets.jsonp.issueCall({url:n,timeout:5e3,retries:0,callbackName:"accountSettingsCB",success:a,error:i})}}function w(){lpTag.events.trigger({appName:"*",eventName:"requestedAccountSettings",data:{}})}function C(e){var n=lpTag.events.hasFired("*","receivedAccountSettings"),t=lpTag.events.hasFired("*","receivedAccountSettingsFailed"),a=function(n){_(n,!1,e)},i=function(){h(!1,e)};a.bind(this);i.bind(this);n.length<1?lpTag.events.once({appName:"*",eventName:"receivedAccountSettings",func:a}):_(n[0].data,!1,e);t.length<1?lpTag.events.once({appName:"*",eventName:"receivedAccountSettingsFailed",func:i}):h(!1,e)}function _(e,n,t){if(e&&Array.isArray(e)&&!e.error){lpTag.log("_loadSiteSettings - got configuration: "+JSON.stringify(e),"DEBUG","LP_OFFER");re=e}else{lpTag.log("_loadSiteSettings - NO CONFIGURATION FOUND","DEBUG","LP_OFFER");re=[]}n&&lpTag.events.trigger({appName:"*",eventName:"receivedAccountSettings",data:e});U(t)}function h(e,n){lpTag.log("Loading siteSettings: "+lpTag.site+"   failed.  id : ","ERROR","LP_OFFER");re=[];U(n);e&&lpTag.events.trigger({appName:"*",eventName:"receivedAccountSettingsFailed",data:{}})}function A(){return lpTag.events.hasFired("*","requestedAccountSettings").length>0}function L(e,n){var t=lpTag.protocol+"//"+lpTag.csds.getDomain(ue.ACCDN)+"/api/account/"+lpTag.site+"/configuration/setting/accountproperties/";if(!le){le=[];lpTag.log("_loadSiteSettingsForOffsite called with url: "+t,"DEBUG","LP_OFFER");lpTag.taglets.jsonp.issueCall({url:t,timeout:5e3,retries:0,success:function(t){var a="le.campaign.offsite.campaignNotApplicable.redirectURL",i="le.campaign.offsite.messaging.campaignNotApplicable.redirectURL";if(t&&Array.isArray(t)&&!t.error){lpTag.log("_loadSiteSettingsForOffsite - offsite engagement got configuration: "+JSON.stringify(t),"DEBUG","LP_OFFER");le=t;var o="chat"===n?a:i,g=ie(o,le);g?window.location.href=g:"chat"===n&&u(e)}else lpTag.log("_loadSiteSettingsForOffsite - NO CONFIGURATION FOUND","DEBUG","LP_OFFER")},error:function(){lpTag.log("Loading siteSettings for offsite: "+lpTag.site+"   failed.  id : ","ERROR","LP_OFFER");le=null}})}}function D(e){return!(!lpTag.taglets[e.tglName]||!G(e)||e.instantiated||!Ee[e.confKey]&&"conversationInitiator"!==e.tglName||!De[e.confKey])&&re}function G(e){for(var n=b(e).taglets||[],t=!0,a=0;a<n.length;a++)if(!lpTag.taglets[n[a]]){t=!1;break}return t}function b(e){var n=e.customTaglet?"customTaglet":e.tglName;return ve[n]&&ve[n]||{}}function U(e){if(!lpTag.taglets.lpUnifiedWindow||Ae){lpTag.log("_execTaglet, is ready:"+D(e)+" msg: "+JSON.stringify(e),"DEBUG","LP_OFFER");var n;if(D(e)){lpTag.log("taglet "+e.tglName+" executed by rendererStub at: "+(new Date).getTime()+"(number of milliseconds since 1970/01/01)","DEBUG","LP_OFFER");e.instantiated=!0;n=P(e);n&&x(e)}}else Le.push(e)}function P(e){var n=!0;e.engagementId&&ye.ids[e.engagementId]&&(n=K(e,e.engagementId,ye.ids));return n}function K(e,n,t){var a,i=!0;if(e.confKey!==t[n].engData.confKey||e.state!==t[n].activeState.type){a=t[n]||{};e.prevState=a.engData&&a.engData.state;a.cleanupOffer({silent:!0});s(t,[n])}else{t[n].setContextId(e.contextId);i=!1}return i}function B(e){var n=Y(Ee[e.confKey]),t=Y(e),a={configuration:n.windowConf.json.externalConfiguration,args:o(t,n),errorCallback:function(){lpTag.log("Error while opening an external channel")}};try{lpTag.taglets.lpUtil.runCallbackByObject(a.configuration,a.args,a.errorCallback)}catch(i){lpTag.log("Exception while opening an external channel: "+i.message)}}function x(e,n){var t,a,i=Y(Ee[e.confKey]);if(e.customTaglet){a=new lpTag.taglets.baseOffer;a.init(Y(e),i)}try{if(n&&n.ssoKey){e.ssoKey=n.ssoKey;e.redirect_uri=n.redirect_uri||Re}var o=Y(e);lpTag.events.trigger("RENDERER_STUB","BEFORE_CREATE_ENGAGEMENT_INSTANCE",{msg:o,conf:i,api:a});o.skipRendererStubInstantiation||(t=lpTag.taglets[e.tglName].createInstance(o,i,a));lpTag.events.trigger("RENDERER_STUB","AFTER_CREATE_ENGAGEMENT_INSTANCE",{msg:o,conf:i,api:a,eng:t})}catch(g){lpTag.log("Failed to create engagement instance. ex="+g.message,"ERROR","LP_OFFER")}if(t&&"function"==typeof t.cleanupOffer){ye.ids[e.engagementId]=t;t.parentContainer&&(ye.divIds[t.parentContainer]=e.engagementId)}}function M(e){return e.windowConf&&e.windowConf.type===Se&&e.windowConf.json.externalConfiguration?!0:!1}function J(e){e.confKey=Q(e);e.customTaglet=W(e);var n="";de[e.engagementType]&&(n=de[e.engagementType]);e.tglName=e.customTaglet?e.tglName:n}function k(e){e&&"undefined"==typeof e.engagementId&&(e.engagementId=e.id)}function W(e){return e.renderingType===Te.TAGLET}function j(e,n){switch(e){case be.WEB_TO_SMS:H(n);break;case be.WEB:case be.MESSAGING:q(n)}}function H(e){e.async=!0}function q(e){delete e.externalTargets[Ge.SMS];e.async=!0}function V(){var e=navigator.userAgent;e=e.toLowerCase();var n=/(msie) ([\w.]+)/,t=n.exec(e);if(null!=t){var a=parseInt(t[2],10);if(10>=a)return!1}return!0}function Y(e){return e&&JSON.parse(z(e))}function z(e){var n;if("function"==typeof Array.prototype.toJSON){var t=Array.prototype.toJSON;delete Array.prototype.toJSON;try{n=JSON.stringify(e)}catch(a){Array.prototype.toJSON=t;throw a}Array.prototype.toJSON=t}else n=JSON.stringify(e);return n}function Q(e){return e&&e.campaignId+"_"+e.engagementId+"_"+e.engagementRevision}function X(e){if(e&&e.campaignId&&e.engagementId&&e.engagementRevision)return!0;lpTag.log("Missing engagement parameters: campaignId, engagementId, engagementRevision; "+JSON.stringify(e),"ERROR",fe);return void 0}function Z(e){if("object"==typeof e&&!e.error)return!0;lpTag.log("Error in engagement config: "+JSON.stringify(e),"ERROR",fe);return void 0}function $(e){return!e.allowUnauthMsg||e.allowUnauthMsg&&lpTag&&lpTag.taglets&&lpTag.taglets.unAuthMessaging}function ee(){Ae=!0;Le.forEach(U);Le=[]}function ne(e,n){var t;lpTag.log("_getConfiguration",e.windowId);var a=Ue.enableToRequestDefaultWinConfig,i="/"+e.windowId;!e.windowId&&a&&(i="-default");if(e.windowId||a){t="https://"+lpTag.csds.getDomain(ue.ACCDN)+"/api/account/"+lpTag.site+"/configuration/engagement-window/window-confs"+i;lpTag.taglets.jsonp.issueCall({url:t,timeout:5e3,retries:0,success:function(t){var i;if(!e.windowId&&a&&t&&t.length){i=t.filter(function(e){return!!e.isUserDefault});t=i.length>0?i[0]:t[0]}if(t&&t.json&&!t.error){lpTag.log("_getWindowConfiguration: got configuration: "+JSON.stringify(t.name),"INFO",fe);var o=t.json;o&&(o.isTemplate=!!t.templateId);e.windowConf=e.windowConf?lpTag.taglets.lpUtil.cloneExtend(e.windowConf,o):o;De[e.confKey]=o}else{lpTag.log("_getWindowConfiguration: NO CONFIGURATION FOUND","INFO",fe);De[e.confKey]={}}n(e)},error:function(t){lpTag.log("Error in getting window config: "+JSON.stringify(t),"ERROR",fe);De[e.confKey]={};n(e)}})}else{lpTag.log("_getWindowConfiguration: No windowId provided, fallback to default configuration","INFO",fe);De[e.confKey]={};n(e)}}function te(){return ge}function ae(){return lpTag.unifiedWindow&&lpTag.unifiedWindow.staticConfig&&lpTag.unifiedWindow.staticConfig.passSiteSettings}function ie(e,n){for(var t=0;t<n.length;t++)if(n[t].id===e)return n[t].propertyValue.value;return null}function oe(e){if(e&&e.constructor===Array)try{se.convertConfig(e,Ue)}catch(n){lpTag.log.error("Failed to parse taglet configuration",name)}else e&&(Ue=se.cloneExtend(Ue,e,!0))}var ge,re,le,se,ce="3.52.0.0-release_5108",fe="rendererStub",de={0:"peeling",1:"overlay",2:"toaster",3:"slider",5:"overlay",6:"overlay",7:"offsite"},pe={0:"na",1:"online",2:"offline"},ue={CHAT:"CHAT",ACCDN:"acCdnDomain",LPCDN:"leCdnDomain"},Te={INTERNAL:0,HTML:1,TAGLET:2},me={LIVE_CHAT:0,MESSAGING:1},Ee={},ye={ids:{},divIds:{}},ve={peeling:{files:["peeling","UISuite"],taglets:["peeling","baseOffer","baseUIOffer"]},overlay:{files:["overlay","UISuite"],taglets:["overlay","baseOffer","baseUIOffer"]},toaster:{files:["toaster","UISuite"],taglets:["toaster","baseOffer","baseUIOffer"]},slider:{files:["slider","UISuite"],taglets:["slider","baseOffer","baseUIOffer"]},customTaglet:{files:["baseOffer"],taglets:["baseOffer"]},conversationInitiator:{taglets:["baseOffer"]}},Oe={OPEN:"OPEN",SHOW:"SHOW"},Ne="eventName",Se="external app",Ie="LiveEngageChat_",Fe="height=650,width=330,menubar=no,resizable=no",Re="https://liveperson.net",we={BUSY:4,CONTENT:3,OFFLINE:2,ONLINE:1},Ce={CHAT:0,MESSAGING:1},_e={OFFLINE:0,CHAT:1},he="3.0",Ae=!1,Le=[],De={},Ge={SMS:0},be={WEB:"web",MESSAGING:"messaging",WEB_TO_SMS:"sms"},Ue={};return{_v:ce,_name:fe,init:e,onBeforeNavigation:t,getEngagementState:i,getEngagementInfo:a,getClickObject:o,click:g,getIdentity:te}}();}catch(e){lpTag.handleGeneralError("rendererStub",e);}try{window.lpTag=lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lp_version_detector=function(){function e(e,n){window.lpTag&&lpTag.log&&lpTag.log(e,n,p)}function n(n){e(n,"ERROR")}function a(n){e(n,"INFO")}function o(e,n){if("undefined"!=typeof n){if(e)for(var a=0;a<e.length;a++){var o=e[a].value;if("string"==typeof o&&""!==o)if("true"===o)o=!0;else if("false"===o)o=!1;else if("["==o.charAt(0)||"{"==o.charAt(0))try{"undefined"!=typeof JSON&&JSON.parse?o=JSON.parse(o):lpTag.log("unable to parse JSON, no JSON object on page ","ERROR",p)}catch(t){lpTag.log("unable to parse JSON:"+t,"ERROR",p)}n[e[a].id]=o}}else lpTag.log("_config is passed as undefined","ERROR",p)}function t(e){o(e,s)}function i(){s.sendUDE&&g({name:"lpTagVer",value:lpTag._v});s.sendSDE&&l({type:"lpTagVer",version:lpTag._v})}function l(e){window.lpTag.sdes=window.lpTag.sdes||[];lpTag.sdes.push(e)}function g(e){window.lpMTagConfig=window.lpMTagConfig||{};window.lpMTagConfig.pageVar=window.lpMTagConfig.pageVar||[];try{e.value=""+e.value;var o=encodeURIComponent(e.name)+"="+encodeURIComponent(e.value);lpMTagConfig.pageVar.push(o);a("Added variable scope:page name:"+e.name+" value:"+e.value)}catch(t){n("Exception in adding variable e="+t)}}var p="lp_version_detector",r="1.0.1",s={sendSDE:!1,sendUDE:!0};return{getVersion:function(){return r},getName:function(){return p},init:t,start:i,inspect:function(){return{conf:s}}}}();}catch(e){lpTag.handleGeneralError("lp_version_detector",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lp_monitoringSDK=lpTag.taglets.lp_monitoringSDK||function(){function e(e){m();be=!0;if(e)for(var n=0;n<e.length;n++){var r=e[n].value;"string"==typeof r&&""!==r&&("["===r.charAt(0)||"{"===r.charAt(0))&&("undefined"!=typeof JSON&&JSON.parse?r=JSON.parse(r):C("unable to parse JSON, no JSON object on page "));je[e[n].id]=r}else I("No cfg were given on init");je.useStorage=je.useStorage||!$e.isCookieEnabled();je.idpDomain=lpTag.getDomain("idp");je.acCdnDomain=lpTag.getDomain("acCdnDomain");_e=lpTag.taglets.postmessage;var a={frames:[{url:je.protocol+je.baseUrl+je.frameName},{url:je.protocol+je.idpDomain+je.frameName},{url:je.protocol+je.acCdnDomain+je.frameName}]};_e.configure(a);je.useSecureStorage=lpTag.features&&lpTag.features.getFeature(Be);!Ee&&je.useSecureStorage?t():i()}function t(){var e=lpTag.csds.getDomain("leCdnDomain"),t="function"==typeof lpTag.getEnv&&lpTag.getEnv(),i={debug:je.debug};we=lpTag.taglets.lpSecureStorage;je.secureStorageLocation="https://"+e+"/le_secure_storage/"+(we.v?we.v+"/":"");i[Ge]={env:t,site:je.accountId,app:Ge,asyncStorageMaxRetry:15,url:je.secureStorageLocation,chosenStorageHandler:n,firstParty:!0};we.configure(i);Ee=!0}function n(e){e&&e.error&&(je.secureStorageUnSupported=!0);i()}function i(){var e=lpTag.taglets.lpUtil&&lpTag.taglets.lpUtil.getURLParams(window.location.search).lpconnectorvid;if(e){j();U(e)}}function r(e,t){I("Called startPage onSuccess: "+e);var n={type:Ve.startPage,onSuccess:e,onError:t,isSync:!0};je.useSecureStorage?F(a.bind(this,n)):a(n)}function a(e){var t=Se(e);ze.identities(function(n){if(n&&n.length>0){t.data.identities=n;lpTag.identitiesObjects=n}if(ve){e.rid=t.rid;e.result={error:500,message:"startPage request was already sent once"};e.status=Je.err;N(e)}else fe(t);ve=!0;lpTag.events.trigger(xe,"SP_SENT")})}function o(e,t){var n;D("Called pageLoaded onSucess is: "+e);var i={type:Ve.pageLoaded,onSuccess:e,onError:t,isSync:!0};n=Se(i);if(ve&&!he)oe(n);else{i.rid=n.rid;i.result={error:500,message:"pageLoaded request was already sent once"};i.status=Je.err;N(i)}he=!0}function s(e,t){D("Called inPage onSucess is: "+e);var n={type:Ve.inPage,onSuccess:e,onError:t,isSync:!0},i=Se(n);if(ve&&he)oe(i);else{n.rid=i.rid;n.result={error:500,message:"Cannot issue inPage request when startPage and pageLoaded were not sent"};n.status=Je.err;N(n)}}function c(e,t){D("Called send, onSuccess: "+e);var n={type:Ve.updateContext,onSuccess:e,onError:t,isSync:!0};if(Ae.length>0){var i=Se(n);oe(i);return!0}return!1}function u(e){D("Called push with sdes: "+JSON.stringify(e));if("undefined"!=typeof e&&e instanceof Array)for(var t=0;t<e.length;t++)"object"==typeof e[t]&&e[t].type?Ae.push(e[t]):C("push: SDE when calling is not an Object")}function l(){var e=d();return e?e.substring(0,e.indexOf(".")):void 0}function d(){return Pe||(je.useStorage?Le.getSessionData("LPSID-"+je.accountId)||null:R("LPSID-"+je.accountId))}function g(){return Oe||(je.useStorage?Le.getSessionData("LPVID")||null:R("LPVID"))}function p(){return je.thirdPartyEnabled}function f(e,t,n){-1===e.indexOf("?")?e+="?":"&"!==e[e.length-1]&&(e+="&");t||(t="SVID");n||(n="SSID");d()&&(e+=encodeURIComponent(n)+"="+encodeURIComponent(d()));g()&&(e+="&"+encodeURIComponent(t)+"="+encodeURIComponent(g()));return e}function S(e){var t;if("function"==typeof Array.prototype.toJSON){var n=Array.prototype.toJSON;delete Array.prototype.toJSON;try{t=JSON.stringify(e)}catch(i){Array.prototype.toJSON=n;throw i}Array.prototype.toJSON=n}else t=JSON.stringify(e);return t}function m(){D("Called reset");je={thirdPartyEnabled:void 0,protocol:lpTag.protocol?lpTag.protocol+"//":0===document.location.toString().indexOf("https:")?"https://":"http://",baseUrl:lpTag.getDomain("smt"),apiPath:"/api/js",rdrPath:"/rdr",frameName:"/postmessage/postmessage.min.html",accountId:lpTag.site||{},rmSession:!1,timeout:5e4,debug:!1,shadow:!1};Ae=Ae||[];me=[];ye=void 0;qe={};ve=!1;he=!1;Te=!1;Ce=!1;De=!1;Ee=!1;Ie=0;Oe=void 0;Pe=void 0;clearTimeout(Ne);Ne=void 0;ke={count:0,max:6,timeout:10}}function y(){clearTimeout(Ne);Ne=void 0;be=!1}function v(t){D("reinit called");e(t);Fe=P()}function h(){return{conf:je,retry:ke}}function T(e,t){window.lpTag&&lpTag.log&&lpTag.log(e,t,"lp_monitoringSDK")}function C(e){T(e,"ERROR")}function D(e){T(e,"DEBUG")}function I(e){T(e,"INFO")}function O(){Ie++;return Ie}function P(){return Math.abs(Math.round(9999999999*Math.random()))}function b(e){be?lpTag.taglets.lpAjax.issueCall(e):C("Monitoring session not active, skipping request: "+JSON.stringify(e))}function E(){var e=Le.getSessionData("lpTabId");if(!e){e=P();Le.setSessionData("lpTabId",e)}return e}function N(e){var t,n=qe[e.rid],i=e.result;i&&i.body&&(i=i.body);if(n){D("Called _monitoringCb with type= "+e.type+" ,result="+JSON.stringify(i));z(i);V();G();lpTag.events.trigger({appName:xe,eventName:"DEBUG_STATUS",data:{debug:je.debug},aSync:!0});lpTag.events.trigger({appName:xe,eventName:"REQUEST_COMPLETE",data:{type:e.type,status:e.status},aSync:!0});var r=w(i,n.req);if(!r){delete i.sdkConf;ke.count=0;qe[e.rid]=null;delete qe[e.rid];t=H(i,e.status);k({success:t,result:i,cbs:n,response:e})}}else C("Failed on _monitoringCb, request id does not exist in map, rid="+e.rid)}function k(e){if(e.success){_(e.result);if(e.cbs.cOnSuccess)try{e.cbs.cOnSuccess(e.result)}catch(t){C("Failed calling client onSuccess, _monitoringCb e="+JSON.stringify(t.message))}}else if(e.cbs.cOnError)try{e.cbs.cOnError(e.result)}catch(t){C("Failed calling client onError, _monitoringCb e="+JSON.stringify(t.message))}e.response.type===Ve.startPage?de(e.success):e.response.isSync?le():pe()}function w(e,t){var n=e.sdkConf&&e.sdkConf.retry;if(n){Ne&&clearTimeout(Ne);isNaN(n.max)||(ke.max=parseInt(n.max,10));isNaN(n.timeout)||(ke.timeout=parseInt(n.timeout,10));if(ke.count<ke.max){I("retrying count="+ke.count+" max="+ke.max);ke.count++;Ne=setTimeout(function(){t.data.rc=ke.count;Q(t);b(t)},1e3*ke.timeout);return!0}C("exceeded max retries: "+ke.max+", stopping")}}function _(e){var t={};if(e.messagesToVisitor&&!je.shadow)for(var n=0;n<e.messagesToVisitor.length;n++){t=e.messagesToVisitor[n];try{lpTag.events.trigger(t.destination,t.subject,t.content)}catch(i){C("Failed on _handleMsgs when triggering dest="+t.destination+" ,subject="+t.subject+" ,content= "+t.content+" ,e="+JSON.stringify(i.message))}}}function R(e){return $e.readCookie(e)||null}function x(e,t,n,i,r){$e.writeSessionCookie(e,t,n,i,r)}function L(e,t,n){R(e)&&$e.clearCookie(e,t,n)}function V(){je.rmVisitor&&j();je.rmSession&&A();je.lpVisitorId&&U(je.lpVisitorId);je.lpSessionId&&J(je.lpSessionId);je.useSecureStorage&&Ee&&!je.secureStorageUnSupported&&q()}function J(e){Pe=e;je.useStorage?Le.setSessionData("LPSID-"+je.accountId,e):x("LPSID-"+je.accountId,e,void 0,"/",je.domain);je.lpSessionId=void 0}function U(e){Oe=e;je.useStorage?Le.setSessionData("LPVID",e):x("LPVID",e,"undefined"!=typeof je.expiration?je.expiration:31536e3,"/",je.domain);je.lpVisitorId=void 0}function A(){delete je.lpSessionId;Pe=null;Le.removeSessionData("LPSID-"+je.accountId);L("LPSID-"+je.accountId,"/",je.domain)}function j(){delete je.lpVisitorId;Oe=null;Le.removeSessionData("LPVID");L("LPVID","/",je.domain)}function q(){(Oe||Pe)&&we.setValue({key:Ke,site:je.accountId,app:Ge,value:{vid:Oe,sid:Pe},success:B,error:$,appName:xe,domain:je.secureStorageLocation,firstParty:!0})}function F(e){we.getValue({key:Ke,site:je.accountId,app:Ge,success:M.bind(this,e),error:K.bind(this,e),appName:xe,domain:je.secureStorageLocation,firstParty:!0})}function M(e,t){Oe=t&&t.vid;Pe=t&&t.sid;e()}function K(e,t){$(t);e()}function B(e){I("Setting data on secureStorage.setValue in _setDataInSecureStorage. Data = "+JSON.stringify(e))}function $(e){C("Failed on secureStorage get/setValue. Error = "+JSON.stringify(e))}function G(){var e=je.lpLastVisit;if(e){Le.setPersistentData("lpLastVisit-"+je.accountId,e);je.lpLastVisit=void 0}}function z(e){if(e.sdkConf)for(var t in e.sdkConf)je[t]=e.sdkConf[t]}function H(e,t){return t===Je.ok&&!e.error}function Q(e){var t=g();t&&(e.data.vid=t);var n=d();n&&(e.url=X(e.url,"sid",n));return e}function W(e){var t;if(e.data.t===Ve.startPage){t=Le.getPersistentData("lpLastVisit-"+je.accountId);t&&(e.data.rvt=t)}}function X(e,t,n){if(e.indexOf(t)>-1){var i=new RegExp("([?&])"+t+"=.*?(&|$)","i");return e.replace(i,"$1"+encodeURIComponent(t)+"="+encodeURIComponent(n)+"$2")}var r=encodeURIComponent(t)+"="+encodeURIComponent(n);e+=e.indexOf("?")===e.length-1?r:e.indexOf("?")>-1&&e.indexOf("?")<e.length?"&"+r:"?"+r;return e}function Y(e,t){var n="https://"+je.acCdnDomain+"/api/account/"+lpTag.site+"/configuration/le-connectors/all-connectors";lpTag.taglets.jsonp.issueCall({url:n,timeout:5e3,retries:0,success:function(t){I("_getAllConnectors - Success");e(t)},error:function(){I("_getAllConnectors - ERROR FROM SERVER");t()}})}function Z(e){var t,n="lpTag.taglets.unAuthMessaging.lpUnauthFunction",i="lpTag.taglets.unAuthMessaging";e.forEach(function(e){var r=e&&e.configuration;r&&r.jsContext!==i&&r.jsMethodName!==n&&(t={type:e.type,id:e.id})});return t}function ee(e,t){function n(e){var t,n,r=Z(e),a={};if(r){if(1===r.type){t="id_token";n="https://"+je.idpDomain+"/api/account/"+lpTag.site+"/app/"+r.id+"/authenticate?v=3.0"}else if(2===r.type){t="code";n="https://"+je.idpDomain+"/api/account/"+lpTag.site+"/app/"+r.id+"/authenticate?v=3.0"}o.forEach(function(e){var r=e;a[t]=r.tkn;var o={url:n,data:a,method:"POST",success:function(e){var t=e.body&&e.body.token;if(t){I("fetched secure identity JWT from IDP: "+r.tkn+", "+r.iss+", "+r.acr);r.tkn=t;c.push(r)}else C("no token in response from IDP for secure identity: "+r.tkn+", "+r.iss+", "+r.acr);i()},error:function(e){C("sending secure identity to IDP failed: "+r.tkn+", "+r.iss+", "+r.acr+", error: "+e);i()}};_e.issueCall(o)})}else I("undefined connector auth type")}function i(){u-=1;0>=u&&t(c)}function r(){t(c)}var a=e.filter(function(e){return!!e&&"undefined"!=typeof e.acr});lpTag.identities.safeIdentities=a.map(function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&"tkn"!==n&&(t[n]=e[n]);return t});var o=a.filter(function(e){return e.hasOwnProperty("tkn")}),s=a.filter(function(e){return!e.hasOwnProperty("tkn")}),c=[].concat(s),u=o.length;u>0?Y(n,r):t(c)}function te(e,t){function n(e){r-=1;a=a.concat(e);if(0>=r){try{for(var n=[],i=0;i<a.length;i++){for(var o=!0,s=0;s<n.length;s++)if(n[s].iss===a[i].iss&&n[s].acr===a[i].acr&&n[s].sub===a[i].sub&&n[s].account===a[i].account){o=!1;break}o&&n.push(a[i])}a=n}catch(c){}t(a)}}var i=e.filter(function(e){return"function"==typeof e}),r=i.length,a=[];r>0?i.forEach(function(e){try{e(n)}catch(t){n()}}):n()}function ne(e){D("Called _prepareRequest with params: "+JSON.stringify(e));var t,n;if(e.data)t=e.data.sdes;else{t=Ae;Ae=[]}n=re(e);Q(n);W(n);e.type===Ve.startPage&&ae(n);t=ie(t);t&&t.length>0&&(n.data.sdes=t);var i=ze.debug();i&&(n.data.dbg=i);return n}function ie(e){var t,n=Array.isArray(e)&&e.length>0;if(n&&lpTag.hooks&&lpTag.hooks.exec){t=lpTag.hooks.exec({name:Ue.BEFORE_SEND_SDE,data:{sdes:e}});e=t&&t.data&&Array.isArray(t.data.sdes)&&t.data.sdes}return e}function re(e){return{rid:e.rid,data:{t:e.type,ts:(new Date).getTime(),pid:Fe,tid:Me},method:"POST",encoding:lpTag.charset||"UTF-8",transportOrder:["jsonp","postmessage"],success:function(t){e.result=t;e.status=Je.ok;N(e)},error:function(t){e.result=t;e.status=Je.err;N(e)},url:je.protocol+je.baseUrl+je.apiPath+"/"+je.accountId+"?"}}function ae(e){e.timeout=je.timeout;var t=ze.title();t&&(e.data.pt=t);var n=ze.url();n&&(e.data.u=n);var i=ze.referrer();i&&(e.data.r=i);var r=ze.section();r&&(e.data.sec=r);lpTag.device&&lpTag.device.family&&(e.data.df=lpTag.device.family());lpTag.device&&lpTag.device.os&&(e.data.os=lpTag.device.os());var a=ze.emtVisitorId();a&&(e.data.evid=a)}function oe(e){me.push(e);ce()}function se(e,t){if(e.error)try{e.error(t)}catch(n){C("Failed calling client onError _callClientCbOnError e="+n)}}function ce(){if(!ye&&me.length>0&&Te){D("Called _processPendingSyncRequests, initiating a new sync request: "+me.length+" inProgress: "+JSON.stringify(ye));var e=me.shift();e=Q(e);ye=e;try{b(e)}catch(t){C("Failed on lpAjax.issueCall in _processPendingSyncRequests. e: "+JSON.stringify(t.message));se(e,{error:{code:"500",message:"error while issue request: "+JSON.stringify(t.message)}})}}else I("Called _processPendingSyncRequests no sync requests to initiate, pending: "+me.length+" inProgress: "+JSON.stringify(ye))}function ue(){D("Called _syncRequestFinished");ye=void 0}function le(){ge()}function de(e){D("Called _initPageCb isSuccess: "+e);e&&(Te=!0);ge()}function ge(){ue();ce()}function pe(){D("Called _asyncRequestCb");De=!1}function fe(e){ye=e;try{lpTag.taglets.lpAjax.issueCall(e)}catch(t){C("Failed on lpAjax.issueCall in _sendInitializingRequest. requestId: "+e.rid+", e="+JSON.stringify(t.message))}}function Se(e){e.rid=O();var t=ne(e);qe[e.rid]={req:t,cOnSuccess:e.onSuccess,cOnError:e.onError};return t}var me,ye,ve,he,Te,Ce,De,Ie,Oe,Pe,be,Ee,Ne,ke,we,_e,Re="2.33.0",xe="lp_monitoringSDK",Le=lpTag.storageMethods,Ve={startPage:"sp",pageLoaded:"pl",inPage:"ip",updateContext:"uc"},Je={err:"ERROR",ok:"OK"},Ue={BEFORE_SEND_SDE:"BEFORE_SEND_SDE"},Ae=[],je={},qe={},Fe=P(),Me=E(),Ke="lpsmt",Be="Common.LiveEngage_2_CrossDomainStorage",$e=lpTag.cookieMethods,Ge="monitoringSDK";lpTag.identities=lpTag.identities||[];lpTag.identitiesObjects=lpTag.identitiesObjects||[];lpTag.identitiesSupport=!0;var ze={referrer:function(){var e;document.referrer&&document.referrer.length>0&&(e=document.referrer);return e},title:function(){var e;document.title&&document.title.length>0&&(e=document.title);return e},url:function(){var e;lpTag.url?e=lpTag.url:window.location.href&&window.location.href.length>0&&(e=window.location.href);return e},debug:function(){var e=Le.getPersistentData("lpDebug-"+je.accountId);if(e&&!Ce){Ce=!0;return!0}return!1},section:function(){var e=lpTag.section;"string"==typeof e&&e.length&&(e=[e]);return e},emtVisitorId:function(){return R(je.accountId+"-VID")},identities:function(e){te(lpTag.identities,function(t){ee(t,function(t){e(t.map(function(e){var t={iss:e.iss,acr:e.acr};e.sub?t.sub=e.sub:e.tkn&&(t.tkn=e.tkn);e.account&&(t.account=e.account);return t}))})})}};return{v:Re,name:xe,inspect:h,init:e,sdes:{push:u},hooks:Ue,appendCtx:f,isTPCEnabled:p,getVid:g,getSid:d,getSidPrefix:l,send:c,inPage:s,pageLoaded:o,startPage:r,stop:y,reset:m,reinit:v,stringify:S}}();}catch(e){lpTag.handleGeneralError("lp_monitoringSDK",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lpajax_utils={_name:"lpajax_utils",_v:"0.1",each:function(e,t,r){if(null!=e){var a=Array.prototype.forEach;if(a&&e.forEach===a)e.forEach(t,r);else if(e.length===+e.length){for(var n=0,o=e.length;o>n;n++)if(n in e&&t.call(r,e[n],n,e)==={})return}else for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)&&t.call(r,e[l],l,e)==={})return}},extend:function(e){this.each(Array.prototype.slice.call(arguments,1),function(t){for(var r in t)e[r]=t[r]});return e},isEmptyObj:function(e){for(var t in e)return!1;return!0},init:function(){}};window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lpAjax=lpTag.taglets.lpAjax||function(e){function t(){m=!0}function r(t,r){e.lpTag&&lpTag.log&&lpTag.log(t,r,f)}function a(e,t){if(g[e])r("Existing transport: "+e+" tried to register",h.DEBUG);else{g[e]=t;r("Added transport: "+e,h.DEBUG)}}function n(e){m||t();var a,n="unknown";try{a=i(e);if(a){a.issueCall(e);return!0}r("No Transport found to issueCall",h.ERROR);c(h.ERROR,e.error,{responseCode:601,error:"No Transport found to issueCall, request: "+e.url,body:"ERROR"},e.context)}catch(o){a&&a.getName&&(n=a.getName());r("Transport - "+n+" - unknown exception while issueCall",h.ERROR);c(h.ERROR,e.error,{responseCode:600,error:"Transport - "+n+" - unknown exception while issueCall: "+e.url+" e="+o,body:"ERROR"},e.context)}}function o(e){m||t();for(var r in e){var a=g[r];a&&a.configure(e[r])}}function l(e){if(e&&"object"==typeof e){e.appName=p;e.ts=(new Date).getTime();e.tags&&e.tags.constructor===Array&&e.tags.push({pageId:y});r(e,h.METRICS)}}function i(e){for(var t,r=!1,a=-1,n=0;n<e.transportOrder.length;n++)if(!r){t=u({},e);var o=g[t.transportOrder[n]];if(o&&o.isValidRequest&&o.isValidRequest(t)){r=!0;a=n}}return r?g[t.transportOrder[a]]:null}function s(e,t,r){if(null!=e){var a=Array.prototype.forEach;if(a&&e.forEach===a)e.forEach(t,r);else if(e.length===+e.length){for(var n=0,o=e.length;o>n;n++)if(n in e&&t.call(r,e[n],n,e)==={})return}else for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)&&t.call(r,e[l],l,e)==={})return}}function u(e){s(Array.prototype.slice.call(arguments,1),function(t){for(var r in t)e[r]=t[r]});return e}function c(e,t,a,n){if("function"==typeof t)try{t.call(n||null,a);t=null}catch(o){r("runCallback: Exception in execution of callback, type :"+e+" e=["+o.message+"]",h.ERROR)}else r("runCallBack: No callback, of type :"+e,h.INFO)}var d="1.1.3",f="lpAjax",p="lpTransporter",g={},m=!1,h={ERROR:"ERROR",DEBUG:"DEBUG",INFO:"INFO",METRICS:"METRICS"},y="lpT"+Math.floor(1e5*Math.random())+"_"+Math.floor(1e6*Math.random());return{getVersion:function(){return d},getName:function(){return f},init:t,publishMetrics:l,issueCall:n,configureTransports:o,addTransport:a}}(window);window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.jsonp=lpTag.taglets.jsonp||function(e){function t(){if(lpTag&&lpTag.taglets&&lpTag.taglets.lpAjax)try{lpTag.taglets.lpAjax.addTransport(W,z)}catch(e){}E()}function r(e){if(e)for(var r in e)D.hasOwnProperty(r)&&e.hasOwnProperty(r)&&(D[r]=e[r]);t()}function a(t){var r=!1;if(M&&t&&t.url){var a=!1;t.callbackName&&"string"==typeof t.callbackName&&(Q[t.callbackName]||e[t.callbackName])&&(a=!0);var n;try{n=c(t)}catch(o){k("Could not evaluate the length  of the request, e="+o,L.ERROR,"isValidRequest");r=!1}"undefined"!=typeof n&&U>n&&!a&&(r=!0)}return r}function n(e){var t;if(!a(e)){k("URL request was too long or static callback name already exists, url: "+t,L.ERROR,"issueCall");T();e&&e.error&&F(L.ERROR,e.error,s(600,"Transport - JSONP - unable to run request: "+e.url),e.context);return!1}e=l(e);e.callbackName&&"string"==typeof e.callbackName?e.retries=0:e.callbackName=q+i();t=e.url+(e.url.indexOf("?")>-1?"&":"?")+e.callback+"="+e.callbackName;e.data&&(t+="&"+d(e.data));e.query&&(t+="&"+d(e.query));e.callUrl=t;if(p(e)){I(e);g()}else k("URL request was too long and was not sent, url: "+t,L.ERROR,"issueCall");return!0}function o(){var e={};for(var t in D)D.hasOwnProperty(t)&&(e[t]=D[t]);return e}function l(e){if("string"==typeof e){var t=e;e={url:t}}if(!e.url)return!1;e.encoding=e.encoding||D.encoding;e.callback=e.callback||D.callback;e.retries="number"==typeof e.retries?e.retries:D.retries;e.timeout=e.timeout?e.timeout:D.timeout;return e}function i(e){var t,r=99999,a="x";t=e?r+a+r:Math.round(Math.random()*r)+a+Math.round(Math.random()*r);return t}function s(e,t){return{statusCode:e,responseCode:e,error:t,body:"ERROR"}}function u(){return"scr"+Math.round(999999999*Math.random())+"_"+Math.round(999999999*Math.random())}function c(e){var t=H;e.callbackName&&"string"==typeof e.callbackName&&(t=e.callbackName.length);return 4+(e.callback||D.callback).length+e.url.length+t+d(e.data).length+d(e.query).length}function d(e){var t="";if("string"==typeof e)t+=e;else{var r=!0;for(var a in e){var n;"object"==typeof e[a]?n=f(e[a]):"function"!=typeof e[a]&&(n=e[a]);if("undefined"!=typeof n){r||(t+="&");t+=encodeURIComponent(a)+"="+encodeURIComponent(n);r=!1}}}return t}function f(e){var t;if("function"==typeof Array.prototype.toJSON){var r=Array.prototype.toJSON;delete Array.prototype.toJSON;try{t=JSON.stringify(e)}catch(a){Array.prototype.toJSON=r;throw a}Array.prototype.toJSON=r}else t=JSON.stringify(e);return t}function p(t){var r,a=!1,n=new RegExp(/(http{1}s{0,1}?:\/\/)([^\/\?]+)(\/?)/gi);r=n.exec(0===t.callUrl.indexOf("http")?t.callUrl:e.location.href);if(r&&r.length>=3&&""!==r[2]){var o=r[2].toLowerCase();t.domainMatch=o;_[o]=_[o]||[];_[o].inFlight=_[o].inFlight||0;_[o].push(t);a=!0;G+=1;k("buffered URL: "+t.callUrl,L.DEBUG,"lpTag.taglets.jsonp.bufferRequest")}else k("NO MATCH for URL: "+t.callUrl,L.ERROR,"lpTag.taglets.jsonp.bufferRequest");return a}function g(){var e;for(var t in _)if(_.hasOwnProperty(t)){e=_[t];for(var r=!1;!r&&e.inFlight<6&&e.length>0;){var a=e.shift();if(a){k("Sent URL: "+a.callUrl,L.DEBUG,"lpTag.taglets.jsonp.sendRequests");a.scriptId=h(a.callUrl,a.encoding,a.callbackName);a.startTime=(new Date).getTime();y(t,a.callbackName,a.timeout);G-=1}else r=!0}}e=null}function m(){clearTimeout(A);A=null;var t=new Date;for(var r in Q)if(Q.hasOwnProperty(r)&&Q[r].launchTime){var a=t-Q[r].launchTime;(Q[r].loadTime||a>Q[r].timeout)&&e[r].apply(null,[s(408,{message:"Request timed out",name:"timeout"}),!0])}P>0&&(A=setTimeout(m,1e3))}function h(t,r,a){var n=u(),o=document.createElement("script");o.setAttribute("type","text/javascript");o.setAttribute("charset",r);o.onload=function(){Q[a]&&(Q[a].loadTime=new Date);this.onload=this.onerror=this.onreadystatechange=null};e.addEventListener?o.onerror=function(){Q[a]&&(Q[a].loadTime=new Date);this.onload=this.onerror=this.onreadystatechange=null}:o.onreadystatechange=function(){if(this.readyState&&("loaded"===this.readyState||"complete"===this.readyState)){Q[a]&&(Q[a].loadTime=new Date);this.onload=this.onerror=this.onreadystatechange=null}};o.setAttribute("src",t);o.setAttribute("id",n);document.getElementsByTagName("head")[0].appendChild(o);A||(A=setTimeout(m,1e3));o=null;return n}function y(e,t,r){_[e].inFlight=_[e].inFlight+1;Q[t]={launchTime:new Date,timeout:r};P+=1;S+=1}function T(){B+=1}function R(e){var t=document.getElementById(e);if(t)try{t.parentNode.removeChild(t)}catch(r){k("error when removing script",L.ERROR,"removeScript")}}function v(e){_[e].inFlight=_[e].inFlight-1;P-=1}function O(e,t,r){N(t.startTime,t.url,r);R(t.scriptId);v(t.domainMatch);x(t.callbackName,r);if(r){if(t.callbackName){t.callbackName=null;delete t.callbackName}w(e,t)}else{C(t);F("callback",t.success,e,t.context);t=null;g()}}function b(){var e;if(lpTag.taglets.lpAjax&&lpTag.taglets.lpAjax.publishMetrics&&V.length>0){e={tags:[{transport:W}],metrics:V};lpTag.taglets.lpAjax.publishMetrics(e);V.length=0}E()}function E(){j&&clearTimeout(j);j=setTimeout(b,D.metricsTimeout)}function N(e,t,r){var a,n;if(e){n=(new Date).getTime();a=n-e;V.push({rd:a,ts:e,url:t,method:"GET",statusCode:r?400:200});V.length>=D.metricsCount&&b()}}function w(e,t){J+=1;if(t.retries>0){t.retries=t.retries-1;n(t)}else{C(t);F(L.ERROR,t.error,e||s(408,{id:408,name:"TIMEOUT",message:"Request has timed out on all retries"}),t.context);t=null;g()}}function C(e){for(var t=["callUrl","retries","id","requestTimeout","type","encoding","launchTime","callbackName","domainMatch","startTime"],r=0;r<t.length;r++)if(e.hasOwnProperty(t[r])){e[t[r]]=null;delete e[t[r]]}}function F(e,t,r,a){if("function"==typeof t)try{t.call(a||null,r);t=null}catch(n){k("Exception in execution of callback, type :"+e+" e=["+n.message+"]",L.ERROR,"runCallback")}else k("No callback, of type :"+e,L.INFO,"runCallback")}function x(t,r){Q[t]=null;delete Q[t];if(r===!0)e[t]=function(){e[t]=null;try{delete e[t]}catch(r){}};else{e[t]=null;try{delete e[t]}catch(a){}}}function I(t){if(Q[t.callbackName]){T();w(s(409,{message:"This callbackName is already in a pending request and can't be serviced",id:409,name:"CONFLICT"}),t)}else e[t.callbackName]=function(e,r){O(e,t,r)}}function k(t,r,a){if(e.lpTag&&lpTag.log){"string"==typeof t&&a&&(t=a+": "+t);lpTag.log(t,r,W)}}var A,j,D={callback:"cb",encoding:"UTF-8",timeout:1e4,retries:2,metricsCount:100,metricsTimeout:6e4},L={ERROR:"ERROR",DEBUG:"DEBUG",INFO:"INFO"},M=!0,U=2083,q="lpCb",_={},S=0,G=0,P=0,B=0,J=0,V=[],Q={},H=i(!0).length,K="1.1.7",W="jsonp",z={init:t,configure:r,issueCall:n,isValidRequest:a,getVersion:function(){return K},getName:function(){return W},getDefaults:o,inspect:function(){return{name:W,version:K,callsMade:S,errorsFound:J,pending:P,buffered:G,refused:B,defaults:o()}}};t();return z}(window);window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.postmessage=lpTag.taglets.postmessage||function(e){function t(e){var t=0===location.protocol.indexOf("https");if(e){if(e.frames){e.frames=e.frames.constructor===Array?e.frames:[e.frames];for(var r=0;r<e.frames.length;r++)g(e.frames[r],t)}if(e.defaults)for(var a in e.defaults)Te.hasOwnProperty(a)&&e.defaults.hasOwnProperty(a)&&(Te[a]=e.defaults[a])}re=!0}function r(){if(lpTag&&lpTag.taglets&&lpTag.taglets.lpAjax)try{lpTag.taglets.lpAjax.addTransport(te,Oe)}catch(e){}}function a(t){var r=!1;if(e.postMessage&&e.JSON&&t&&t.success&&(t.domain&&t.validation||t.url)){t.domain=t.domain||p(t.url);(ae[t.domain]||ue[t.domain])&&(r=!0)}return r}function n(e){var t=!1;if(re&&a(e))if(ae[e.domain])if(ae[e.domain].validated!==ve.PENDING||e.validation){t=L(e);t?v(e.domain):ne[e.callId].timeout=0}else t=O(e.domain,e);else{Y("Adding iFrame to DOM - first request: "+e.domain,fe.INFO,"issueCall");t=O(e.domain,e);m(ue[e.domain]);delete ue[e.domain]}else t=D(e.domain,e.error,e.context);return t}function o(e){return e&&ae[e]?{url:ae[e].url,validated:ae[e].validated,requestCount:ae[e].requestCount,defaults:S(ae[e].defaults),started:ae[e].validated===ve.VALIDATED}:{}}function l(){var e={};for(var t in ae)ae.hasOwnProperty(t)&&(e[t]=o(t));return e}function i(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent("on"+t,r)}function s(e,t){return{callId:e,responseType:t.responseType,responseCode:t.responseCode,error:{message:t.message,id:t.responseCode,name:t.name}}}function u(e,t,r){e.removeEventListener?e.removeEventListener(t,r,!1):e.detachEvent&&e.detachEvent("on"+t,r)}function c(){if(document.body){ce=!0;d()}else setTimeout(c,5)}function d(){for(;de.length>0;)try{de.shift().call(null)}catch(e){Y("Unable to execute queued callbacks for window interactive state: "+e,fe.ERROR,"_attachPendingIFrames")}}function f(e){return e+"_"+Math.floor(1e5*Math.random())+"_"+Math.floor(1e5*Math.random())}function p(e){var t,r=new RegExp(/(http{1}s{0,1}?:\/\/)([^\/\?]+)(\/?)/gi),a=null;if(0!==e.indexOf("http"))return location.protocol+"//"+location.host;t=r.exec(e);t&&t.length>=3&&""!==t[2]&&(a=t[1].toLowerCase()+t[2].toLowerCase());return a}function g(e,t){var r,a,n=!1;if(!e||!e.url||"string"!=typeof e.url){Y("iFrame configuration empty or missing url parameter",fe.ERROR,"_queueFrame");return n}r=p(e.url);a=0===e.url.toLowerCase().indexOf("https");if(!(ae[r]||ue[r]||t&&a!==t)){ue[r]=e;n=!0}return n}function m(e){var t=p(e.url);if(ae[t])return b(t,e.callback||e.success,e.context);var r=f("fr");ae[t]={elem:E(r),url:e.url,validated:ve.PENDING,defaults:e.defaults||{},delayLoad:isNaN(e.delayLoad)?0:e.delayLoad,requestCount:0,success:e.callback||e.success,error:e.error,maxReloadRetries:e.maxReloadRetries||3,reloadInterval:1e3*e.reloadInterval||3e4};setTimeout(function(){y(e.url,t)},ae[t].delayLoad);Y("iFrame Queued to load "+t,fe.INFO,"_addFrame");return ve.PENDING}function h(e){var t=p(e.url);ue[t]={url:e.url,defaults:e.defaults||{},delayLoad:e.delayLoad,success:e.success,error:e.error,maxReloadRetries:e.maxReloadRetries,reloadInterval:e.reloadInterval/1e3}}function y(e,t){ce?T(e,t):de.push(function(){T(e,t)})}function T(e,t){ae[t].loadCallback=ae[t].loadCallback||R(t);V(ae[t].elem,e);i(ae[t].elem,"load",ae[t].loadCallback);ae[t].iFrameOnloadTimeout=setTimeout(ae[t].loadCallback,Re);ae[t].attachTime=(new Date).getTime();document.body.appendChild(ae[t].elem)}function R(e){return function(t){if(ae[e].iFrameOnloadTimeout){clearTimeout(ae[e].iFrameOnloadTimeout);delete ae[e].iFrameOnloadTimeout}ae[e].loadTime=(new Date).getTime()-ae[e].attachTime;C(e,t)}}function v(e){le+=1;se+=1;ae[e].requestCount=ae[e].requestCount+1}function O(e,t){oe[e]=oe[e]||[];oe[e].push(t);return!0}function b(e,t,r){var a=o(e);W(t,r,a);return ae[e].validated}function E(e){var t=document.createElement("IFRAME");t.setAttribute("id",e);t.setAttribute("name",e);t.setAttribute("tabindex","-1");t.setAttribute("aria-hidden","true");t.setAttribute("title","");t.setAttribute("role","presentation");t.style.width="0px";t.style.height="0px";t.style.position="absolute";t.style.top="-1000px";t.style.left="-1000px";t.style.display="none";return t}function N(e,t,r,a,n,o){var l=!1;if(e&&t&&"function"==typeof t){ne[e]={success:t,error:r,progress:a,ctx:n,launchTime:new Date,timeout:isNaN(o)?Te.timeout:o+1e3};l=!0}return l}function w(e){if(ne[e]){ne[e]=null;delete ne[e];return!0}return!1}function C(e,t){Y("onLoad validation called "+e,fe.INFO,"_validateFrame");var r=function(t){F(t,e)};t&&t.error?F(t,e):setTimeout(function(){n({domain:e,success:r,error:r,validation:!0,timeout:100,retries:-1,defaults:ae[e].defaults})},10);return!0}function F(e,t){var r,a=ae[t];Y("running validation of domain "+t,fe.INFO,"_validateFrameCallback");if(a){ae[t].validated=e&&e.error?ve.FAILED:ve.VALIDATED;r=ae[t].validated===ve.VALIDATED;r?x(t,e):ae[t].reloadObj&&ae[t].reloadObj.retriesLeft>0?k(t):I(t)}a=null;return r}function x(e,t){var r;Y("FrameLoaded "+e,fe.INFO,"_runFrameValidated");r=S(he);for(var a in t)t.hasOwnProperty(a)&&(r[a]=t[a]);W(ae[e].success,ae[e].context,r);H(e);A(e,!0)}function I(e){Y("iFrame is a teapot "+e,fe.ERROR,"_runFrameFailedToLoad");if(ae[e].error){var t=s(0,ye);t.domain=e;W(ae[e].error,ae[e].context,t)}j(e);A(e,!1)}function k(e){Y("Retry loading domain: "+e,"info","_runReloadAttempt");A(e,!1);P(e)}function A(e,t){Y("Running buffer queue : "+e+" loaded: "+t,fe.INFO,"_runQueuedRequests");if(oe[e]&&oe[e].length>0){do{var r=oe[e].shift();t?n(r):W(r.error,r.context,{responseCode:600,error:"Transport - postmessage - unable to run request: "+e,body:"ERROR"})}while(oe[e].length>0);oe[e]=null;delete oe[e]}}function j(e){Y("Cleaning up failed iFrame: "+e,fe.INFO,"_cleanupIFrame");if(ae[e]){u(ae[e].elem,"load",ae[e].loadCallback);ae[e].elem.parentNode.removeChild(ae[e].elem);var t=S(ye);t.domain=e;t.url=ae[e].url;W(ae[e].error,ae[e].context,t);h(ae[e]);ae[e]=null;delete ae[e]}}function D(e,t,r){Y("Frame not found for domain: "+e,fe.ERROR,"_noFrameFound");W(t,{responseCode:600,error:"Transport - postmessage - unable to run request: "+e,body:"ERROR"},r);return!1}function L(e){var t,r=!1;e=U(e);t=S(e);try{t=M(t)}catch(a){Y("Error trying to _stringify message",fe.ERROR,"sendMessageToFrame");return!1}Y("sending msg to domain "+e.domain,fe.DEBUG,"sendMessageToFrame");var n;isNaN(e.timeout)||isNaN(e.retries)||(n=e.timeout*(e.retries+1)+2e3);N(e.callId,e.success,e.error,e.progress,e.context,n);try{r=q(e.domain,t);$=setTimeout(_,1e3)}catch(a){Y("Error trying to send message: "+a,fe.ERROR,"sendMessageToFrame");r=!1}return r}function M(e){var t;if("function"==typeof Array.prototype.toJSON){var r=Array.prototype.toJSON;delete Array.prototype.toJSON;try{t=JSON.stringify(e)}catch(a){Array.prototype.toJSON=r;throw a}Array.prototype.toJSON=r}else t=JSON.stringify(e);return t}function U(t){var r=ae[t.domain]&&ae[t.domain].defaults;t.callId=f("call");t.returnDomain=pe;"undefined"==typeof t.timeout&&(t.timeout=r&&r.timeout||Te.timeout);"undefined"==typeof t.retries&&(t.retries=r&&"undefined"!=typeof r.retries?r.retries:Te.retries);t.progress&&(t.fireProgress=!0);t.headers=t.headers||{};t.headers["LP-URL"]=e.location.href;return t}function q(e,t){var r=!1;try{ae[e].elem.contentWindow.postMessage(t,e);r=!0}catch(a){Y("Error trying to send message: "+a,fe.ERROR,"_postTheMessage")}return r}function _(){$&&clearTimeout($);$=null;var e=new Date,t=0,r=[];for(var a in ne)if(ne.hasOwnProperty(a)&&ne[a].launchTime){var n=e-ne[a].launchTime;n>ne[a].timeout?r.push(a):t+=1}if(r.length){Y("Checking errors found "+r.length+" timeout callbacks to call",fe.DEBUG,"_checkForErrors");for(var o=0;o<r.length;o++)G(s(r[o],me))}t>0&&($=setTimeout(_,1e3));return!0}function S(e){var t=e;try{t=JSON.parse(M(e))}catch(r){}return t}function G(e,t){var r,a=ne[e.callId],n=e.responseType,o=!1;if(e.callId&&ne[e.callId]||e.responseType===ge.reloading||e.responseType===ge.stats)try{switch(n){case ge.completed:r=a.success;o=!0;break;case ge.error:r=a.error;o=!0;ie+=1;break;case ge.progress:r=a.progress;break;case ge.reloading:e=t;r=P;break;case ge.stats:r=Z;e=e.rawData}if(o){w(e.callId);K(e);se=se>=0?0:se-1}r&&"function"==typeof r&&W(r,a&&a.ctx||null,e);r=null;a=null}catch(l){Y("Error in executing callback: "+l,fe.ERROR,"_executeMessageCallback");return!1}return!0}function P(e){Y("Got reload request from "+e,fe.INFO,"_handleReload");ae[e].validated=ve.PENDING;if(!ae[e].reloadObj){Y("Creating reloadObj"+e,fe.DEBUG,"_handleReload");ae[e].reloadObj=Q(e)}B(e)}function B(e){Y("Reload try for domain "+e+" ,retries left "+ae[e].reloadObj.retriesLeft,fe.INFO,"_reloadIFrame");ae[e].reloadObj.retriesLeft=ae[e].reloadObj.retriesLeft-1;ae[e].reloadObj.setLocationTimeout&&clearTimeout(ae[e].reloadObj.setLocationTimeout);if(ae[e].reloadObj.retry)ae[e].reloadObj.setLocationTimeout=setTimeout(J(e),ae[e].reloadInterval);else{ae[e].reloadObj.retry=!0;J(e)()}}function J(e){return function(){ae[e].iFrameOnloadTimeout=setTimeout(function(){C(e,{error:{code:404,message:"Frame did not trigger load"}})},Re);V(ae[e].elem,ae[e].url)}}function V(e,t){t+=t.indexOf("?")>0?"&bust=":"?bust=";t+=(new Date).getTime();t+="&loc="+encodeURIComponent(location.protocol+"//"+location.host);Y("Setting iFrame to URL: "+t,fe.INFO,"_setIFrameLocation");e.setAttribute("src",t)}function Q(e){Y("Creating reload object "+e,fe.INFO,"_createReloadObject");var t=ae[e].maxReloadRetries;return{retriesLeft:t}}function H(e){Y("Cleaning up reload object for this instance"+e,fe.INFO,"_cleanUpReloadObject");if(ae[e].reloadObj){ae[e].reloadObj.setLocationTimeout&&clearTimeout(ae[e].reloadObj.setLocationTimeout);ae[e].reloadObj=null;delete ae[e].reloadObj}}function K(e){for(var t=["callId","responseType"],r=0;r<t.length;r++){e[t[r]]=null;delete e[t[r]]}}function W(e,t,r){if(e&&"function"==typeof e)try{e.call(t||null,r)}catch(a){Y("Error in executing callback: "+a,fe.ERROR,"runCallback")}}function z(e){var t,r;try{r=e.origin;if(!ae[r])return;t=X(e.data);t.body=X(t.body)}catch(a){t=null;Y("Error in handling message from frame:"+a+" origin: "+r,fe.ERROR,"_handleMessage")}t&&"object"==typeof t&&G(t,r)}function X(e){var t=e;if("string"==typeof e)try{t=JSON.parse(e)}catch(r){Y("Error in parsing string: "+e,fe.DEBUG,"_parseJSONString")}return t}function Y(t,r,a){if(e.lpTag&&lpTag.log){"string"==typeof t&&a&&(t=a+": "+t);lpTag.log(t,r,te)}}function Z(e){if(lpTag.taglets.lpAjax&&lpTag.taglets.lpAjax.publishMetrics){e.tags&&e.tags.constructor===Array&&e.tags.push({transport:te});lpTag.taglets.lpAjax.publishMetrics(e)}}var $,ee="1.1.8",te="postmessage",re=!0,ae={},ne={},oe={},le=0,ie=0,se=0,ue={},ce=!1,de=[],fe={DEBUG:"DEBUG",INFO:"INFO",ERROR:"ERROR"},pe=p(document.location.href),ge={progress:"progressLoad",completed:"completeLoad",success:"success",error:"errorLoad",reloading:"reloading",stats:"statData"},me={responseType:ge.error,responseCode:404,message:"Request timed out on parent postMessage layer",name:"TIMEOUT"},he={responseType:ge.success,responseCode:200,message:"iFrame has successfully loaded",name:"OK"},ye={responseType:ge.error,responseCode:418,message:"This iFrame is a teapot, not very useful for communication but lovely for earl grey",name:"TEAPOT"},Te={timeout:6e4,metricsCount:1e3},Re=1e4,ve={VALIDATED:"valid",PENDING:"pending",FAILED:"failed"};c();i(e,"message",z);var Oe={v:ee,name:te,init:r,issueCall:n,isValidRequest:a,getVersion:function(){return ee},getName:function(){return te},configure:t,getFrameData:o,inspect:function(){return{name:te,version:ee,callsMade:le,errorsFound:ie,pending:se,defaults:Te,iFrameList:S(ue),activeFrames:l()}}};r();return Oe}(window);window.lpTag=lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lpTransporter=lpTag.taglets.lpTransporter||function(){function e(e,t){window.lpTag&&lpTag.log&&lpTag.log(e,t,r)}function t(){for(var t=0;t<n.taglets.length;t++){var r=lpTag.taglets[n.taglets[t]];try{r.init();e("Called init on taglet: "+n.taglets[t],"DEBUG")}catch(a){e("Error init taglet:"+n.taglets[t]+"  e="+a,"ERROR")}}for(var o=0;t<n.taglets.length;o++){var l=lpTag.taglets[n.taglets[o]];try{"function"==typeof l.start&&l.start();e("Called start on taglet: "+n.taglets[o],"DEBUG")}catch(a){e("Error start taglet: "+n.taglets[o]+"e= "+a,"ERROR")}}}var r="lpTransporter",a="1.1.0",n={taglets:["lpAjax","lpajax_utils","jsonp","postmessage"]};return{v:a,name:r,init:t}}();}catch(e){lpTag.handleGeneralError("lpTransporter",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.taglets.lpUtil=lpTag.taglets.lpUtil||function(){function e(e,n){if("function"==typeof[].indexOf&&"function"==typeof e.indexOf)return e.indexOf(n);if(e.constructor===Array)for(var t=0;t<e.length;t++)if(e[t]===n)return t;return-1}function n(e){return"string"!=typeof e?e:e.trim?e.trim():e.replace(/^\s+|\s+$/gm,"")}function t(e){if("string"!=typeof e)return e;var t=n(e);return t.toLowerCase()}function i(e,n){var t=new RegExp(/((?:http|ftp|ws){1}s{0,1}?:\/\/){0,1}([^\/\?\/:]+)(\/?)/gi),i=t.exec(e),a=null;if(i&&i.length>=3&&""!==i[2]){a=i[2].toLowerCase();n&&(a=i[1]+a)}return a}function a(e){var n,t,i={};if("string"==typeof e){n=e.substr(1).split("&");for(var a=0;a<n.length;a++)if(n[a].indexOf("=")>-0){t=n[a].split("=");2==t.length&&(i[decodeURIComponent(t[0])]=decodeURIComponent(t[1]))}}return i}function o(e){e=""+e;var n,t,a=null,o={top:null,country:null};e=i(e);n=e.split(".");if(n.length<3)return e;for(var l=n.length-1,c=l;c>-1;c--){s(n[c],o,c);if(null!==o.country&&null!==o.top)break}if(null!==o.top||null!==o.country){a=o.top;(null===a||null!==o.country&&o.country<a&&a-1===o.country)&&(a=o.country);t=a>0?a-1:a;return r(n.slice(t))}return e}function r(e){return e.join(".")}function s(e,n,t){e=""+e;null===n.top&&(W.topLevelDomain[e]||W.customTopLevelDomain[e])?n.top=t:null===n.country&&W.countryTopLevelDomain[e]&&(n.country=t)}function l(e,n){var t=/(\?|&|\/|\\)$/;if("string"==typeof e&&e.length>0){t.test(e)&&(e=e.substr(0,e.length-1));if(Array.isArray(n))return c(e,n);if(m(n))return u(e,n);if("object"==typeof n)return d(e,n)}return e}function c(e,n){for(var t,i=e,a=0;a<n.length;a++){t=n[a];if(!i||"object"!=typeof t)break;i=u(i,t)}return i}function u(e,n){return g(e,n)?p(e,n.key,n.value):e}function d(e,n){for(var t in n)n.hasOwnProperty(t)&&(e=p(e,t,n[t]));return e}function p(e,n,t){var i=new RegExp("([?&])"+n+"=.*?(&|$)","ig"),a=-1===e.indexOf("?")?"?":"&";if("object"==typeof t)try{t=JSON.stringify(t)}catch(o){}return e.match(i)?e.replace(i,"$1"+n+"="+t+"$2"):e+a+n+"="+t}function g(e,n){return"string"==typeof e&&e.length>0&&m(n)}function m(e){var n=e&&e.key,t=e&&e.value;return e&&"string"==typeof n&&n.length>0&&("number"==typeof t||"string"==typeof t&&t.length>0)}function f(e,n,t){var i;if(!e||"object"!=typeof e)return e;if(!n)return v(e);i=n||e.constructor()||{};for(var a in e)i[a]!==e[a]&&e.hasOwnProperty(a)&&(i[a]=t?f(e[a],void 0,t):e[a]);return i}function v(e){try{return JSON.parse(w(e))}catch(n){lpTag.log("unable to clone object:"+JSON.stringify(n),"ERROR",M);return}}function h(e,n){if("undefined"!=typeof n){if(e)for(var t=0;t<e.length;t++){var i=e[t].value;if("string"==typeof i&&""!==i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("["==i.charAt(0)||"{"==i.charAt(0))try{i=JSON.parse(i)}catch(a){lpTag.log("unable to parse JSON:"+JSON.stringify(a),"ERROR",M)}n[e[t].id]=i}}else lpTag.log("_config is passed as undefined","ERROR",M)}function b(e,n){if(e&&"string"==typeof e){n=n||{};var t,i=n.document||window.document,a=n.id;if("undefined"!=typeof a){t=i.getElementById(a)||i.createElement("style");t.id=a}else t=i.createElement("style");t.type="text/css";i.getElementsByTagName("head")[0].appendChild(t);t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e));return t}}function k(e){var n={};for(var t in e)e.hasOwnProperty(t)&&(n[t]=t);return n}function E(e,n){function t(){a.body?S(e,i):setTimeout(t,50)}n=n||{};var i=n.context,a=n.document||window.document;t()}function w(e){var n,t;if("function"==typeof Array.prototype.toJSON){t=Array.prototype.toJSON;delete Array.prototype.toJSON;try{n=JSON.stringify(e)}catch(i){Array.prototype.toJSON=t;throw i}Array.prototype.toJSON=t}else n=JSON.stringify(e);return n}function C(){var e="tttttttt-tttt-4ttt-fttt-t7ttttttttttt".replace(/[tf]/g,function(e){var n=16*Math.random()|0,t="t"==e?n:3&n|8;return t.toString(16)});return e+"-"+Math.floor(1e5*Math.random())}function S(e,n){n=n||window;if("function"==typeof e){var t=Array.prototype.slice.call(arguments,2);try{return e.apply(n,t)}catch(i){lpTag.log("Failed to execute callback exc= "+i.message,"ERROR",M)}}}function y(e,n,t){if("function"==typeof O){e=e||{};var i=O(window,e.jsContext),a=O(window,e.jsMethodName);if("function"!=typeof a){lpTag.log("runCallbackByObject err=function "+e.jsMethodName+" was not found","ERROR","utils");t()}else{lpTag.log("runCallbackByObject calling function "+e.jsMethodName,"DEBUG","utils");a.call(i,n)}}else lpTag.log("lpTag.taglets.lpUtil.getPropertyFromObject is not a function","ERROR","utils")}function T(e,n,t){e&&n&&t&&(e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent("on"+n,t))}function z(e,n,t){e&&n&&t&&(e.removeEventListener?e.removeEventListener(n,t,!1):e.detachEvent("on"+n,t))}function A(n,t,i){var a,o;n="string"==typeof n?n:"";a=n.split(" ");o=t&&t.constructor===Array?t:"string"==typeof t?[t]:[];i=i&&i.constructor===Array?i:"string"==typeof i?[i]:[];for(var r=0;r<a.length;r++)e(i,a[r])<0&&e(o,a[r])<0&&o.push(a[r]);return o.join(" ").replace(/$\s/gi,"")}function _(e){for(var n in e)if(e.hasOwnProperty(n))return!1;return!0}function O(e,n,t){var i,a=e;if("string"==typeof n){i=n.split(".");for(var o=0;o<i.length;o++){if("undefined"==typeof a||null===a||"undefined"==typeof a[i[o]]||null===a[i[o]]){a="undefined"!=typeof t?t:void 0;break}a=a[i[o]]}}else lpTag.log("Empty path sent to lookup getPropertyFromObject","DEBUG","utils");return a}function N(e,n){if(e.className.indexOf(n)<0){e.className=[e.className,n].join(" ");e.className=x(e.className)}}function I(e,n){e.className=e.className.replace(new RegExp(n,"g"),"");e.className=x(e.className)}function x(e){return n(e.replace(/\s\s*/g," "))}function R(e,n,t){var i={};if(e&&"string"==typeof e){t&&(e=decodeURIComponent(e));for(var a,o=e.split(n),r=0;r<o.length;r++){a=o[r].split("=");i[a[0]]=a[1]}}return i}function j(e){var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return e?e.replace(/[&<>"'`=\/]/g,function(e){return n[e]}):void 0}var M="Utils",W={customTopLevelDomain:{aero:"aero",asia:"asia",bike:"bike",biz:"biz",camera:"camera",cat:"cat",clothing:"clothing",coop:"coop",equipment:"equipment",estate:"estate",eus:"eus",gallery:"gallery",graphics:"graphics",guru:"guru",info:"info","int":"int",holdings:"holdings",jobs:"jobs",lighting:"lighting",mobi:"mobi",museum:"museum",name:"name",photography:"photography",plumbing:"plumbing",post:"post",pro:"pro",singles:"singles",tel:"tel",travel:"travel",ventures:"ventures",xxx:"xxx"},topLevelDomain:{ac:"ac",co:"co",com:"com",edu:"edu",gov:"gov",mil:"mil",net:"net",org:"org"},countryTopLevelDomain:{ac:"ac",ad:"ad",ae:"ae",af:"af",ag:"ag",ai:"ai",al:"al",am:"am",an:"an",ao:"ao",aq:"aq",ar:"ar",as:"as",at:"at",au:"au",aw:"aw",ax:"ax",az:"az",ba:"ba",bb:"bb",bd:"bd",be:"be",bf:"bf",bg:"bg",bh:"bh",bi:"bi",bj:"bj",bm:"bm",bn:"bn",bo:"bo",bq:"bq",br:"br",bs:"bs",bt:"bt",bv:"bv",bw:"bw",by:"by",bz:"bz",bzh:"bzh",ca:"ca",cc:"cc",cd:"cd",cf:"cf",cg:"cg",ch:"ch",ci:"ci",ck:"ck",cl:"cl",cm:"cm",cn:"cn",co:"co",cr:"cr",cs:"cs",cu:"cu",cv:"cv",cw:"cw",cx:"cx",cy:"cy",cz:"cz",dd:"dd",de:"de",dj:"dj",dk:"dk",dm:"dm","do":"do",dz:"dz",ec:"ec",ee:"ee",eg:"eg",eh:"eh",er:"er",es:"es",et:"et",eu:"eu",fi:"fi",fj:"fj",fk:"fk",fm:"fm",fo:"fo",fr:"fr",ga:"ga",gb:"gb",gd:"gd",ge:"ge",gf:"gf",gg:"gg",gh:"gh",gi:"gi",gl:"gl",gm:"gm",gn:"gn",gp:"gp",gq:"gq",gr:"gr",gs:"gs",gt:"gt",gu:"gu",gw:"gw",gy:"gy",hk:"hk",hm:"hm",hn:"hn",hr:"hr",ht:"ht",hu:"hu",id:"id",ie:"ie",il:"il",im:"im","in":"in",io:"io",iq:"iq",ir:"ir",is:"is",it:"it",je:"je",jm:"jm",jo:"jo",jp:"jp",ke:"ke",kg:"kg",kh:"kh",ki:"ki",km:"km",kn:"kn",kp:"kp",kr:"kr","krd:":"krd",kw:"kw",ky:"ky",kz:"kz",la:"la",lb:"lb",lc:"lc",li:"li",lk:"lk",lr:"lr",ls:"ls",lt:"lt",lu:"lu",lv:"lv",ly:"ly",ma:"ma",mc:"mc",md:"md",me:"me",mg:"mg",mh:"mh",mk:"mk",ml:"ml",mm:"mm",mn:"mn",mo:"mo",mp:"mp",mq:"mq",mr:"mr",ms:"ms",mt:"mt",mu:"mu",mv:"mv",mw:"mw",mx:"mx",my:"my",mz:"mz",na:"na",nc:"nc",ne:"ne",nf:"nf",ng:"ng",ni:"ni",nl:"nl",no:"no",np:"np",nr:"nr",nu:"nu",nz:"nz",om:"om",pa:"pa",pe:"pe",pf:"pf",pg:"pg",ph:"ph",pk:"pk",pl:"pl",pm:"pm",pn:"pn",pr:"pr",ps:"ps",pt:"pt",pw:"pw",py:"py",qa:"qa",re:"re",ro:"ro",rs:"rs",ru:"ru",rw:"rw",sa:"sa",sb:"sb",sc:"sc",sd:"sd",se:"se",sg:"sg",sh:"sh",si:"si",sj:"sj",sk:"sk",sl:"sl",sm:"sm",sn:"sn",so:"so",sr:"sr",ss:"ss",st:"st",su:"su",sv:"sv",sx:"sx",sy:"sy",sz:"sz",tc:"tc",td:"td",tf:"tf",tg:"tg",th:"th",tj:"tj",tk:"tk",tl:"tl",tm:"tm",tn:"tn",to:"to",tp:"tp",tr:"tr",tt:"tt",tv:"tv",tw:"tw",tz:"tz",ua:"ua",ug:"ug",uk:"uk",us:"us",uy:"uy",uz:"uz",va:"va",vc:"vc",ve:"ve",vg:"vg",vi:"vi",vn:"vn",vu:"vu",wf:"wf",ws:"ws",ye:"ye",yt:"yt",yu:"yu",za:"za",zm:"zm",zr:"zr"}},L={delimiter:"|",set:function(e,n,t){if("string"==typeof e&&n.join&&"function"==typeof n.join){var i=encodeURIComponent(e)+"="+encodeURIComponent(n.join(this.delimiter))+";path=/";"undefined"!=typeof t&&(i+=";domain="+t);document.cookie=i;return!0}},get:function(e){var n="\\$&";if("string"==typeof e){var t=document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,n)+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1")||null;if("string"==typeof t){var i=decodeURIComponent(t);if(i)return i.split(this.delimiter)}}},remove:function(e,n){if("string"==typeof e){this.set(e,["null"],n);return!0}}};return{indexOf:e,trim:n,trimAndLower:t,getDomain:i,getURLParams:a,getParentDomain:o,addQueryParams:l,cloneExtend:f,clone:v,convertConfig:h,addStyleTag:b,objectKeys:k,waitForBody:E,stringify:w,cookieActions:L,getUID:C,runCallback:S,runCallbackByObject:y,registerEvent:T,unregisterEvent:z,buildClassString:A,isEmpty:_,getPropertyFromObject:O,addClass:N,removeClass:I,mapString:R,escapeHtml:j}}();window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.AccountSettingsManager=lpTag.unifiedWindow.AccountSettingsManager||function(e){function n(e){if("object"==typeof e&&e.accountId&&e.domain){c=e.accountId;u=e.domain}}function t(e){var n=s(),t="https://"+u+"/api/account/"+c+"/configuration/setting/accountproperties/";if(d||n){if(!d&&n){l("getSettings - Account settings network call already in progress","DEBUG");a(e)}}else{i();lpTag.taglets.jsonp.issueCall({url:t,timeout:5e3,retries:0,callbackName:"accountSettingsCB",success:function(n){o(n,!0,e)}.bind(this),error:function(){r(!0,e)}.bind(this)})}}function i(){lpTag.events.trigger({appName:"*",eventName:"requestedAccountSettings",data:{}})}function a(e){var n=lpTag.events.hasFired("*","receivedAccountSettings"),t=lpTag.events.hasFired("*","receivedAccountSettingsFailed");n.length<1?lpTag.events.once({appName:"*",eventName:"receivedAccountSettings",func:function(n){o(n,!1,e)}}):o(n[0].data,!1,e);t.length<1?lpTag.events.once({appName:"*",eventName:"receivedAccountSettingsFailed",func:function(){r(!1,e)}}):r(!1,e)}function o(e,n,t){e&&Array.isArray(e)&&!e.error?g.runCallback(t,null,e):g.runCallback(t,null,[]);n&&lpTag.events.trigger({appName:"*",eventName:"receivedAccountSettings",data:e})}function r(e,n){g.runCallback(n,null,[]);e&&lpTag.events.trigger({appName:"*",eventName:"receivedAccountSettingsFailed",data:{}})}function s(){return lpTag.events.hasFired("*","requestedAccountSettings").length>0}function l(e,n){window.lpTag&&lpTag.log&&lpTag.log(e,n,p)}var c,u,d,p="AccountSettingsManager",g=(lpTag.unifiedWindow.log,lpTag.taglets.lpUtil);n(e);return{getSettings:t}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.AppConfigurationManager=lpTag.unifiedWindow.AppConfigurationManager||function(e){function n(e,n,t){var a=i(e,n,!1);a.smsClientLaunch=!0;a.smsConf={smsAPI:t.smsAPI};a.smsConf.launchProperties={phoneNumber:t.launchProperties.phoneNumber,message:t.launchProperties.message};a.resource="/taptotext.html";return y(a,e,n)}function t(e,n,t){var a=i(e,n,t);return y(a,e,n)}function i(e,n,t){var i={accountId:e.subscription&&e.subscription.conversationowneraccountid||n.accountId,env:n.env,clickedChannel:n.clickedChannel};n.connectorsSfConfig&&(i.connectorsSfConfig="object"==typeof n.connectorsSfConfig);t?C(i,e,n):S(i,e,n);return i}function a(e){return e.connector&&0===e.connector.type}function o(){return"undefined"!=typeof j.taglets.lpUnifiedWindowRecaptcha}function r(e,n){var t=W&&W.lpVersion;return t&&e.debug&&e.env!==U?"/"+t:n?"/"+n:""}function s(e){R.isEmpty(X)&&g(e);return X}function l(e){return e.channelPriority||Z}function c(e,n){return e.async?e.allowUnauthMsg?G:K:n?q:H}function u(e){switch(e){case H:case q:return j.unifiedWindow.consts.engagementTypes.CHAT_ENGAGEMENT;case K:case G:return j.unifiedWindow.consts.engagementTypes.MESSAGING_ENGAGEMENT}}function d(e){var n;j.features&&"function"==typeof j.features.getFeature&&(n=j.features.getFeature(e));return n}function p(e,n){var t=o()?B:V;return window.open(n,e.target+"POP",t)}function g(e){var n=l(e);n.forEach(function(n){X[n]={sessionKey:n,sessionTimeout:m(n,e)}})}function m(e,n){var t;switch(e){case H:case q:t=f(n,"chatSessionTimeout");break;case G:t=f(n,"unauthenticatedMessagingSessionTimeout");break;case K:t=f(n,"messagingSessionTimeout")}return t}function f(e,n){var t,i=M.getDeviceFamilyName().toLowerCase();t=e&&e[n]&&e[n][i]?e[n][i]:v();return t}function v(){var e;e=M.isMobile()?F.MOBILE:M.isTablet()?F.TABLET:F.DESKTOP;return e}function h(e){W&&W.lpDebug&&(e.lpDebug=W.lpDebug);W&&W.lpVersion&&(e.lpVersion=W.lpVersion);return e}function b(){R=e.utils;j=e.lpTag;M=e.deviceDetector;W=e.queryParams}function k(e){var n=document.createElement("a");n.href=e;return{search:n.search,port:n.port,protocol:n.protocol,hostname:n.hostname,pathname:w(n.pathname)}}function E(e){return k(e)}function w(e){return 0===e.indexOf("/")?e:"/"+e}function C(e,n,t){e.poppedOut=!0;e.sessionId=t.sessionId;e.supportBlockCCPattern=t.supportBlockCCPattern;e.scp=t.scp;e.engConf={lewid:n.lewid}}function S(e,n,t){var i=n.connector,r=R.getPropertyFromObject(i,"configuration.acrValues");"undefined"!=typeof r&&delete i.configuration.acrValues;if(n.connector&&n.connector.configuration&&!n.async){i=R.clone(n.connector);i.configuration.authorizationEndpoint&&(i.configuration.authorizationEndpoint=encodeURIComponent(i.configuration.authorizationEndpoint));i.configuration.tokenEndpoint&&(i.configuration.tokenEndpoint=encodeURIComponent(i.configuration.tokenEndpoint))}e.external=!0;e.chatSessionTimeout=t.chatSessionTimeout;e.supportBlockCCPattern=t.supportBlockCCPattern;e.scp=t.scp;e.secureStorageType=t.secureStorageType;e.vars=t.vars;e.originationUrl=t.originationUrl;e.engConf={async:n.async,scid:n.scid,cid:n.cid,eid:n.eid,lang:n.lang,svid:n.svid,ssid:n.ssid,lewid:n.lewid,connector:i,allowUnauthMsg:n.allowUnauthMsg,availabilityPolicy:n.availabilityPolicy,subscription:n.subscription};n.isOffline&&(e.engConf.isOffline=!0);o()&&(e.useRecaptcha=!0);t.sessionTimeout&&(e.sessionTimeout=t.sessionTimeout);t.chatReconnectTimeout&&(e.chatReconnectTimeout=t.chatReconnectTimeout);a(n)&&(e.engConf.authConnId=n.connector.id);n.skill&&(e.engConf.skill=n.skill);n.skillId&&(e.engConf.skillId=n.skillId);n.preChatLines&&(e.engConf.preChatLines=I(n.preChatLines));if(n.subscription){e.engConf.subscription=n.subscription;if(n.subscription.conversationownerSettings)try{var s=JSON.parse(n.subscription.conversationownerSettings);n.subscription.conversationownerSettings=JSON.stringify(s.filter(function(e){return e.id.indexOf("account.profile.")>=0}))}catch(l){n.subscription.conversationownerSettings="[]"}}n.externalTargets&&(e.engConf.externalTargets=n.externalTargets);e.engConf.connector&&e.engConf.connector.configuration&&delete e.engConf.connector.configuration.jwtPublicKey}function y(e,n,t){var i="",a=window.lpTag.identities&&j.identities.safeIdentities||[],o=t.connectors,r=a.filter(function(e){var n=e.acr,t=parseInt(n,10);return 1!==n.length||0!==t});if(n.connector){o&&o.length&&o.forEach(function(t){x(t)||r.forEach(function(i){if(t.configuration.issuer===i.iss){n.connector=t;e.engConf&&(e.engConf.connector=t)}})});n.connector.type===L?i=z(e,n,t):(n.connector.type===D||n.connector.type===P)&&(i=T(e,n,t))}else i=A(e,t);return i}function T(e,n,t){var i,a,o;n.connector=n.connector||{};a=t.useOAuth2Standard||n.connector.configuration&&n.connector.configuration.rfcCompliance;if(N(n.connector)){i=n.connector.type===D?a?"id_token":"token":"code";var r=_(t,!0,e),s=O(e,!0,a),l={response_type:i};"undefined"!=typeof n.connector.configuration.clientId&&(l.client_id=n.connector.configuration.clientId);if(a){if(n&&n.connector&&n.connector.configuration&&n.connector.configuration.rfcCompliance){var c=k(n.connector.configuration.authorizationEndpoint),u=j.taglets.lpUtil.getURLParams(c.search);j.taglets.lpUtil.isEmpty(u)?l.scope=encodeURIComponent("openid"):u&&!u.scope&&(l.scope=encodeURIComponent("openid"))}l.redirect_uri=r;l.state=s}else l.redirect_uri=r+s;o=R.addQueryParams(n.connector.configuration.authorizationEndpoint,l)}else{e.invalidAuthConnector=!0;o=A(e,t)}return o}function z(e,n,t){var i=n.connector.configuration.genKeyUrl,a=k(i),o={rt:"redir",redirect:encodeURIComponent(t.codeRepository+(e.resource||"/index.html")),lpUnifiedWindowConfig:encodeURIComponent(R.stringify(e))};o=h(o);a.search=R.addQueryParams(a.search,o);return a.protocol+"//"+a.hostname+(a.port?":"+a.port:"")+a.pathname+a.search}function A(e,n,t){return _(n,t,e)+O(e,t)}function _(e,n,t){var i=k(e.staticCodeRepository+(t.resource||"/index.html")),a=i.protocol+"//"+i.hostname+(i.port?":"+i.port:"")+i.pathname;return n?encodeURIComponent(a):a}function O(e,n,t){var i,a;if(t){i={lpUnifiedWindowConfig:e};i=h(i);a=R.stringify(i)}else{i={lpUnifiedWindowConfig:encodeURIComponent(R.stringify(e))};i=h(i);a=R.addQueryParams("?",i)}return n?encodeURIComponent(a):a}function N(e){e.configuration=e.configuration||{};return e.configuration.authorizationEndpoint&&e.type}function I(e){var n=1500,t={},i=0;for(var a in e){t[a]=e[a];if(i>=n)break;i+=a.length+e[a].length}return t}function x(e){var n=e&&e.configuration,t="lpTag.taglets.unAuthMessaging.lpUnauthFunction",i="lpTag.taglets.unAuthMessaging";return n.jsContext===i&&n.jsMethodName===t}var R,j,M,W,L=0,D=1,P=2,U="dev",V="menubar=no, location=no, resizable=1, scrollbars=no, status=yes, width=280px, height=400px, modal=true",B="menubar=no, location=no, resizable=1, scrollbars=no, status=yes, width=320px, height=450px, modal=true",F={DESKTOP:40,MOBILE:120,TABLET:120},H="-lpuw-chat",G="-lpuw-unauthMessaging",K="-lpuw-authMessaging",q="-lpuw",Z=[H,G,K,q],X={};b(e);return{createExternalConfiguration:i,isRecaptchaEnabled:o,isAuthenticatedEnabled:a,getExternalResourceURL:t,getFeatureById:d,getUWDir:r,openExternal:p,getChannels:s,getChannelsPriority:l,getClickedChannel:c,getEngagementTypeByChannel:u,getSMSClientLaunchResourceURL:n,getURLBreakdownInfo:E}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.BrowserStateManager=lpTag.unifiedWindow.BrowserStateManager||function(e){function n(e){C="boolean"==typeof navigator.onLine;S=C?navigator.onLine:!0;N=e;T=l();y=window.innerWidth;I=v();var n=f();z=n.hiddenAttr;A=n.visibilityChange;d()}function t(e,n,t){R[e]=R[e]||[];R[e].push({callback:n,context:t})}function i(e,n){w(e,n)}function a(){C&&(S=navigator.onLine);return S}function o(){return!!z}function r(){return j}function s(){return document[z]}function l(){var e;if("undefined"!=typeof window.orientation){var n=window.orientation;e=90===n||-90===n}else e=window.innerWidth>window.screen.availHeight;return e}function c(){for(var e in R){R[e]&&R[e].constructor===Array&&(R[e].length=0);R[e]=null;delete R[e]}}function u(){c();I&&M.unregisterEvent(window,I,h);M.unregisterEvent(window,"resize",k);M.unregisterEvent(window,"focus",p);M.unregisterEvent(window,"blur",m)}function d(){I&&M.registerEvent(window,I,h);M.registerEvent(window,"resize",k);M.registerEvent(window,"focus",p);M.registerEvent(window,"blur",m);M.registerEvent(document,A,g)}function p(){j=!0;if("undefined"!=typeof R[x.FOCUS_CHANGE])for(var e=0;e<R[x.FOCUS_CHANGE].length;e++)M.runCallback(R[x.FOCUS_CHANGE][e].callback,R[x.FOCUS_CHANGE][e].context,{focus:j})}function g(){if("undefined"!=typeof R[x.VISIBILITY_CHANGE])for(var e=0;e<R[x.VISIBILITY_CHANGE].length;e++)M.runCallback(R[x.VISIBILITY_CHANGE][e].callback,R[x.VISIBILITY_CHANGE][e].context,{visible:!document[z]})}function m(){j=!1;if("undefined"!=typeof R[x.FOCUS_CHANGE])for(var e=0;e<R[x.FOCUS_CHANGE].length;e++)M.runCallback(R[x.FOCUS_CHANGE][e].callback,R[x.FOCUS_CHANGE][e].context,{focus:j})}function f(){var e,n;if("undefined"!=typeof document.webkitHidden){e="webkitHidden";n="webkitvisibilitychange"}else if("undefined"!=typeof document.mozHidden){e="mozHidden";n="mozvisibilitychange"}else if("undefined"!=typeof document.msHidden){e="msHidden";n="msvisibilitychange"}else if("undefined"!=typeof document.hidden){e="hidden";n="visibilitychange"}return{hiddenAttr:e,visibilityChange:n}}function v(){return N.isAndroid()||N.isIOS()?"orientationchange":"resize"}function h(){O&&clearTimeout(O);var e=300;N.isAndroid()&&(e=y===window.innerWidth?900:400);O=setTimeout(b,e)}function b(){var e,n,t;e=l();n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0;t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0;if(e!==T&&"undefined"!=typeof R[x.ORIENTATION_CHANGE])for(var i=0;i<R[x.ORIENTATION_CHANGE].length;i++){M.runCallback(R[x.ORIENTATION_CHANGE][i].callback,R[x.ORIENTATION_CHANGE][i].context,{landscape:e,height:t,width:n});T=e}y=window.innerWidth}function k(){_?clearTimeout(_):E();_=setTimeout(function(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0,n=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0,t={height:n,width:e};if("undefined"!=typeof R[x.RESIZE])for(var i=0;i<R[x.RESIZE].length;i++)M.runCallback(R[x.RESIZE][i].callback,R[x.RESIZE][i].context,t);_=null},300)}function E(){if("undefined"!=typeof R[x.RESIZE_START])for(var e=0;e<R[x.RESIZE_START].length;e++)M.runCallback(R[x.RESIZE_START][e].callback,R[x.RESIZE_START][e].context)}function w(e,n){var t=R[e];if(t){for(var i=[],a=0;a<t.length;a++)t[a].callback!==n&&i.push(t[a]);t.length=0;R[e]=i}}var C,S,y,T,z,A,_,O,N,I,x=(lpTag.unifiedWindow.log,{RESIZE_START:"resizeStart",ORIENTATION_CHANGE:"orientationChange",RESIZE:"resize",FOCUS_CHANGE:"focusChange",VISIBILITY_CHANGE:"visibilityChange"}),R={},j=!0,M=lpTag.taglets.lpUtil;n(e);return{EVENT_NAME:x,on:t,off:i,visibilitySupported:o,isConnected:a,isHidden:s,isFocus:r,isLandscape:l,unregisterAllEvents:c,dispose:u}};window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.DeviceDetector=lpTag.unifiedWindow.DeviceDetector||function(){function e(){return $===q.familyEnum.desktop}function n(){return $===q.familyEnum.mobile}function t(){return $===q.familyEnum.tablet}function i(){return t()&&a()||/ iPad/i.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&"ontouchend"in document}function a(){return J===q.osEnum.iOS}function o(){return J===q.osEnum.android}function r(){return Q===q.browserEnum.chrome}function s(){return o()&&!r()}function l(){return o()&&r()}function c(){return te}function u(){return V}function d(){return B}function p(){return H}function g(){if("boolean"==typeof G)return G;var e=!0;try{new Audio}catch(n){e=!1}return e}function m(){return F}function f(){return ee}function v(){return ne}function h(){return a()?U()<=7||!1:void 0}function b(){return a()?U()<=6||!1:void 0}function k(){return a()?U()>=8||!1:void 0}function E(){return a()?13===U()||!1:void 0}function w(){if(a()){var e=Z.match(/Version\/(.+?)\s/);e=e&&e.length>0?e[1]:null;return parseInt(e,10)>=15}}function C(){if(a()){var e=Z.match(/Version\/(.+?)\s/);e=e&&e.length>0?e[1]:null;var n=15===parseFloat(e,10)||15.1===parseFloat(e,10);return n}}function S(){return J===q.osEnum.windows}function y(){return J===q.osEnum.mac}function T(){return"Microsoft Internet Explorer"===X||z()}function z(){return Z.match(/Trident.*rv[ :]*11\./)}function A(){return Q===q.browserEnum.edge}function _(){return q.familyName()}function O(){return n()&&!t()&&!T()}function N(){return Q===q.browserEnum.chromeios&&t()&&a()}function I(){var e=document.createElement("DIV");W(e);L(e);e=null}function x(){var e;if("function"==typeof q.osVersion){e=q.osVersion();if(e)return e}o()?e=Z.match(/Android (\d+)\.(\d+)(?:\.(\d+))?;+/i):a()&&(e=Z.match(/OS (\d+)_(\d+)(?:_(\d+))?\s+/i));return e}function R(){if("function"==typeof q.browserVersion)return q.browserVersion();var e;if(T())if(z())e=11;else{var n=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");try{null!=n.exec(Z)&&(e=parseFloat(RegExp.$1))}catch(t){}}else if(j()){var i=Z.indexOf("Safari");if(i>-1){var a=Z.substring(i+7);i=Z.indexOf("Version");i>-1&&(a=Z.substring(i+8));var o=a.indexOf(";");o>-1&&(a=a.substring(0,o));o=a.indexOf(" ");o>-1&&(a=a.substring(0,o));var r=parseInt(""+a,10);isNaN(r)&&(r=parseInt(Y,10));e=r}}return e}function j(){return q.browser()===q.browserEnum.safari}function M(){var e=document.getElementsByName("viewport");if(e.length>0)for(var n=0;n<e.length;n++){var t=P(e[n].content);if("device-width"===t.width)return!0}return!1}function W(e){B=D(e,"AnimationName");B.supported&&(V=!0)}function L(e){F=D(e,"Transition");F.supported&&(H=!0)}function D(e,n){var t,i={Webkit:"-webkit-",Moz:"-moz-",O:"-o-",ms:"-ms-",Khtml:"-khtml-"},a=!1,o=n?n.substring(0,1).toLowerCase()+n.substr(1):"",r=o,s=n;if(o&&"undefined"!=typeof e.style[o]){a=!0;t=""}if(!a)for(var l in i)if(n&&i.hasOwnProperty(l)&&"undefined"!=typeof e.style[l+n]){t=i[l];r=t+o;s=l+n;a=!0;break}return{supported:a,preFix:a?t:"",propertyName:a?s:"",cssPropertyName:a?r:""}}function P(e){for(var n,t=e.split(","),i={},a=0;a<t.length;a++){n=t[a].split("=");i[K.trimAndLower(n[0])]=K.trimAndLower(n[1])}return i}function U(){if("function"==typeof q.osVersion){var e=q.osVersion();if(e)return isNaN(e)?e:Number(e)}return Number(ee[1])}var V,B,F,H,G,K=(lpTag.unifiedWindow.log,lpTag.taglets.lpUtil),q=lpTag.device,Z=navigator.userAgent,X=navigator.appName,Y=navigator.appVersion,J=q.os(),$=q.family(),Q=q.browser(),ee=x(),ne=R(),te=M();I();return{isDesktop:e,isMobile:n,isTablet:t,isMobileOptimized:c,isAnimationSupported:u,getAnimationData:d,isTransitionSupported:p,isAudioSupported:g,getTransitionData:m,isAndroid:o,isIPad:i,isNativeAndroid:s,isIOS:a,isWindows:S,isMacOS:y,getDeviceFamilyName:_,osVersion:f,browserVersion:v,isIOS6:b,isIOS7:h,isIOS13:E,isIOS15:w,isOldIOS15:C,isIOS8OrAbove:k,isIE:T,canAttemptSMSClientLaunch:O,isEdge:A,isSafari:j,isAndroidChrome:l,isIpadChrome:N}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.Events=lpTag.unifiedWindow.Events||function(e){function n(e){r=new lpTag.Events(e);s=r.trigger;r.trigger=t;l=lpTag.taglets.lpUtil}function t(e,n,t){s(e,n,t);i(e)}function i(e){var n,t,i;c||(c=l.getPropertyFromObject(lpTag,"unifiedWindow.publicEvents"));e="object"==typeof e?e:null;t=e&&c&&c[e.appName]&&c[e.appName][e.eventName];if(lpTag.events&&e&&(e.global||t)){if(e.global){e.passDataByRef=!1;e.aSync=!0;lpTag.events.trigger(e)}if(t){n=Array.isArray(t)?t:[t];for(var o=0;o<n.length;o++){i=a(e,n[o]);lpTag.events.trigger(i)}}}}function a(e,n){var t=l.clone(n);t.passDataByRef=!1;t.aSync=!0;t.data=o(e,t.data);return t}function o(e,n){var t={};if("object"==typeof n)for(var i in n)t[i]=l.getPropertyFromObject(e,n[i]);else t=l.getPropertyFromObject(e,n);return t}var r,s,l,c;n(e);return r};!function(){function e(){function e(e){var n=l(e);if(n&&"string"==typeof n)return n;n=u[c]&&u[c][e];return"string"==typeof n?n:s(e)||""}function n(){var e=c||g;if(e){var n=lpTag.unifiedWindow.defaultDictionary,t="__config__";return n&&n[e]&&n[e][t]}}function t(e){return m[e]===!0}function i(e){c=e||g}function a(){return c}function o(e,n){n=n||{};u[n.locale]=u[n.locale]||{};lpTag.taglets.lpUtil.cloneExtend(e,u[n.locale]);n.locale===g&&lpTag.taglets.lpUtil.cloneExtend(e,lpTag.unifiedWindow.defaultDictionary)}function r(e){d=e}function s(e){var n=lpTag.unifiedWindow.defaultDictionary;return n[c]&&n[c][e]?n[c][e]:n[e]}function l(e){var n,t;if(d&&d.translationOverrides)try{if(d.translationOverrides.hasOwnProperty(c)){t=d.translationOverrides[c];t&&t.hasOwnProperty(e)&&(n=t[e])}}catch(i){n=void 0;p||(p=window.lpTag.unifiedWindow.log);p&&p.error&&p.error("Language ERROR : "+i.message)}return n}var c,u={},d={},p=window.lpTag.unifiedWindow.log,g="en-US",m={"he-IL":!0,"ar-AE":!0};return{getString:e,getLocaleConfig:n,isRTL:t,add:o,setLocale:i,getLocale:a,setConfig:r}}window.lpTag=window.lpTag||{};lpTag.unifiedWindow.language=lpTag.unifiedWindow.language||new e;lpTag.unifiedWindow.addLanguage=function(e,n){lpTag.unifiedWindow.language.add(e,n)}}();window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.log=lpTag.unifiedWindow.log||function(){function e(e){u=lpTag.taglets.lpUtil;v=u.cloneExtend(e.loggosLogging||{},v,!0);h="https://"+lpTag.csds.getDomain("loggos")+"/api/loggos/log/";var n=u.getURLParams(window.location.search),t=n.lpDebug;if(t){f.isEnabled=!0;a("2"===t&&"true"===n.debugLevel?"DEBUG":Object.keys(p).reduce(function(e,n){p[n]===+t&&(e=n);return e},m))}else if(e.debug){f.isEnabled=!0;a("INFO")}r()}function n(e,n){l(e,"ERROR",n||d)}function t(e,n){l(e,"INFO",n||d)}function i(e,n){l(e,"DEBUG",n||d)}function a(e){p[e]&&(m=p[e])}function o(e){switch(e){case k.APP_STARTED:E=!0;break;case k.APP_ENDED:E=!1}}function r(){window.lpTaglogListeners=window.lpTaglogListeners||[];f.isEnabled&&window.lpTaglogListeners.push(function(e,n,t){window.console&&n&&p[n]<=m&&-1===u.indexOf(g,t)});if(v.level>0){v.inSample=!v.samplingPercentage||1e3*v.samplingPercentage>(new Date).getMilliseconds()?!0:!1;if(v.inSample){window.lpTaglogListeners.push(function(e,n,t){n&&p[n]<=v.level&&E&&-1===u.indexOf(g,t)&&c(e,n,t)});s()}}}function s(){if(v.level>0&&v.queueSubmissionIntervalMilliseconds&&!isNaN(v.queueSubmissionIntervalMilliseconds)){var e=this,t=b.splice(0,v.queueSubmissionMaximum||b.length);if(t.length>0){var i=new XMLHttpRequest;i.open("POST",h,!0);i.setRequestHeader("Content-Type","application/json");i.onreadystatechange=function(){if(4===i.readyState){if(200===i.status);else{b=b.concat(t);n("There was an error sending logs to Loggos: "+i.statusText,d)}setTimeout(function(){s.call(e)},v.queueSubmissionIntervalMilliseconds)}};i.send(JSON.stringify(t))}else setTimeout(function(){s.call(e)},v.queueSubmissionIntervalMilliseconds)}}function l(e,n,t){window.lpTag&&lpTag.log&&e&&lpTag.log(e,n,t||d)}function c(e,n,t){var i={accountId:lpTag.site,appVersion:lpTag.taglets.lpUnifiedWindow.v,context:"webMessaging",immediate:!0,logLevel:n,msg:n+" : "+t+" : "+e,time:(new Date).toISOString(),trace:!1,url:window.location.href};b.push(i)}var u,d="UnifiedWindowLogger",p={ERROR:1,INFO:2,DEBUG:3},g=["lp_SMT","lp_monitoringSDK","LP_OFFER"],m=p.ERROR,f={isEnabled:!1},v={level:0},h="",b=[],k={APP_STARTED:"appStarted",APP_ENDED:"appEnded"},E=!1;return{init:e,error:n,info:t,debug:i,setLogLevel:a,logLevels:p,events:k,triggerEvent:o,loggosLogging:v,loggosLogQueue:b}}();window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.SessionManager=lpTag.unifiedWindow.SessionManager||function(e){function n(e){if("object"==typeof e&&e.accountId&&e.secureStorageLocation&&"string"==typeof e.accountId){A=e.accountId;_=e.sessionId;z=e.events;O=e.external;N=e.secureStorageLocation;T=e.sessionRefreshTimeout||U;j=e.echoedSessionTimeout;C=e.sessions;S=e.sessionsPriority;c(e.clickedSession)}}function t(e,n){P.getValues({keys:S,site:A,app:B,success:u.bind(this,e,n),error:function(){z.trigger({appName:lpTag.taglets.lpUnifiedWindow.name,eventName:F,global:!0})},appName:W,domain:N,firstParty:!0})}function i(e){var n,t=w(A+x.sessionKey);P.getValue({key:x.sessionKey,site:A,app:B,success:function(i){
i?n=i.timestamp:t&&(n=t.timestamp);L.runCallback(e,null,n)},error:function(){},appName:W,domain:N,firstParty:!0})}function a(){return R}function o(e){var n=w(A+x.sessionKey);P.getValue({key:x.sessionKey,app:B,site:A,success:function(t){(t||n)&&L.runCallback(e,null,t||n)},error:function(){},appName:W,domain:N,firstParty:!0})}function r(e){if(O)L.runCallback(e);else{V=!1;t(b,e)}}function s(e){clearTimeout(y);v();_=null;V=!0;if(e!==!0&&!O){E()&&window.localStorage.removeItem(A+x.sessionKey);P.removeValue({key:x.sessionKey,site:A,app:B,appName:W,success:k,error:k,domain:N,firstParty:!0})}}function l(){return x.sessionKey}function c(e){I=C[e];x=I&&C[I.sessionKey]}function u(e,n,t){var i,a;a=d(t);if(a.session){x=C[a.sessionKey];i=a.session.timestamp||"null";_=_?_:a.session.sid}if(a.session||p())m(a.session,i,e,n);else{L.runCallback(e,null);L.runCallback(n)}}function d(e){var n,t,i;if(e&&"object"==typeof e)for(var a=0;a<S.length;a++){t=S[a];i=w(A+t);if(e[t]||i){n=e[t]||i;break}}else n=e;return{session:n,sessionKey:t}}function p(){return!!I}function g(e){return j||e&&e.sessionTimeout&&parseInt(e.sessionTimeout,10)||x.sessionTimeout}function m(e,n,t,i){R||(R=g(e));_&&"null"!==_||(_=L.getUID());if(O)L.runCallback(t,null,_);else{var a={sid:_,timestamp:n||"null",sessionTimeout:R||"null"};E()&&window.localStorage.setItem(A+x.sessionKey,JSON.stringify(a));P.setValue({key:x.sessionKey,site:A,app:B,value:a,ttl:1e3*x.sessionTimeout,success:function(){L.runCallback(t,null,_);L.runCallback(i)},error:function(){},appName:W,domain:N,firstParty:!0})}}function f(){z.bind({appName:"ChatStateManager",eventName:"startChatInfo",func:h})}function v(){z.unbind({appName:"ChatStateManager",eventName:"startChatInfo",func:h})}function h(e){e.chatTimeout&&(R=e.chatTimeout)}function b(){y&&clearTimeout(y);if(!V&&!O){{(new Date).getTime()}P.touchValue({key:x.sessionKey,site:A,ttl:1e3*x.sessionTimeout,success:function(){y=setTimeout(b,T)},error:function(){V=!0},app:B,appName:W,domain:N,firstParty:!0})}}function k(){}function E(){var e=window.lpTag.device,n=e&&e.os&&e.os(),t=e&&e.browser&&e.browser();return 3===n&&2===t}function w(e){var n;if(E())try{n=window.localStorage.getItem(e);n=n&&JSON.parse(n)}catch(t){D.error("Error parsing session from local storage",M)}return n}var C,S,y,T,z,A,_,O,N,I,x,R,j,M="SessionManager",W="SessionState",L=lpTag.taglets.lpUtil,D=lpTag.unifiedWindow.log,P=lpTag.taglets.lpSecureStorage,U=5e3,V=!1,B=lpTag.unifiedWindow.apps.UNIFIED_WINDOW,F="STORAGE_SELECTED";n(e);f();return{dispose:s,refresh:r,getCurrentSessionKey:l,setClickedSession:c,getSessionId:t,getSessionTime:i,getSession:o,getSessionTimeout:a}};window.lpTag=window.lpTag||{};window.lpTag.unifiedWindow=window.lpTag.unifiedWindow||{};lpTag.unifiedWindow.settingsIDs=lpTag.unifiedWindow.settingsIDs||{FILE_SHARING_ENALBED:"messaging.file.sharing.enabled",BLUR_THUMBNAILS:"messaging.file.sharing.blurThumbnails",FILE_SHARING_IMAGE_RESIZE_SIZE:"messaging.agent.photo.size",BLOCK_CONSUMER:"unauth.messaging.block.consumer.history",EXTERNAL_FALLBACK:"unified.window.fallback.to.external",COBROWSE_CONTROLLER_BOT_PREFERRED_FOR_SYSTEM_MESSAGES:"le.site.cobrowse.controllerBotPreferredForSystemMessages",HISTORY_LAZYLOAD:"le.campaign.window.history.lazyload",UMS_CONNECTION_TIMEOUT:"le.window.ums.connection.timeout.enabled",OTK_RETRIES:"le.site.otk.number.of.uses",OTK_DURATION:"le.site.otk.duration",CONTACT_INFO:"le.site.account.contactInfo"};window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.StateAnalyzer=lpTag.unifiedWindow.StateAnalyzer||function(e,n){function t(e){if("object"==typeof e&&n&&e.storageKey&&e.accountId&&e.secureStorageLocation){c=n;u=e.storageKey;d=e.accountId;g=!!e.disableSessionTimeout||!1;p=e.secureStorageLocation}}function i(e,n){v.getValue({key:u,site:d,app:b,success:r(e),error:l(n),appName:m,domain:p,firstParty:!0})}function a(e){var n=(new Date).getTime(),t=1e3*c.getSessionTimeout(),i=null;c.getSessionTime(o.bind(this,e,n,t,i))}function o(e,n,t,i,a){i="undefined"==typeof a||"null"===a?h.NOT_STARTED:g||t>=n-a?h.IN_SESSION:h.EXPIRED;e(i)}function r(e){return function(n){a(s.bind(this,e,n,h.NOT_STARTED))}}function s(e,n,t,i){n&&i===h.EXPIRED?t=h.EXPIRED:n?t=h.IN_SESSION:i===h.IN_SESSION&&(t=h.INVALID);f.runCallback(e,null,n,t)}function l(e){return function(n){f.runCallback(e,null,n,h.NOT_STARTED)}}var c,u,d,p,g,m="UIState",f=(lpTag.unifiedWindow.log,lpTag.taglets.lpUtil),v=lpTag.taglets.lpSecureStorage,h={NOT_STARTED:0,IN_SESSION:1,INVALID:2,EXPIRED:3},b=lpTag.unifiedWindow.apps.UNIFIED_WINDOW;t(e);return{getState:i,state:f.clone(h)}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.WindowConfigurationManager=lpTag.unifiedWindow.WindowConfigurationManager||function(e){function n(e){if("object"==typeof e&&e.storageKey&&e.accountId&&e.secureStorageLocation&&e.domain){u=e.accountId;d=e.secureStorageLocation;p=e.domain;m=e.windowId;g=e.storageKey+h;v=e.initialConf||{}}}function t(e){f?b.runCallback(e,null,f):k.getValue({key:g,site:u,app:E,success:r(e),error:r(e),appName:h,domain:d,firstParty:!0})}function i(){k.removeValue({key:g,site:u,app:E,appName:h,success:c,error:c,domain:d,firstParty:!0})}function a(e){k.setValue({key:g,site:u,app:E,value:{conf:e,windowId:m},success:o,error:o,appName:h,domain:d,expires:108e5,firstParty:!0})}function o(){}function r(e){return function(n){if(e)if(n){f=n.conf;m=n.windowId;b.runCallback(e,null,f)}else s(e)}}function s(e){var n,t=v.enableToRequestDefaultWinConfig,i="/"+m;!m&&t&&(i="-default");if(m||t){n="https://"+p+"/api/account/"+u+"/configuration/engagement-window/window-confs"+i;lpTag.taglets.jsonp.issueCall({url:n,timeout:5e3,retries:0,success:function(n){var i;if(!m&&t){if(!n||!n.length){l(e);return}i=n.filter(function(e){return!!e.isUserDefault});n=i.length>0?i[0]:n[0]}if(n&&n.json&&!n.error){f=n.json;b.runCallback(e,null,f);a(f)}else l(e)},error:function(){l(e)}})}else b.runCallback(e,null,{})}function l(e){b.runCallback(e)}function c(){}var u,d,p,g,m,f,v,h="UIConf",b=(lpTag.unifiedWindow.log,lpTag.taglets.lpUtil),k=lpTag.taglets.lpSecureStorage,E=lpTag.unifiedWindow.apps.UNIFIED_WINDOW;n(e);return{getConf:t,clear:i}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.WrapperWindow=lpTag.unifiedWindow.WrapperWindow||function(e,n,t,i,a){function o(e){var n;if(e&&ke.isDesktop()&&e.right>=0){n=e.right>document.body.clientWidth?document.body.clientWidth-280:e.right;Oe.style.right=n+"px";Ne.style.right=n+"px"}}function r(e){e=e?e.toUpperCase():"SMALL";if(Ze[e]){Ne.classList.add(Ze[e]);"LARGE"==e&&Oe.classList.add(Ze.MINIMIZED_LARGE)}}function s(e){e&&Ne.classList.add(Ze.FLOATING)}function l(e){if(e){if(!re()){s(e.floating);o(e.position);r(e.size)}c(e.maximized);u(e.embedded,Qe.external,Qe.poppedOut)}else c(Qe.isMaximized)}function c(e){if(e){Oe.style.display="none";Ne.style.display="block"}else{Oe.style.display="block";Ne.style.display="none"}}function u(e,n,t){if(!e&&!n&&!t){Oe.style.display="none";Ne.style.display="none"}}function d(e,n){ue();n&&j();var t=Se[e];if(t&&t!==ye){e!==ze.CONFIRMATION&&(Ce=e);we=t.error;var i=we&&!Qe.connectorsSfConfig;z(i);ke.isDesktop()&&We.focus();t.title?p(t.title):t.text&&p(t.text);U(t,e);ye=t}}function p(e,n){if(Te!==e){var t=Ae.querySelectorAll('[data-lp-point="headerText"]');n=n||e;for(var i=0;i<t.length;i++){t[i].innerHTML=lpTag.HtmlSanitizerUtils?lpTag.HtmlSanitizerUtils.sanitizeHtml(n).cleanText:n;t[i].setAttribute("aria-label",n)}Te=e}}function g(){R()&&(Ae.style.display="block")}function m(){R()&&(Ae.style.display="none")}function f(e,n){$e=!1;R()?Ye.runCallback(n):Ye.waitForBody(function(){oe(e);L();Ye.runCallback(n)})}function v(){return Ae}function h(){return Oe}function b(){return Ie}function k(){return Ne}function E(){return _e}function w(){return Le}function C(){return De}function S(){return Pe}function y(){return Ue}function T(){return Ve}function z(e){e?Ye.removeClass(We,"lp_hidden"):Ye.addClass(We,"lp_hidden")}function A(e){e?Ye.removeClass(Be,"lp_hidden"):Ye.addClass(Be,"lp_hidden")}function _(e){Ye[e?"removeClass":"addClass"](Fe,"lp_hidden")}function O(e){if(e){ve(e);!ke.isMobile()&&!ke.isTablet()||re()||he(e)}}function N(){if(!$e){M();ye=null;Te=null;x(!1);_e.remove?_e.remove():document.body.removeChild(_e);$e=!0;Ye.runCallback(Ke)}}function I(){return Ze.WRAPPER_DIV_ID}function x(e){Je=e}function R(){return Je===!0}function j(){c(!0)}function M(){W();Ee.off(Ee.EVENT_NAME.ORIENTATION_CHANGE,de)}function W(){var e=Ne.querySelector(['[data-lp-point="confirm_button"]']),n=Ne.querySelector(['[data-lp-point="cancel_button"]']);Ye.unregisterEvent(Oe,"click",j);Ye.unregisterEvent(We,"click",N);n&&Ye.unregisterEvent(n,"click",G);e&&Ye.unregisterEvent(e,"click",N)}function L(){Ye.registerEvent(We,"click",N)}function D(e){ue();var n=Me.querySelector('[data-lp-point="message"]');if(n){n.remove?n.remove():Me.removeChild(n);e||p("");q()}}function P(){return Qe.iconsRepository}function U(e,n){var t=lpTag.HtmlSanitizerUtils&&lpTag.HtmlSanitizerUtils.sanitizeHtml(e.text).cleanText||"",i=lpTag.HtmlSanitizerUtils&&lpTag.HtmlSanitizerUtils.sanitizeHtml(e.imgUrl).cleanText||"",a=lpTag.HtmlSanitizerUtils&&lpTag.HtmlSanitizerUtils.sanitizeHtml(e.imgAltText).cleanText||"";g();D();var o;o=n===ze.WAIT?'<div class="lp_message" data-lp-point="message"><div class="lp_skeleton-window-body"><div class="lp_skeleton-header"><div class="lp_skeleton-box"></div></div><div class="lp_skeleton-message lp_skeleton-agent"><div class="lp_skeleton-box"></div></div><div class="lp_skeleton-message lp_skeleton-visitor"><div class="lp_skeleton-box"></div></div><div class="lp_skeleton-input"><div class="lp_skeleton-box"></div></div></div></div>':'<div class="lp_message" data-lp-point="message" aria-labelledby="lp_alert_message"><table class="lp_centralizer"><tbody><tr><td><img src="{{imagesRepository}}/{{imageUrl}}"><div id="lp_alert_message" class="lp_text">{{text}}</div><div class="lp_buttons_area lp_hidden"><button class="lp_cancel_button" data-lp-point="cancel_button" data-lp-cust-id="cancel_button">{{cancel}}</button> <button class="lp_confirm_button" data-lp-point="confirm_button" data-lp-cust-id="button">{{confirm}}</button></div></td></tr></tbody></table></div>';o=K(o);o=o.replace("{{text}}",t);o=o.replace("{{imageUrl}}",i);o=o.replace("{{loading}}",a||"");o=o.replace("{{cancel}}",Xe.getString("closeWindowCancelBtn"));o=o.replace("{{confirm}}",Xe.getString("closeWindowOkBtn"));e.showConfirm&&(o=o.replace("lp_hidden",""));if(e.needConfirmation){Ye.unregisterEvent(We,"click",N);Ye.registerEvent(We,"click",B)}if(e.deleteSession){Ye.unregisterEvent(We,"click",N);Ye.registerEvent(We,"click",F)}Me.innerHTML+=o;V(e.showConfirm);setTimeout(function(){Me.firstChild.setAttribute("role","alert")},0)}function V(e){if(e){var n=Ne.querySelector(['[data-lp-point="cancel_button"]']),t=Ne.querySelector(['[data-lp-point="confirm_button"]']);Ye.registerEvent(n,"click",G);Ye.registerEvent(t,"click",F)}}function B(){d(ze.CONFIRMATION);Ye.unregisterEvent(We,"click",B);Ye.registerEvent(We,"click",F)}function F(){i.trigger({appName:"*",eventName:"knockout"})}function H(){i.bind({appName:"*",eventName:"translatorReady",func:te})}function G(){Ye.unregisterEvent(We,"click",B);Ye.registerEvent(We,"click",N);d(Ce)}function K(e){e=e.replace(/\{\{iconsRepository\}\}/g,P());e=e.replace(/\{\{imagesRepository\}\}/g,Qe.imagesRepository);return e}function q(){Ye.removeClass(Me,"lp_centered")}function Z(e,n){if("object"==typeof e)for(var t in e)Qe[t]=e[t];else Qe[e]=n}function X(e,n,t,i){ke=n;Ee=t;Ke=i;Xe.setConfig(e);Z(e);Y()}function Y(e){e&&Xe.setLocale(e);Se={CONNECTION_UNAVAILABLE:{title:Xe.getString("couldNotConnect"),imgUrl:"connect-error-dark.png",text:Xe.getString("connectionUnavailable"),error:!0},RIP:{title:Xe.getString("error"),imgUrl:"connect-error-dark.png",text:Xe.getString("chatEndedOnExternalWindow"),error:!0},EXTERNAL_OPEN:{title:Xe.getString("error"),imgUrl:"connect-error-dark.png",text:Xe.getString("externalWindowOpen"),error:!0},UNSUPPORTED:{title:Xe.getString("error"),imgUrl:"connect-error-dark.png",text:Xe.getString("unsupportedBrowserMode"),error:!0},IN_SESSION:{title:Xe.getString("error"),imgUrl:"connect-error-dark.png",text:Xe.getString("cannotResumeChat"),error:!0},AUTH_ERROR:{title:Xe.getString("error"),imgUrl:"thank-you-dark.png",text:Xe.getString("chatAuthError"),error:!0,needConfirmation:!1,deleteSession:!0},CONFIRMATION:{title:Xe.getString("error"),imgUrl:"thank-you-dark.png",text:Xe.getString("confirmMessage"),error:!0,showConfirm:!0},FAILED_START_CONVERSATION_ERROR:{title:Xe.getString("error"),imgUrl:"connect-error-dark.png",text:Xe.getString("startConversationError"),error:!0},SESSION_EXPIRED:{title:Xe.getString("sessionExpired"),imgUrl:"embedded-error.png",text:Xe.getString("sessionError"),error:!0},WAIT:{title:Xe.getString("loading"),imgUrl:"loader_on_warmGray5_75.gif",imgAltText:Xe.getString("loading")}};ze=Ye.objectKeys(Se)}function J(){var e=Ze.WRAPPER_DIV_CSS_CLASS_PREFIX;if(ke.isMobile()){e+=Ze.MOBILE_CSS_CLASS;Ye.addClass(_e,Ze.DEVICE_CLASS)}else if(ke.isTablet()){e+=Ze.TABLET_CSS_CLASS;Ye.addClass(_e,Ze.DEVICE_CLASS)}else e+=Ze.DESKTOP_CSS_CLASS;Ye.addClass(_e,e);return e}function $(){ke.isNativeAndroid()&&Ye.addClass(_e,Ze.WRAPPER_DIV_CSS_CLASS_PREFIX+Ze.NATIVE_CSS_CLASS);var e=Ze.WRAPPER_DIV_CSS_CLASS_PREFIX;if(ke.isIE())e+="ie"+ke.browserVersion();else if(ke.isIOS()){e+=Ze.IOS_CSS_CLASS;ke.isIOS6()?e+=" "+Ze.IOS6_CSS_CLASS:ke.isIOS8OrAbove()&&(e+=" "+Ze.WRAPPER_DIV_CSS_CLASS_PREFIX+Ze.IOS8_OR_ABOVE_CSS_CLASS)}else if(ke.isAndroid())e+=Ze.ANDROID_CSS_CLASS;else{if(!ke.isMacOS())return;e+=Ze.MAC_OSX_CSS_CLASS}Ye.addClass(_e,e);return e}function Q(){var e='<div class="lp_minimized lpc_window lpc_window_minimized {{deviceClass}}" data-lp-point="minimized" data-lp-cust-id="minimized" role="region"><div class="lp_main" data-lp-point="main" role="navigation"><div class="lp_header lpc_minimized-header {{deviceClass}}" data-lp-point="header" data-lp-cust-id="top"><div tabindex="0" class="lp_notification_number lpc_minimized-header__notification-counter {{deviceClass}} lpHide" data-lp-point="notification_counter"><span class="lp_notification_text" role="alert" data-lp-point="notification_text">{{notification_number}}</span></div><div class="lp_header-content-wrapper"><div class="lp_title lpc_minimized-header__text-wrapper {{deviceClass}}" role="heading"><div class="lp_chatting-with-icon lpc_minimized-header__icon {{deviceClass}} lpHide" data-lp-type="icon" data-lp-point="chattingWithIcon"><img class="lpc_minimized-header__icon-asset {{deviceClass}}" src="{{iconsRepository}}/sprites_v1.png" alt="" data-lp-cust-id="topBarIcon" draggable="false"></div><span data-lp-point="headerText" data-lp-cust-id="top_text" class="lp_top-text lpc_minimized-header__text {{deviceClass}}" data-studio-click="true">{{windowTitle}}</span></div><div class="lp_header-buttons-container"><button title="{{tooltip_Maximize}}" class="lp_maximize lpc_minimized-header__maximize-button {{deviceClass}}" data-lp-point="maximize" role="button"><span class="lp_maximize-icon" data-lp-type="icon"><img class="lpc_minimized-header__maximize-button-asset {{deviceClass}}" src="{{iconsRepository}}/sprites_v1.png" alt="{{tooltip_Maximize}}" aria-hidden="true" draggable="false"></span></button> <button title="{{tooltip_Close}}" class="lp_close lpc_minimized-header__close-button {{deviceClass}}" data-lp-point="close" role="button"><span class="lp_close-icon" data-lp-type="icon"><img class="lpc_minimized-header__close-button-asset {{deviceClass}}" src="{{iconsRepository}}/sprites_v1.png" alt="{{tooltip_Close}}" aria-hidden="true" draggable="false"></span></button></div></div></div></div></div>';e=K(e);e=e.replace(/\{\{tooltip_Close\}\}/g,Xe.getString("tooltip_Close"));e=e.replace(/\{\{deviceClass\}\}/g,lpTag.unifiedWindow.customization.deviceClass);Ae.innerHTML+=e}function ee(){Q();ne();ie()}function ne(){var e='<div class="lp_maximized lpmx lpc_window lpc_window_maximized {{deviceClass}}" data-lp-point="maximized" data-lp-cust-id="maximizedWindow" role="dialog" aria-label="{{windowRegionLabel}}"><div class="lp_header lpc_maximized-header {{deviceClass}}" data-lp-point="header" data-lp-cust-id="top" data-studio-click="true"><div class="lp_header-content-wrapper"><button title="{{tooltip_open_widgets}}" class="lp_hidden lp_slider lpc_maximized-header__slider-button {{deviceClass}}" data-lp-point="widget_sdk"><span class="lp-slider-icon" data-lp-type="icon"><img class="lpc_maximized-header__slider-button-asset {{deviceClass}}" src="{{iconsRepository}}/sprites_v1.png" alt="" aria-hidden="true"></span></button><div class="lp_notification_number wsdkNotification lpHide" data-lp-point="widgetNotificationContainer"><span class="lp_notification_text" data-lp-point="widgetNotificationText" role="alert" aria-live="assertive">0</span></div><div class="lp_title lpc_maximized-header__text-wrapper {{deviceClass}}" data-lp-point="maximizedTitleContainer"><div class="lp_chatting-with-icon lpc_maximized-header__icon lpc_maximized-header__icon {{deviceClass}} lpHide" data-lp-type="icon" data-lp-point="chattingWithIcon"><img class="lpc_maximized-header__icon-asset {{deviceClass}}" src="{{iconsRepository}}/sprites_v1.png" alt="" aria-hidden="true" data-lp-cust-id="topBarIcon"></div><span data-lp-point="headerText" data-lp-cust-id="top_text" class="lp_top-text lpc_maximized-header__text {{deviceClass}}" data-studio-click="true" aria-live="polite" aria-atomic="true" role="heading" aria-level="2" aria-label="{{windowTitle}}">{{windowTitle}}</span></div><div class="lp_header-buttons-container"><div tabindex="0" role="button" class="lp_menu-top-btn lpc_maximized-header__menu-button {{deviceClass}}" data-lp-cust-id="top_menu_button" data-lp-point="menu-top-btn" data-studio-click="true" aria-label="{{tooltip_ExpandActionMenu}}"><div class="lp_menu-top-icon" data-lp-type="icon"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" class="lpc_maximized-header__menu-button-asset {{deviceClass}}" aria-hidden="true"><g fill="none" fill-rule="evenodd"><path fill="#848586" d="M6.5 11a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm6 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm6 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/></g></svg></div></div><div tabindex="0" role="button" title="{{tooltip_Minimize}}" class="lp_minimize lpc_maximized-header__minimize-button {{deviceClass}}" data-lp-point="minimize"><span class="lp_minimize-icon" data-lp-type="icon" data-lp-point="minimize_icon"><img class="lpc_maximized-header__minimize-button-asset {{deviceClass}}" src="{{iconsRepository}}/sprites_v1.png" alt="{{tooltip_Minimize}}" aria-hidden="true" draggable="false"></span></div><div tabindex="0" role="button" title="{{tooltip_Close}}" class="lp_close lpc_maximized-header__close-button {{deviceClass}}" data-lp-point="close"><span class="lp_close-icon" data-lp-type="icon"><img class="lpc_maximized-header__close-button-asset {{deviceClass}}" src="{{iconsRepository}}/sprites_v1.png" alt="{{tooltip_Close}}" aria-hidden="true" draggable="false"></span></div></div></div></div><div class="lp_main lpc_body {{deviceClass}}" data-lp-point="main" data-lp-cust-id="mainArea" role="main"></div></div><div data-lp-point="buffer-strip" class="lp_buffer-strip"><div class="lp_buffer-strip-container" data-lp-cust-id="mainArea"></div></div>';e=K(e);e=e.replace(/\{\{tooltip_Close\}\}/g,Xe.getString("tooltip_Close"));e=e.replace(/\{\{deviceClass\}\}/g,lpTag.unifiedWindow.customization.deviceClass);e=e.replace(/\{\{windowRegionLabel\}\}/g,Xe.getString("windowRegionLabel"));Ae.innerHTML+=e}function te(){document.querySelector('[data-lp-point="maximized"]').setAttribute("aria-label",Xe.getString("windowRegionLabel"));document.querySelector('[title="{{tooltip_open_widgets}}"]').title=Xe.getString("tooltip_open_widgets");i.unbind({appName:"*",eventName:"translatorReady",func:te})}function ie(){Oe=Ae.querySelector('[data-lp-point="minimized"]');Ne=Ae.querySelector('[data-lp-point="maximized"]');Ie=Ae.querySelector('[data-lp-point="buffer-strip"]')}function ae(e){Ae=document.createElement("div");if(Ze.WRAPPER_DIV_ID){Ae.id=Ze.WRAPPER_DIV_ID;Ye.addClass(Ae,Ze.WRAPPER_CLASS_NAME);Ye.addClass(Ae,e)}_e=document.createElement("div");_e.appendChild(Ae);document.body.appendChild(_e)}function oe(e){var n=e&&e.window,t=e&&e.engConf&&e.engConf.lang,i=e&&e.engConf&&e.engConf.site||lpTag.site;t&&Y(t);$e=!1;be();ae(i);ee();var a=Oe.querySelector('[data-lp-point="main"]');Ye.addClass(Oe,"lpHide");if(Ze.MINIMIZED_VIEW_IFRAME_RENDERING){xe=ce(a);Re=xe.body;Ye.addClass(Re,"lp_main")}else Re=a;var o=Ne.querySelector('[data-lp-point="main"]');if(Ze.MAXIMIZED_VIEW_IFRAME_RENDERING){je=ce(o);Me=je.body;Ye.addClass(Me,"lp_main");Ye.addClass(Me,"lpc_body")}else Me=o;Le=Ne.querySelector(['[data-lp-point="widget_sdk"]']);De=Ne.querySelector(['[data-lp-point="widgetNotificationContainer"]']);Pe=Ne.querySelector(['[data-lp-point="widgetNotificationText"]']);Ue=Ne.querySelector(['[data-lp-point="maximizedTitleContainer"]']);Ve=Ne.querySelector(['[data-lp-point="chattingWithIcon"]']);We=Ne.querySelector(['[data-lp-point="close"]']);Be=Ne.querySelector(['[data-lp-point="minimize"]']);Fe=Ne.querySelector(['[data-lp-point="menu-top-btn"]']);He=Ne.querySelector(['[data-lp-point="popicon"]']);He&&Ye.addClass(He,Qe.poppedOut?"lp_pop-in-icon":"lp_pop-out-icon");if(re()){pe();ge();fe(Qe.engConf.lang);me()}A(!1);z(!1);_(!1);l(n);se();x(!0);le()}function re(){return Qe.poppedOut||Qe.external}function se(){Ge=setTimeout(function(){d(ze.WAIT)},Ze.WAIT_INDICATION_DELAY)}function le(){J();$();if(ke.isMobile()||ke.isTablet()){de({landscape:Ee.isLandscape()});Ee.on(Ee.EVENT_NAME.ORIENTATION_CHANGE,de)}}function ce(e){var n=document.createElement("iframe");e.appendChild(n);return n.contentWindow.document}function ue(){clearTimeout(Ge)}function de(e){var n=Ze.WRAPPER_DIV_CSS_CLASS_PREFIX;if(e.landscape){Ye.removeClass(_e,n+Ze.PORTRAIT_CSS_CLASS);Ye.addClass(_e,n+Ze.LANDSCAPE_CSS_CLASS)}else{Ye.removeClass(_e,n+Ze.LANDSCAPE_CSS_CLASS);Ye.addClass(_e,n+Ze.PORTRAIT_CSS_CLASS)}}function pe(){Ye.addClass(Ne,Ze.EXTERNAL_CSS_CLASS)}function ge(){Qe.hideTopBar&&Ye.addClass(Ne,Ze.HIDE_TOP_BAR_CSS_CLASS)}function me(){Qe.NativeSDK&&Ye.addClass(Ne,Ze.WEBVIEW_CSS_CLASS)}function fe(e){document.documentElement.setAttribute("lang",e)}function ve(e){var n=e.getStyle("top","border-radius"),t=e.getStyle("input","border-radius");if(n&&t){var i=n.split(" ").slice(0,2),a=t.split(" ").slice(2),o=i[0]+" "+i[1]+" "+a[0]+" "+a[1];Oe.style.borderRadius=n;Ne.style.borderRadius=o}else if(!n&&t)Ne.style.borderRadius=t;else{Oe.style.borderRadius=n;Ne.style.borderRadius=n}}function he(e){var n=e.getStyle("mobileOpacity","text");n&&"true"===n&&(Ne.style.opacity=1)}function be(){window.outerWidth<window.innerWidth&&window.outerWidth<Ze.MINIMUM_INNER_WIDTH&&window.resizeTo(Ze.MINIMUM_INNER_WIDTH,window.outerHeight)}var ke,Ee,we,Ce,Se,ye,Te,ze,Ae,_e,Oe,Ne,Ie,xe,Re,je,Me,We,Le,De,Pe,Ue,Ve,Be,Fe,He,Ge,Ke,qe=lpTag.unifiedWindow,Ze={STYLE_TAG_ID:"lpChatStyle",WRAPPER_DIV_ID:"lpChat",WRAPPER_CLASS_NAME:"lp-window-root",WRAPPER_DIV_CSS_CLASS_PREFIX:"lp_",MOBILE_CSS_CLASS:"mobile",TABLET_CSS_CLASS:"tablet",DESKTOP_CSS_CLASS:"desktop",DEVICE_CLASS:"lpdv",ANDROID_CSS_CLASS:"android",IOS_CSS_CLASS:"ios",IOS6_CSS_CLASS:"ios6",IOS8_OR_ABOVE_CSS_CLASS:"ios8_or_above",MAC_OSX_CSS_CLASS:"mac_osx",NATIVE_CSS_CLASS:"native_android",EXTERNAL_CSS_CLASS:"lp_external-window",HIDE_TOP_BAR_CSS_CLASS:"lp_no-top",WEBVIEW_CSS_CLASS:"lp_webview-window",PORTRAIT_CSS_CLASS:"portrait",LANDSCAPE_CSS_CLASS:"landscape",MINIMIZED_VIEW_IFRAME_RENDERING:!1,MAXIMIZED_VIEW_IFRAME_RENDERING:!1,MINIMUM_INNER_WIDTH:372,WAIT_INDICATION_DELAY:250,LARGE:"lp_maximized_large",FLOATING:"lp_floating",MINIMIZED_LARGE:"lp_minimized_large"},Xe=qe.language,Ye=lpTag.taglets.lpUtil,Je=(qe.log,!1),$e=!1,Qe={isMaximized:!0};X(e,n,t,a);H();return{render:f,show:g,hide:m,message:d,removeMessage:D,unbindDomEvents:W,setTitle:p,Messages:ze,getMinimizedElement:h,getBufferStripElement:b,getMaximizedElement:k,getMainWindowElement:v,getChatWrapperElement:E,getSliderButton:w,getWidgetNotificationContainer:C,getWidgetNotificationText:S,getTitleDiv:y,getChattingWIthIcon:T,dispose:N,showClose:z,showMinimized:A,showTopMenu:_,getIconRepository:P,adjustConfigStyle:O,getWrapperElementId:I}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.defaultDictionary=lpTag.unifiedWindow.defaultDictionary||{error:"Error",couldNotConnect:"Oops - unable to connect.",tryAgain:"Try again",loadingOnMinimize:"Loading",loading:"Loading",unableToConnect:"Unable to connect",reconnect:"Trying to reconnect",chatEndedOnExternalWindow:"Close window in order to start new chat",externalWindowOpen:"You have an ongoing chat. Return to that window to continue the chat.",unsupportedBrowserMode:"Your browser may be in incognito mode, or it may be blocking third party cookies. Please open a regular browser session to chat, or check your browser privacy settings",cannotResumeChat:"Resume chat from the tab where the interaction began",crossDomainError:"Cannot resume conversation, please return to previous page to continue.",chatAuthError:"Go back to the previous page or log in to continue your conversation.",confirmMessage:"Closing the conversation means that you wont be able to continue even if you go back or log in. Are you sure you want to proceed?",startConversationError:"Please refresh the page and start a new conversation.",connectionUnavailable:"Connection unavailable",sessionExpired:"Session expired",sessionError:"Your session has expired. Please close this window and start a new conversation in order to resume.",sharkSessionExpired:"Please refresh the page and start a new conversation.",toMoveThisWindowPressAltPlusArrowKey:"To move this window, press alt plus arrowkey",tooltip_Close:"Close",tooltip_Minimize:"Minimize",tooltip_open_widgets:"Open widgets",tooltip_close_widgets:"Close widgets",tooltip_refresh_slider:"Refresh",closeWindowOkBtn:"OK",closeWindowCancelBtn:"Cancel",windowRegionLabel:"Chat window","de-DE":{error:"Fehler",couldNotConnect:"Leider kann die Verbindung nicht hergestellt werden",tryAgain:"Versuchen Sie es erneut",loadingOnMinimize:"System ldt",loading:"Chat ldt",unableToConnect:"Verbindung kann nicht hergestellt werden",reconnect:"Wiederhole Verbindungsaufbau",chatEndedOnExternalWindow:"Schlieen Sie das Fenster, um einen neuen Chat zu starten",externalWindowOpen:"Sie befinden sich derzeit in einem Chatgesprch. Kehren Sie zu diesem Fenster zurck, um den Chat fortzusetzen.",unsupportedBrowserMode:"Ihr Browser ist mglicherweise im Incognito-Modus, oder er blockiert Cookies von Drittanbietern. Bitte starten Sie eine regulre Browsersitzung, oder berprfen Sie die Privatsphreeinstellungen Ihres Browsers.",cannotResumeChat:"Chat vom Tab fortfhren, auf dem der Chat begonnen hat",crossDomainError:"Gesprch kann nicht wieder aufgenommen werden. Wechseln Sie zur vorherigen Seite, um fortzufahren.",chatAuthError:"Gehen Sie zurck zur vorherigen Seite oder melden Sie sich an, um das Gesprch fortzufhren.",confirmMessage:"Wenn Sie das Gesprch schlieen, knnen Sie es nicht fortsetzen, auch wenn Sie zurck auf die vorherige Seite gehen oder sich anmelden. Mchten Sie wirklich fortfahren?",startConversationError:"Aktualisieren Sie die Seite und starten Sie ein neues Gesprch.",connectionUnavailable:"Verbindung nicht verfgbar",sessionExpired:"Sitzung abgelaufen",sessionError:"Die Sitzung ist abgelaufen. Schlieen Sie dieses Fenster und starten Sie ein neues Gesprchs, um die Unterhaltung fortzusetzen.",sharkSessionExpired:"Aktualisieren Sie die Seite und starten Sie ein neues Gesprch."},"da-DK":{error:"Fejl",couldNotConnect:"Hov- kan ikke oprette forbindelse",tryAgain:"Prv igen",loadingOnMinimize:"Indlser",loading:"Indlser",unableToConnect:"Kan ikke oprette forbindelse",reconnect:"Prver at oprette forbindelse igen",chatEndedOnExternalWindow:"Luk vinduet for at starte ny chat",externalWindowOpen:"Du har en igangvrende chat. Vend tilbage til vinduet for at fortstte chatten.",unsupportedBrowserMode:"Din browser er i incognito-funktion eller blokerer eksterne cookies. bn en almindelig browser for at chatte eller kontroller browserens indstillinger",cannotResumeChat:"Fortst chat fra fanen, hvor interaktionen startede",crossDomainError:"Kan ikke fortstte samtalen, g tilbage til forrige side for at fortstte.",chatAuthError:"G tilbage til forrige side eller p og fortst samtalen.",confirmMessage:"Lukker du samtalen, kan du ikke fortstte, selvom du gr tilbage eller logger ind. Er du sikker p du vil g videre?",startConversationError:"Opdater siden og start ny samtale.",connectionUnavailable:"Ingen forbindelse",sessionExpired:"Session udlbet",sessionError:"Din session er udlbet. Luk vinduet og start ny samtale for at fortstte.",sharkSessionExpired:"Opdater siden og start ny samtale."},"es-ES":{error:"Error",couldNotConnect:"Vaya, no hemos podido conectar",tryAgain:"Intntelo de nuevo",loadingOnMinimize:"Cargando",loading:"Cargando",unableToConnect:"No se ha podido conectar",reconnect:"Intentando reconectar",chatEndedOnExternalWindow:"Cierre la ventana para iniciar un nuevo chat",externalWindowOpen:"Tiene un chat en proceso Vuelva a esa ventana para continuar el chat.",unsupportedBrowserMode:"Su navegador puede estar en modo incgnito, o quiz est bloqueando cookies de terceros. Por favor, abra una sesin de navegador normal para charlar, o compruebe los ajustes de privacidad de su navegador",cannotResumeChat:"Reanudar el chat desde la pestaa donde comenz la interaccin",crossDomainError:"No se puede reanudar la conversacin; por favor, vuelva a la pgina anterior para continuar.",chatAuthError:"Vuelva a la pgina anterior o inicie sesin para continuar su conversacin.",confirmMessage:"Cerrar la conversacin significa que no podr continuar incluso si vuelve o inicia sesin. Seguro que desea continuar?",startConversationError:"Por favor, actualice la pgina e inicie una nueva conversacin.",connectionUnavailable:"Conexin no disponible",sessionExpired:"Sesin caducada",sessionError:"Su sesin ha caducado. Por favor cierre esta ventana e inicie una nueva conversacin para reanudar.",sharkSessionExpired:"Por favor, actualice la pgina e inicie una nueva conversacin."},"fi-FI":{error:"Virhe",couldNotConnect:"Oho - yhteys ei onnistunut",tryAgain:"Yrit uudelleen",loadingOnMinimize:"Lataa",loading:"Lataa",unableToConnect:"Yhteys ei onnistunut",reconnect:"Yhdist uudelleen",chatEndedOnExternalWindow:"Sulje ikkuna aloittaaksesi uuden keskustelun",externalWindowOpen:"Sinulla on meneilln keskustelu. Palaa takaisin kyseiseen ikkunaan jatkaaksesi keskustelua.",unsupportedBrowserMode:"Selaimesi saattaa olla incognito-tilassa tai se saattaa est kolmannen osapuolen evsteet. Avaa normaali selainistunto keskustellaksesi tai tarkista selaimesi yksityisyysasetukset",cannotResumeChat:"Jatka keskustelua vlilehdest, josta aloitit sen.",crossDomainError:"Keskustelua ei voitu jatkaa, palaa edelliselle sivulle.",chatAuthError:"Mene takaisin edelliselle sivulle tai kirjaudu sisn jatkaaksesi keskustelua.",confirmMessage:"Keskustelun sulkeminen tarkoittaa sit, ettet voi jatkaa sit, vaikka palaisitkin takaisin tai kirjautuisit sisn. Haluatko varmasti jatkaa?",startConversationError:"Pivit tm sivu ja aloita uusi keskustelu.",connectionUnavailable:"Ei yhteytt",sessionExpired:"Istunto umpeutui",sessionError:"Istuntosi on umpeutunut. Sulje tm ikkuna ja aloita uusi keskustelu jatkaaksesi",sharkSessionExpired:"Pivit tm sivu ja aloita uusi keskustelu."},"fr-FR":{error:"Erreur",couldNotConnect:"Oops - connexion impossible.",tryAgain:"Ressayer",loadingOnMinimize:"Chargement",loading:"Chargement",unableToConnect:"Impossible de se connecter",reconnect:"Tentative de reconnexion en cours",
chatEndedOnExternalWindow:"Fermer la fentre pour dmarrer une nouvelle conversation",externalWindowOpen:"Vous avez une conversation en cours. Revenir  cette fentre pour continuer la conversation.",unsupportedBrowserMode:"Votre navigateur est peut-tre en mode incognito ou bloque peut-tre les cookies en provenance de tierce partie. Veuillez ouvrir une session de navigateur ordinaire pour dmarrer une conversation ou vrifiez les paramtres de confidentialit de votre navigateur",cannotResumeChat:"Reprenez la conversation sur longlet ou la communication a commenc",crossDomainError:"Impossible de reprendre la conversation. Veuillez retourner  la page prcdente pour continuer.",chatAuthError:"Retournez  la page prcdente ou connectez-vous pour continuer votre conversation.",confirmMessage:"Si vous fermez la conversation, vous ne pourrez pas continuer celle-ci mme si vous retournez en arrire ou si vous vous connectez. tes-vous sr de vouloir continuer?",startConversationError:"Veuillez rafrachir la page et dmarrer une nouvelle discussion.",connectionUnavailable:"Connexion indisponible",sessionExpired:"Session expire",sessionError:"Votre session a expir. Veuillez fermer cette fentre et dmarrer une nouvelle conversation pour continuer.",sharkSessionExpired:"Veuillez rafrachir la page et dmarrer une nouvelle discussion."},"it-IT":{error:"Errore",couldNotConnect:"Oops - impossibile connettere",tryAgain:"Riprova",loadingOnMinimize:"Caricamento..",loading:"Caricamento..",unableToConnect:"Impossibile connettere.",reconnect:"Tentativo di riconnessione",chatEndedOnExternalWindow:"Chiudi la finestra per iniziare una nuova chat",externalWindowOpen:"Hai una chat in corso. Torna alla finestra per continuare la chat.",unsupportedBrowserMode:"Il tuo browser potrebbe essere in modalit private o bloccare i cookie di terze parti. Apri una sessione di browser regolare oppure controlla le impostazioni di bel browser",cannotResumeChat:"Ripristina la chat dalla scheda in cui  stata avviata l'interazione",crossDomainError:"Impossibile riprendere la conversazione, tornare alla pagina precedente per continuare.",chatAuthError:"Torna alla pagina precedente o accedi per proseguire la conversazione.",confirmMessage:"Se chiuderai la conversazione non potrai proseguirla, nemmeno tornando indietro o effettuando lacceso. Continuare?",startConversationError:"Aggiorna la pagina e avvia una nuova conversazione.",connectionUnavailable:"Connessione non disponibile",sessionExpired:"Sessione scaduta",sessionError:"Sessione scaduta. Chiudere questa finestra e avviare una nuova conversazione per riprendere.",sharkSessionExpired:"Aggiorna la pagina e avvia una nuova conversazione."},"ja-JP":{error:"",couldNotConnect:"",tryAgain:"",loadingOnMinimize:"",loading:"",unableToConnect:"",reconnect:"",chatEndedOnExternalWindow:"",externalWindowOpen:"",unsupportedBrowserMode:" ",cannotResumeChat:"",crossDomainError:"",chatAuthError:"",confirmMessage:"?",startConversationError:"",connectionUnavailable:"",sessionExpired:"",sessionError:"",sharkSessionExpired:""},"ko-KR":{error:"",couldNotConnect:" -   ",tryAgain:" ",loadingOnMinimize:" ",loading:" ",unableToConnect:"  ",reconnect:"   ",chatEndedOnExternalWindow:"    ",externalWindowOpen:"   .      .",unsupportedBrowserMode:"      .          ",cannotResumeChat:"     ",crossDomainError:"    .     .",chatAuthError:"     .",confirmMessage:"        .  ?",startConversationError:"     .",connectionUnavailable:"   ",sessionExpired:" ",sessionError:" .        .",sharkSessionExpired:"     .",__config__:{timeOrder:"mdt"}},"nl-NL":{error:"Fout",couldNotConnect:"Oeps, we kunnen geen verbinding maken.",tryAgain:"Probeer het opnieuw",loadingOnMinimize:"Bezig met openen...",loading:"Bezig met openen...",unableToConnect:"Er kan geen verbinding tot stand worden gebracht",reconnect:"Er wordt opnieuw geprobeerd verbinding te maken",chatEndedOnExternalWindow:"Sluit het venster om een nieuw chatgesprek te starten.",externalWindowOpen:"Er is een chatgesprek actief. Ga terug naar het venster om het chatgesprek voort te zetten.",unsupportedBrowserMode:"Uw browser is wellicht in incognitomodus of blokkeert cookies van externe partijen. Start een gewone browsersessie om te chatten of controleer de privacy-instellingen van uw browser",cannotResumeChat:"Hervat de chatsessie op het tabblad waar de interactie begon",crossDomainError:"Het gesprek kan niet worden hervat. Ga terug naar de vorige pagina om verder te gaan.",chatAuthError:"Ga terug naar de vorige pagina of meld u aan om uw gesprek te vervolgen.",confirmMessage:"Als u het gesprek beindigt, kunt u het niet vervolgen  ook al zou u teruggaan of u opnieuw aanmelden.      Weet u zeker dat u verder wilt gaan?",startConversationError:"Vernieuw de pagina en start een nieuw gesprek.",connectionUnavailable:"Verbinding niet beschikbaar",sessionExpired:"Sessie verlopen",sessionError:"Uw sessie is verlopen. Sluit dit venster en start een nieuw gesprek om te hervatten.",sharkSessionExpired:"Vernieuw de pagina en start een nieuw gesprek."},"ru-RU":{error:"",couldNotConnect:"   ",tryAgain:"  ",loadingOnMinimize:"...",loading:"...",unableToConnect:"   ",reconnect:"  ",chatEndedOnExternalWindow:"      .",externalWindowOpen:"    .         .",unsupportedBrowserMode:"      ;     -. ,           ",cannotResumeChat:"  ,   ,     .",crossDomainError:"  . ,    .",chatAuthError:"          .",confirmMessage:"    ,               . ?",startConversationError:"     .",connectionUnavailable:" ",sessionExpired:" ",sessionError:" .          .",sharkSessionExpired:"     ."},"pt-BR":{error:"Erro",couldNotConnect:"Ops  impossvel conectar.",tryAgain:"Tente novamente",loadingOnMinimize:"Carregando",loading:"Carregando",unableToConnect:"Impossvel conectar",reconnect:"Tentando reconectar",chatEndedOnExternalWindow:"Fechar a janela para iniciar um novo chat",externalWindowOpen:"Voc tem um chat em andamento. Volte para a janela para continuar o chat.",unsupportedBrowserMode:"Seu navegador poder estar no modo annimo ou estar bloqueando cookies de terceiros. Abra uma sesso regular do navegador para conversar por chat ou verifique as configuraes de privacidade do navegador",cannotResumeChat:"Continuar o chat na guia onde a interao comeou",crossDomainError:"No possvel continuar a conversa. Volte para a pgina anterior para continuar.",chatAuthError:"Volte para a pgina anterior ou faa login para continuar sua conversa.",confirmMessage:"Fechar a conversa significa que voc no poder continuar mesmo de voltar ou fizer login. Tem certeza de que deseja continuar?",startConversationError:"Atualize a pgina e inicie uma nova conversa.",connectionUnavailable:"Conexo no disponvel.",sessionExpired:"Sesso expirada",sessionError:"Sua sesso expirou. Feche esta janela e inicie uma nova conversa para continuar.",sharkSessionExpired:"Atualize a pgina e inicie uma nova conversa."},"sk-SK":{error:"Chyba",couldNotConnect:"Uff  pripojenie nie je mon",tryAgain:"Skste znova",loadingOnMinimize:"Natavanie",loading:"Natavanie",unableToConnect:"Pripojenie nie je mon",reconnect:"Poka sa ooptovn pripojenie",chatEndedOnExternalWindow:"Ak chcete zaa nov konverzciu, zavrite okno",externalWindowOpen:"Momentlne prebieha konverzcia. Ak chcete pokraova vkonverzcii, vrte sa do prslunho okna.",unsupportedBrowserMode:"Prehliada me by spusten vanonymnom reime alebo me blokova sbory cookie tretch strn. Ak chcete konverzova, otvorte prehliada vtandardnom reime alebo skontrolujte nastavenia ochrany osobnch dajov prehliadaa",cannotResumeChat:"Obnovte diskusiu z karty, na ktorej sa zaala interakcia",crossDomainError:"Konverzciu nemono obnovi; pokraujte nvratom na predchdzajcu strnku.",chatAuthError:"Ak chcete pokraova vkonverzcii, vrte sa na predchdzajcu strnku alebo sa prihlste.",confirmMessage:"Zavretie konverzcie znamen, e nebudete mc pokraova, ani ak sa vrtite alebo prihlsite. Naozaj chcete pokraova?",startConversationError:"Obnovte strnku a zanite nov konverzciu.",connectionUnavailable:"Pripojenie je nedostupn",sessionExpired:"Platnos relcie uplynula",sessionError:"Platnos vaej relcie uplynula. Ak chcete pokraova, zavrite toto okno azanite nov konverzciu.",sharkSessionExpired:"Obnovte strnku a zanite nov konverzciu."},"tr-TR":{error:"Hata",couldNotConnect:"Ne yazk ki, balanlamyor",tryAgain:"Tekrar dene",loadingOnMinimize:"Ykleniyor",loading:"Ykleniyor",unableToConnect:"Balanlamyor",reconnect:"Yeniden balanmaya allyor",chatEndedOnExternalWindow:"Yeni sohbet balatmak iin pencereyi kapatn",externalWindowOpen:"Devam eden bir sohbetiniz var. Sohbete devam etmek iin o pencereye geri dnn.",unsupportedBrowserMode:"Taraycnz gizli modda olabilir veya nc parti tanmlama bilgilerini bloke ediyor olabilir. Ltfen sohbet etmek iin normal bir tarayc oturumu an veya taraycnzn kiisel gizlilik ayarlarn kontrol edin",cannotResumeChat:"Etkileimin balad sekmeden sohbeti srdrn",crossDomainError:"Grme srdrlemiyor, ltfen devam etmek iin nceki sayfaya geri dnn.",chatAuthError:"Konumaya devam etmek iin ltfen nceki sayfaya dnn veya tekrar giri yapn.",confirmMessage:"Bu sohbeti kapatrsanz, tekrar giri yapsanz veya nceki sayfaya dnseniz bile, daha sonra devam edemezsiniz. Devam etmek istediinizden emin misiniz?",startConversationError:"Ltfen sayfay yenileyin ve yeni bir grme balatn.",connectionUnavailable:"Balant yok",sessionExpired:"Oturum sresi doldu",sessionError:"Oturumunuzun sresi doldu. Devam etmek iin ltfen bu pencereyi kapatn ve yeni bir grme balatn.",sharkSessionExpired:"Ltfen sayfay yenileyin ve yeni bir grme balatn."},"en-US":{error:"Error",couldNotConnect:"Oops - unable to connect",tryAgain:"Try again",loadingOnMinimize:"Loading",loading:"Loading",unableToConnect:"Unable to connect",reconnect:"Trying to reconnect",chatEndedOnExternalWindow:"Close window in order to start new chat",externalWindowOpen:"You have an ongoing chat. Return to that window to continue the chat.",unsupportedBrowserMode:"Your browser may be in incognito mode, or it may be blocking third party cookies. Please open a regular browser session to chat, or check your browser privacy settings",cannotResumeChat:"Resume chat from the tab where the interaction began",crossDomainError:"Cannot resume conversation, please return to previous page to continue.",chatAuthError:"Go back to the previous page or log in to continue your conversation.",confirmMessage:"Closing the conversation means that you wont be able to continue even if you go back or log in. Are you sure you want to proceed?",startConversationError:"Please refresh the page and start a new conversation.",connectionUnavailable:"Connection unavailable",sessionExpired:"Session expired",sessionError:"Your session has expired. Please close this window and start a new conversation in order to resume.",sharkSessionExpired:"Please refresh the page and start a new conversation."},"zh-CN":{error:"",couldNotConnect:"",tryAgain:"",loadingOnMinimize:"",loading:"",unableToConnect:"",reconnect:"",chatEndedOnExternalWindow:"",externalWindowOpen:"",unsupportedBrowserMode:" cookie",cannotResumeChat:"",crossDomainError:"",chatAuthError:"",confirmMessage:"",startConversationError:"",connectionUnavailable:"",sessionExpired:"",sessionError:"",sharkSessionExpired:""},"ro-RO":{error:"Eroare",couldNotConnect:"Oops - nu se poate conecta",tryAgain:"ncercai din nou",loadingOnMinimize:"Se ncarc",loading:"Se ncarc",unableToConnect:"Nu se poate conecta",reconnect:"Se ncearc reconectarea",chatEndedOnExternalWindow:"nchidei fereastra pentru a ncepe un nou chat",externalWindowOpen:"Avei un chat n desfurare. Revenii la fereastra respectiv pentru a continua chatul.",unsupportedBrowserMode:"Este posibil ca browserul dv. s fie n modul incognito sau s blocheze cookie-urile de la teri. V rugm deschidei o sesiune ordinar de browser sau verificai setrile de confidenialitate.",cannotResumeChat:"Reluai conversaia de pe fila unde a nceput interaciunea.",crossDomainError:"Conversaia nu poate fi reluat. Pentru a continua, v rugm s revenii la pagina anterioar.",chatAuthError:"Mergei la pagina anterioar sau autentificai-v pentru a continua conversaia.",confirmMessage:"Dac nchidei conversaia, nu o mai putei continua chiar dac mergei la pagina anterioar sau v autentificai. Suntei sigur() c dorii s continuai?",startConversationError:"V rugm actualizai pagina i ncepei o nou conversaie.",connectionUnavailable:"Conexiune indisponibil",sessionExpired:"Sesiune expirat",sessionError:"Sesiunea dv. a expirat. Pentru a continua, v rugm nchidei fereastra i ncepei o nou conversaie.",sharkSessionExpired:"V rugm actualizai pagina i ncepei o nou conversaie."},"uk-UA":{error:"",couldNotConnect:".   ",tryAgain:"  ",loadingOnMinimize:" ",loading:" ",unableToConnect:"  ",reconnect:"   ",chatEndedOnExternalWindow:" ,    ",externalWindowOpen:"    .    ,   .",unsupportedBrowserMode:",            cookies            ",cannotResumeChat:"   ,     ",crossDomainError:"  .      .",chatAuthError:"      ,   .",confirmMessage:"   ,    ,       .  ?",startConversationError:"     .",connectionUnavailable:" ",sessionExpired:"   ",sessionError:"   .        .",sharkSessionExpired:"     ."},"ar-AE":{error:"",couldNotConnect:" -  ",tryAgain:" ",loadingOnMinimize:"",loading:"",unableToConnect:" ",reconnect:"  ",chatEndedOnExternalWindow:"       ",externalWindowOpen:"  .       .",unsupportedBrowserMode:"              .              .",cannotResumeChat:"        ",crossDomainError:"  .      .",chatAuthError:"         .",confirmMessage:"              .      ",startConversationError:"     .",connectionUnavailable:"   ",sessionExpired:"  ",sessionError:"  .          .",sharkSessionExpired:"     ."},"hr-HR":{error:"Greka",couldNotConnect:"Ups - povezivanje nije uspjelo",tryAgain:"Pokuajte ponovno",loadingOnMinimize:"Uitavanje",loading:"Uitavanje",unableToConnect:"Nije se mogue povezati",reconnect:"Ponovno se pokuava uspostaviti veza",chatEndedOnExternalWindow:"Zatvorite prozor kako biste zapoeli novo avrljanje",externalWindowOpen:"Imate aktivno avrljanje Vratite se u taj prozor ako elite nastaviti avrljati.",unsupportedBrowserMode:"Va preglednik moda je u inkognito nainu rada ili blokira kolaie tree strane. Ako elite avrljati, zaponite sesiju u obinom pregledniku ili provjerite postavke privatnosti u vaem pregledniku",cannotResumeChat:"avrljanje ete nastaviti u kartici u kojoj ste zapoeli interakciju",crossDomainError:"Nije mogue nastaviti razgovor, molimo vratite se na prethodnu stranicu kako biste nastavili.",chatAuthError:"Vratite se natrag na prethodnu stranicu ili se prijavite da nastavite razgovor.",confirmMessage:"Ako zatvorite razgovor neete moi nastaviti ak i ako se vratite natrag ili se prijavite. Jeste li sigurni da elite nastaviti?",startConversationError:"Molimo osvjeite stranicu i zaponite novi razgovor.",connectionUnavailable:"Veza je nedostupna.",sessionExpired:"Sesija je istekla",sessionError:"Vaa sesija je istekla. Ako elite nastaviti, zatvorite ovaj prozor i pokrenite novi razgovor.",sharkSessionExpired:"Molimo osvjeite stranicu i zaponite novi razgovor."},"lt-LT":{error:"Klaida",couldNotConnect:"Atsipraome, prisijungti nepavyko",tryAgain:"Bandyti vl",loadingOnMinimize:"keliama",loading:"keliama",unableToConnect:"Nepavyksta prisijungti",reconnect:"Bandoma prisijungti pakartotinai",chatEndedOnExternalWindow:"Uverkite lang, jei norite pradti nauj pokalb",externalWindowOpen:"iuo metu turite vykstant pokalb. Grkite  t lang, kad galtumte tsti pokalb.",unsupportedBrowserMode:"Galbt js narykl veikia incognito reimu, arba blokuoja treij ali slapukus. Atverkite prast narykls seans, kad galtumte pradti pokalb, arba patikrinkite savo narykls privatumo nuostatas",cannotResumeChat:"Pratskite pokalb i kortels, kurioje pradjote bendrauti",crossDomainError:"Pokalbio tsti negalima, praome grti  ankstesn puslap ir tsti i ten.",chatAuthError:"Grkite  ankstesn puslap arba prisijunkite, kad galtumte tsti panekes.",confirmMessage:"Jei uversite panekes, nebegalsite tsti, net jei grite atgal arba prisijungsite. Ar tikrai norite tsti?",startConversationError:"Atnaujinkite puslap ir pradkite nauj pokalb.",connectionUnavailable:"Yra ryys",sessionExpired:"Seansas baigsi",sessionError:"Js seansas baigsi. Nordami tsti, uverkite  lang ir pradkite nauj pokalb.",sharkSessionExpired:"Atnaujinkite puslap ir pradkite nauj pokalb."},"hu-HU":{error:"Hiba",couldNotConnect:"Kapcsolds sikertelen",tryAgain:"Krjk, hogy prbld meg jra!",loadingOnMinimize:"Betlts",loading:"Betlts",unableToConnect:"Kapcsolds sikertelen",reconnect:"jrakapcsolds folyamatban",chatEndedOnExternalWindow:"Ablak bezrsa j csevegs indtshoz",externalWindowOpen:"Folyamatban lv csevegse van. Visszatrs ahhoz az ablakhoz a csevegs folytatshoz.",unsupportedBrowserMode:"A bngsz inkognt mdban lehet, vagy harmadik fl stijt (cookie) blokkolja. Krem, nyisson meg egy hagyomnyos bngsz ablakot vagy csevegst, vagy ellenrizze a bngsz adatvdelmi belltsait",cannotResumeChat:"Hiba trtnt! Krjk, hogy folytasd a beszlgetst arrl a flrl, ahol a chat kezddtt",crossDomainError:"A beszlgets nem folytathat. Krem, lpjen vissza az elz oldalra a folytatshoz.",chatAuthError:"A beszlgets folytatshoz lpj vissza az elz oldalra, vagy jelentkezz be.",confirmMessage:"A beszlgets bezrsa esetn akkor sem fogod tudni folytatni, ha visszalpsz vagy bejelentkezel. Biztosan folytatod?",startConversationError:"Nyisson j oldalt s kezdjen j beszlgetst.",connectionUnavailable:"A kapcsolat nem rhet el",sessionExpired:"A munkamenet lejrt",sessionError:"Az lse lejrt. Krem, zrja be az ablakot s az jrakezdshez indtson j beszlgetst.",sharkSessionExpired:"Nyisson j oldalt s kezdjen j beszlgetst."},"fr-CA":{error:"Erreur",couldNotConnect:"Oops - connexion impossible.",tryAgain:"Ressayer",loadingOnMinimize:"Chargement",loading:"Chargement",unableToConnect:"Impossible de se connecter",reconnect:"Tentative de reconnexion en cours",chatEndedOnExternalWindow:"Fermer la fentre pour dmarrer une nouvelle conversation",externalWindowOpen:"Vous avez une conversation en cours. Revenir  cette fentre pour continuer la conversation.",unsupportedBrowserMode:"Votre navigateur est peut-tre en mode incognito ou bloque peut-tre les cookies en provenance de tierce partie. Veuillez ouvrir une session de navigateur ordinaire pour dmarrer une conversation ou vrifiez les paramtres de confidentialit de votre navigateur",cannotResumeChat:"Reprenez la conversation sur longlet ou la communication a commenc",crossDomainError:"Impossible de reprendre la conversation. Veuillez retourner  la page prcdente pour continuer.",chatAuthError:"Retournez  la page prcdente ou connectez-vous pour continuer votre conversation.",confirmMessage:"Si vous fermez la conversation, vous ne pourrez pas continuer celle-ci mme si vous retournez en arrire ou si vous vous connectez. tes-vous sr(e) de vouloir continuer?",startConversationError:"Veuillez rafrachir la page et dmarrer une nouvelle discussion.",connectionUnavailable:"Connexion indisponible",sessionExpired:"Session expire",sessionError:"Votre session a expir. Veuillez fermer cette fentre et dmarrer une nouvelle conversation pour continuer.",sharkSessionExpired:"Veuillez rafrachir la page et dmarrer une nouvelle discussion."},"bg-BG":{error:"",couldNotConnect:"      ",tryAgain:" ",loadingOnMinimize:"",loading:"",unableToConnect:"    ",reconnect:"     ",chatEndedOnExternalWindow:" ,     ",externalWindowOpen:"  .     ,    .",unsupportedBrowserMode:"               . ,     ,   ,       ",cannotResumeChat:"   ,     ",crossDomainError:"     . ,     ,   .",chatAuthError:"      ,     .",confirmMessage:"   ,      ,        .   ,    ?",startConversationError:",      .",connectionUnavailable:"  ",sessionExpired:" ",sessionError:"   . ,       ,  .",sharkSessionExpired:",      ."},"zh-TW":{error:"",couldNotConnect:"",tryAgain:"",loadingOnMinimize:"",loading:"",unableToConnect:"",reconnect:"",chatEndedOnExternalWindow:"",externalWindowOpen:"",unsupportedBrowserMode:" Cookie",cannotResumeChat:"",crossDomainError:"",chatAuthError:"",confirmMessage:"",startConversationError:"",connectionUnavailable:"",sessionExpired:"",sessionError:"",sharkSessionExpired:""},"el-GR":{error:"",couldNotConnect:" -     ",tryAgain:" ",loadingOnMinimize:"",loading:"",unableToConnect:"    ",reconnect:"  ",chatEndedOnExternalWindow:"        ",externalWindowOpen:"    .         .",unsupportedBrowserMode:"               cookies  .                 ",cannotResumeChat:"         ",crossDomainError:"      ,       .",chatAuthError:"           .",confirmMessage:"   ,            .          ;",startConversationError:"        .",connectionUnavailable:"  ",sessionExpired:"    ",sessionError:"    .   ,         .",sharkSessionExpired:"        ."},"sl-SL":{error:"Napaka",couldNotConnect:"Ups  povezave ni mogoe vzpostaviti",tryAgain:"Poskusi znova",loadingOnMinimize:"Nalagam",loading:"Nalagam",unableToConnect:"Povezave ni mogoe vzpostaviti",reconnect:"Poskuam znova vzpostaviti povezavo",chatEndedOnExternalWindow:"Zapri okno za zaetek novega klepeta",externalWindowOpen:"Odprt imate aktivni klepet. Za nadaljevanje pogovora se vrnite na to okno.",unsupportedBrowserMode:"Va brskalnik je morda v nainu brez beleenja zgodovine ali pa morda blokira pikotke tretjih oseb. Za klepet odprite obiajno sejo brskalnika ali pa preverite njegove nastavitve zasebnosti.",cannotResumeChat:"Nadaljujte s klepetom na zavihku, v katerem ste zaeli s komunikacijo",crossDomainError:"S pogovorom ni mono nadaljevati, za nadaljevanje se vrnite na prejnjo stran.",chatAuthError:"Pojdite na prejnjo stran ali se prijavite in nadaljujte s pogovorom.",confirmMessage:"e zaprete pogovor, bo to pomenilo, da ne boste mogli nadaljevati, etudi se ponovno prijavite. Ali ste prepriani, da elite nadaljevati?",startConversationError:"Osveite stran in zanite nov pogovor",connectionUnavailable:"Povezava ni na voljo",sessionExpired:"Seja je potekla",sessionError:"Vaa seja je potekla. Za nadaljevanje zaprite to okno in zanite nov pogovor.",sharkSessionExpired:"Osveite stran in zanite nov pogovor"},"en-UK":{couldNotConnect:"Oops - unable to connect",tryAgain:"Try again",loadingOnMinimize:"Loading",unableToConnect:"Unable to connect",reconnect:"Trying to reconnect",startConversationError:"Please refresh the page and start a new conversation."},"pl-PL":{error:"Bd",couldNotConnect:"Niestety, nie mona si poczy.",tryAgain:"Sprbuj ponownie",loadingOnMinimize:"adowanie",loading:"adowanie",unableToConnect:"Nie mona si poczy",reconnect:"Prba ponownego poczenia",chatEndedOnExternalWindow:"Zamknij okno, aby rozpocz now rozmow",externalWindowOpen:"Masz biec rozmow. Wr do tego okna, aby kontynuowa rozmow.",unsupportedBrowserMode:"Twoja przegldarka moe by uruchomiona w trybie incognito lub moe blokowa pliki cookie innych firm. Otwrz regularn sesj przegldarki, aby porozmawia lub sprawd ustawienia prywatnoci przegldarki.",cannotResumeChat:"Wznw rozmow na karcie, na ktrej rozpocza si interakcja",crossDomainError:"Nie mona wznowi rozmowy; aby kontynuowa, wr do poprzedniej strony.",chatAuthError:"Wr do poprzedniej strony lub zaloguj si, aby kontynuowa rozmow.",confirmMessage:"Zamknicie rozmowy bdzie oznacza, e kontynuowanie nie bdzie moliwe, nawet jeeli wrcisz do poprzedniej strony lub si zalogujesz. Czy na pewno chcesz kontynuowa?",startConversationError:"Prosimy odwiey stron i rozpocz now rozmow.",connectionUnavailable:"Poczenie niedostpne",sessionExpired:"Sesja wygasa",sessionError:"Twoja sesja wygasa. Zamknij to okno i rozpocznij now konwersacj, aby wznowi.",sharkSessionExpired:"Prosimy odwiey stron i rozpocz now rozmow."},"zh-HK":{error:"",couldNotConnect:"  ",tryAgain:"",loadingOnMinimize:"",loading:"",unableToConnect:"",reconnect:"",chatEndedOnExternalWindow:"",externalWindowOpen:"",unsupportedBrowserMode:" Cookie",cannotResumeChat:"",crossDomainError:"",chatAuthError:"",confirmMessage:"",startConversationError:"",connectionUnavailable:"",sessionExpired:"",sessionError:"",sharkSessionExpired:""},"et-EE":{error:"Trge",couldNotConnect:"Oih! hendamine ei nnestu",tryAgain:"Proovige uuesti",loadingOnMinimize:"Laadimine",loading:"Laadimine",unableToConnect:"Ei suuda luua hendust",reconnect:"Pame uuesti hendada",chatEndedOnExternalWindow:"Uue vestluse alustamiseks sulgege aken",externalWindowOpen:"Teil on avatud vestlus. Minge vestluse jtkamiseks tagasi aknasse.",unsupportedBrowserMode:"Teie brauser vib olla inkognito reiimis vi blokeeritud kolmanda poole kpsiste poolt. Avage palun vestluseks tavaline brauseri sessioon vi kontrollige oma privaatsusseadeid.",cannotResumeChat:"Jtkake vestlust vahelehelt, kus koost algas",crossDomainError:"Ei saa vestlust lpetada, jtkamiseks minge tagasi eelmisele lehekljele.",chatAuthError:"Vestluse jtkamiseks naaske eelmisele lehele vi logige sisse.",confirmMessage:"Kui see vestlus suletakse, ei saa te seda hiljem uuesti kivitada (isegi kui logite uuesti sisse). Olete kindel, et soovite vestluse lpetada?",startConversationError:"Vrskendage leheklge ja alustage uut vestlust.",connectionUnavailable:"henduse loomine ei ole vimalik",sessionExpired:"Sessioon aegus",sessionError:"Teie sessioon on aegunud. Sulgege palun see aken ja alustage jtkamiseks uut vestlust.",sharkSessionExpired:"Vrskendage leheklge ja alustage uut vestlust."},"mk-MK":{error:"",couldNotConnect:"  ",tryAgain:"  ",loadingOnMinimize:"",loading:"",unableToConnect:"  .",
reconnect:"    ",chatEndedOnExternalWindow:"       ",externalWindowOpen:"  .          .",unsupportedBrowserMode:"            .               ",cannotResumeChat:"       ",crossDomainError:"     .        .",chatAuthError:"            .",confirmMessage:"    ,       ,      .        ?",startConversationError:"      .",connectionUnavailable:" ",sessionExpired:"  ",sessionError:" .          .",sharkSessionExpired:"      ."},"lv-LV":{error:"Kda",couldNotConnect:"Dieml neizdevs izveidot savienojumu",tryAgain:"Miniet vlreiz",loadingOnMinimize:"Notiek ielde",loading:"Notiek ielde",unableToConnect:"Neizdevs izveidot savienojumu",reconnect:"Mina vlreiz izveidot savienojumu",chatEndedOnExternalWindow:"Aizveriet logu, lai sktu jaunu trzanu",externalWindowOpen:"Jums ir atvrta trzanas sesija. Atgriezieties attiecgaj log, lai turpintu trzanu.",unsupportedBrowserMode:"Jsu prlkprogramma var bt inkognito rem vai blo treo puu skfailus. Ldzu, atveriet parastu prlkprogrammas sesiju, lai trztu, vai prbaudiet savas prlkprogrammas privtuma iestatjumus",cannotResumeChat:"Turpiniet atu no cilnes, kur sazia sks.",crossDomainError:"Nevar turpint sarunu; ldzu, atgriezties iepriekj lap, lai turpintu.",chatAuthError:"Dodieties atpaka uz iepriekjo lapu vai piesakieties, lai turpintu savu sarunu.",confirmMessage:"Sarunas aizvrana nozm, ka js nevarsit turpint, pat ja atgriezsities vai pieteiksieties. Vai tiem vlaties to dart?",startConversationError:"Ldzu, atsvaidziniet o lapu un sciet jaunu sarunu.",connectionUnavailable:"Savienojums nav pieejams",sessionExpired:"Sesijas dergums beidzies",sessionError:"Jsu sesijas dergums ir beidzies. Ldzu, aizveriet o logu un sciet jaunu sarunu, lai turpintu.",sharkSessionExpired:"Ldzu, atsvaidziniet o lapu un sciet jaunu sarunu."},"nb-NO":{error:"Feil",couldNotConnect:"Obs - kunne ikke koble til",tryAgain:"Prv p nytt",loadingOnMinimize:"Laster inn",loading:"Laster inn",unableToConnect:"Kunne ikke koble til",reconnect:"Prver  koble til p nytt",chatEndedOnExternalWindow:"Lukk vinduet for  starte en ny chat",externalWindowOpen:"Du er allerede i en aktiv chat. Dra tilbake til vinduet for  fortsette chatten.",unsupportedBrowserMode:"Det er mulig at din nettleser er i inkognitomodus eller at den blokkeres av informasjonskapsler fra en tredjepart. Vennligst start en vanlig nettleserside for  chatte eller bruk nettleserens historikk",cannotResumeChat:"Gjenoppta chaten fra fanen hvor kommunikasjonen begynte",crossDomainError:"Kunne ikke opprettholde samtalen. G tilbake til forrige side for  fortsette.",chatAuthError:"G tilbake til forrige side eller logg inn og fortsett samtalen.",confirmMessage:"Hvis du lukker denne samtalen, kan du ikke fortsette p den, selv om du kommer tilbake senere eller logger inn igjen. Er du sikker p at du vil fortsette?",startConversationError:"Vennligst oppdater siden og start en ny samtale.",connectionUnavailable:"Tilkobling ikke tilgjengelig",sessionExpired:"kt utlpt",sessionError:"kten din er utlpt. Vennligst lukk vinduet og start en ny samtale for  fortsette.",sharkSessionExpired:"Vennligst oppdater siden og start en ny samtale."},"cs-CZ":{error:"Chyba",couldNotConnect:"Chyba! Pipojen se nezdailo.",tryAgain:"Zkuste to znovu",loadingOnMinimize:"Nahrvn",loading:"Nahrvn",unableToConnect:"Pipojen nelze navzat.",reconnect:"Pokus o optovn pipojen",chatEndedOnExternalWindow:"Zavete okno, abyste mohli zat nov chat",externalWindowOpen:"V chat pokrauje. Vrate se koknu, abyste mohli vchatu pokraovat.",unsupportedBrowserMode:"V prohle me bt vreimu inkognito, nebo me blokovat cookies tetch stran. Chcete-li chatovat, otevete bnou relaci prohlee, nebo zkontrolujte nastaven soukrom svho prohlee",cannotResumeChat:"Pokraujte v konverzaci ze zloky, kde interakce zaala",crossDomainError:"Nen mono znovu zat konverzaci; chcete-li pokraovat, vrate se na pedchoz strnku.",chatAuthError:"Vrate se na pedchoz strnku nebo se pihlaste, chcete-li pokraovat v konverzaci.",confirmMessage:"Pokud ukonte konverzaci, nebudete ji moci obnovit. Opravdu chcete zavt tuto konverzaci?",startConversationError:"Obnovte prosm strnku a zahajte novou konverzaci.",connectionUnavailable:"Spojen nen dostupn",sessionExpired:"Relace vyprela",sessionError:"Vae relace vyprela. Abyste mohli pokraovat, zavete toto okno a zante novou konverzaci.",sharkSessionExpired:"Obnovte prosm strnku a zahajte novou konverzaci."},"pt-PT":{error:"Erro",couldNotConnect:"Ups, no foi possvel estabelecer ligao",tryAgain:"Tente novamente",loadingOnMinimize:"A carregar",loading:"A carregar",unableToConnect:"No foi possvel estabelecer ligao",reconnect:"A tentar estabelecer de novo a ligao",chatEndedOnExternalWindow:"Fechar janela para iniciar uma nova conversa",externalWindowOpen:"Tem uma conversa em curso. Volte para essa janela para continuar a conversa.",unsupportedBrowserMode:"O browser pode estar no modo de navegao annima ou a bloquear cookies de terceiros. Abra uma sesso normal com o browser para conversar ou verifique as definies de privacidade do browser",cannotResumeChat:"Retome a conversa a partir do separador onde teve incio a interaco",crossDomainError:"No  possvel retomar a conversao, volte  pgina anterior para continuar",chatAuthError:"Volte para a pgina anterior ou inicie sesso para continuar a sua conversa.",confirmMessage:"Se fechar a conversa, no a poder continuar mesmo que volte ou que inicie sesso. Tem a certeza de que pretende continuar?",startConversationError:"Atualize a pgina e inicie uma nova conversa.",connectionUnavailable:"Ligao no disponvel",sessionExpired:"Sesso expirada",sessionError:"A sua sesso expirou. Por favor, feche esta janela e inicie uma nova conversa a fim de retomar.",sharkSessionExpired:"Atualize a pgina e inicie uma nova conversa."},"es-419":{error:"Error",couldNotConnect:"Vaya, no pudimos conectar",tryAgain:"Intntelo de nuevo",loadingOnMinimize:"Cargando",loading:"Cargando",unableToConnect:"No se pudo conectar",reconnect:"Intentando reconectar",chatEndedOnExternalWindow:"Cierre la ventana para iniciar un nuevo chat.",externalWindowOpen:"Tiene un chat en curso. Vuelva a esa ventana para continuar el chat.",unsupportedBrowserMode:"Puede que su navegador est en modo incgnito, o quiz est bloqueando cookies de terceros. Abra una sesin de navegador normal para charlar, o revise los ajustes de privacidad de su navegador.",cannotResumeChat:"Reanudar el chat desde la pestaa donde comenz la interaccin",crossDomainError:"No se puede reanudar la conversacin. Para continuar, vuelva a la pgina anterior.",chatAuthError:"Vaya a la pgina anterior o inicie sesin para continuar su conversacin",confirmMessage:"Cerrar la conversacin significa que no podr continuar, incluso si va a la pgina anterior o si inicia sesin. Seguro que desea proceder?",startConversationError:"Actualice la pgina y comience una nueva conversacin.",connectionUnavailable:"Conexin no disponible",sessionExpired:"Sesin expirada",sessionError:"Su sesin ha expirado. Para reanudar, cierre esta ventana e inicie una nueva conversacin.",sharkSessionExpired:"Actualice la pgina y comience una nueva conversacin."},"th-TH":{error:"",couldNotConnect:"  ",tryAgain:"",loadingOnMinimize:"",loading:"",unableToConnect:"",reconnect:"",chatEndedOnExternalWindow:"",externalWindowOpen:" ",unsupportedBrowserMode:"   ",cannotResumeChat:"",crossDomainError:" ",chatAuthError:" ",confirmMessage:"  ?",startConversationError:"",connectionUnavailable:"",sessionExpired:"",sessionError:"  ",sharkSessionExpired:""},"ms-MY":{error:"Ralat",couldNotConnect:"Alamak - tidak dapat menyambung",tryAgain:"Cuba lagi",loadingOnMinimize:"Memuat",loading:"Memuat",unableToConnect:"Tidak boleh sambung semula",reconnect:"Sedang cuba menyambung semula",chatEndedOnExternalWindow:"Tutup tetingkap untuk memulakan sembang baru",externalWindowOpen:"Anda ada sembang berjalan sekarang. Kembali ke tetingkap tersebut untuk terus bersembang.",unsupportedBrowserMode:"Pelayar anda mungkin dalam mod inkognito, atau ia mungkin menyekat kuki pihak ketiga. Sila buka sesi pelayar biasa untuk bersembang, atau periksa tetapan privasi pelayar anda",cannotResumeChat:"Sambung sembang dari tab yang memulakan interaksi.",crossDomainError:"Tidak boleh teruskan sembang, sila kembali ke laman terdahulu untuk meneruskan.",chatAuthError:"Kembali ke laman sebelumnya atau log masuk untuk meneruskan perbualan anda.",confirmMessage:"Menutup perbualan bermakna anda tidak akan dapat meneruskan walaupun jika anda kembali atau log masuk. Adakah anda pasti ingin teruskan?",startConversationError:"Sila muat semula halaman dan mulakan perbualan baru.",connectionUnavailable:"Sambungan tidak tersedia",sessionExpired:"Sesi sudah luput",sessionError:"Sesi anda telah tamat. Sila tutup tetingkap ini dan mulakan perbualan baru untuk meneruskan.",sharkSessionExpired:"Sila muat semula halaman dan mulakan perbualan baru."},"id-ID":{error:"Kesalahan",couldNotConnect:"ups - tidak bisa tersambung",tryAgain:"Coba lagi",loadingOnMinimize:"Sedang memuat",loading:"Sedang memuat",unableToConnect:"Tidak bisa tersambung",reconnect:"Sedang mencoba menyambung ulang",chatEndedOnExternalWindow:"Tutup jendela untuk memulai obrolan baru",externalWindowOpen:"Anda masih memiliki obrolan aktif. Kembali ke jendela tersebut untuk melanjutkan obrolan.",unsupportedBrowserMode:"Peramban Anda mungkin dalam modus incognito (penyamaran), atau mungkin peramban Anda memblokir cookie pihak ketiga. Harap buka sesi peramban biasa untuk mengobrol, atau cek pengaturan privasi peramban Anda",cannotResumeChat:"Lanjutkan obrolan dari tab di mana interaksi dimulai",crossDomainError:"Tidak bisa melanjutkan percakapan, harap kembali ke halaman sebelumnya untuk melanjutkan.",chatAuthError:"Kembali ke halaman sebelumnya atau masuk untuk melanjutkan percakapan Anda.",confirmMessage:"Menutup percakapan berarti Anda tidak akan dapat melanjutkan sekalipun Anda kembali atau masuk. Anda yakin ingin melanjutkan?",startConversationError:"Harap segarkan halaman dan mulailah percakapan baru.",connectionUnavailable:"Koneksi tidak tersedia",sessionExpired:"Sesi telah berakhir",sessionError:"Sesi Anda telah berakhir. Harap tutup jendela ini dan mulailah percakapan baru untuk melanjutkan.",sharkSessionExpired:"Harap segarkan halaman dan mulailah percakapan baru."},"Cy-sr-SP":{error:"Greka",couldNotConnect:"Ups - nismo uspeli da se poveemo",tryAgain:"Pokuaj ponovo",loadingOnMinimize:"Uitavanje",loading:"Uitavanje",unableToConnect:"Povezivanje nije uspelo",reconnect:"Pokuava se ponovno povezivanje",chatEndedOnExternalWindow:"Zatvorite prozor da biste zapoeli novo askanje",externalWindowOpen:"Ve je u toku drugo askanje. Vratite se u taj prozor da biste nastavili askanje.",unsupportedBrowserMode:"Va pregleda je moda u inkognito reimu ili blokira kolaie treih strana. Otvorite standardnu sesiju u pregledau da biste askali ili proverite postavke privatnosti pregledaa",cannotResumeChat:"Nastavite askanje sa kartice gde je interakcija poela",crossDomainError:"Nije mogue nastaviti razgovor, vratite se na prethodnu stranicu da biste nastavili.",chatAuthError:"Vratite se nazad na prethodnu stranicu ili se prijavite da nastavite razgovor.",confirmMessage:"Ako zatvorite razgovor neete moi da nastavite ak i ako se vratite nazad ili se prijavite. elite li zaista da nastavite?",startConversationError:"Osveite stranicu i zaponite nov razgovor.",connectionUnavailable:"Veza nije dostupna",sessionExpired:"Sesija je istekla",sessionError:"Vaa sesija je istekla. Da biste nastavili, zatvorite ovaj prozor i zaponite nov razgovor.",sharkSessionExpired:"Osveite stranicu i zaponite nov razgovor."},"vi-VN":{couldNotConnect:"I - khng th kt ni",tryAgain:"Th li",loadingOnMinimize:"ang ti",unableToConnect:"Khng th kt ni",reconnect:"C gng kt ni li",startConversationError:"Vui lng lm mi trang v bt u mt cuc hi thoi mi."},"sv-SV":{error:"Fel",couldNotConnect:"Oj - det gr inte att ansluta",tryAgain:"Frsk igen",loadingOnMinimize:"Laddar",loading:"Laddar",unableToConnect:"Det gr inte att ansluta",reconnect:"Frsker att teransluta",chatEndedOnExternalWindow:"Stng fnstret fr att starta en ny chatt",externalWindowOpen:"Du har en pgende chatt. G tillbaka till det fnstret fr att fortstta chatten.",unsupportedBrowserMode:"Din webblsare kan vara i inkognitolge, eller den kan blockera cookies frn tredje part. ppna en vanlig webblsarsession fr att chatta, eller kontrollera din webblsares sekretessinstllningar",cannotResumeChat:"teruppta chatt frn fliken dr interaktionen brjade",crossDomainError:"Kan ej teruppta konversation, terg till fregende sida fr att fortstta.",chatAuthError:"G tillbaks till fregende sida eller logga in fr att fortstta din konversation.",confirmMessage:"Att stnga konversationen innebr att du inte kan fortstta ven om du gr tillbaks eller loggar in. r du sker du vill fortstta?",startConversationError:"Uppdatera sidan och starta en ny konversation.",connectionUnavailable:"Ingen anslutning tillgnglig",sessionExpired:"Session slut",sessionError:"Din session har gtt ut. Stng detta fnster och starta en ny konversation fr att teruppta.",sharkSessionExpired:"Uppdatera sidan och starta en ny konversation."},"hi-IN":{error:"",couldNotConnect:"  -    ",tryAgain:"  ",loadingOnMinimize:"   ",loading:"   ",unableToConnect:"   ",reconnect:"      ",chatEndedOnExternalWindow:"          ",externalWindowOpen:"                ",unsupportedBrowserMode:"   ( incognito)                                    ",cannotResumeChat:"           ",crossDomainError:"        ,          ",chatAuthError:"              ",confirmMessage:"                        ?",startConversationError:"         ",connectionUnavailable:" ",sessionExpired:"   ",sessionError:"                      ",sharkSessionExpired:"         "},"he-IL":{couldNotConnect:"   ",tryAgain:" ",loadingOnMinimize:"",unableToConnect:" ",reconnect:"  ",startConversationError:"     ."}};window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.apps=lpTag.unifiedWindow.apps||{UNIFIED_WINDOW:"lpUnifiedWindow"};lpTag.unifiedWindow.staticConfig=lpTag.unifiedWindow.staticConfig||{secureForms:{isDesktopSupported:!0},passSiteSettings:!0};lpTag.unifiedWindow.customization=lpTag.unifiedWindow.customization||{deviceClass:null};lpTag.engagementClickEventsSeen=lpTag.engagementClickEventsSeen||0;lpTag.taglets.lpUnifiedWindow=lpTag.taglets.lpUnifiedWindow||function(){function e(e){var n;o(e);$(ln);nn.init({debug:ln.debug,loggosLogging:ln.loggosLogging});nn.info("init",$e);xe=window.lpTag.taglets.lpSecureStorage;xe.isStepUpEnabled=ln&&ln.isStepUpEnabled;De=new en.DeviceDetector;window&&window.opener&&(bn=window.opener);window.lpTag.unifiedWindow.customization.deviceClass=G(De);Me=new lpTag.unifiedWindow.AppConfigurationManager({lpTag:lpTag,utils:lpTag.taglets.lpUtil,deviceDetector:De,queryParams:hn});te(ln,rn);ln.engConf&&ln.engConf.offsiteEngContext&&(ln.clickedChannel=Me.getClickedChannel(ln.engConf,!0));Le=new en.BrowserStateManager(De);Ie=new lpTag.unifiedWindow.Events({eventBufferLimit:0,cloneEventData:!1});m();ae();n=a(ln);if(n)ie(n,!0);else{lpTag.features.getFeature("Common.Multiple_Consumer_IDP")?Te(function(e){e&&e.length&&(ln.connectors=e);i()}):i();X()}}function n(e){e=e||{};e.dispose&&ve()}function t(){var e=Me&&Me.getClickedChannel;ln.clickedChannel&&e&&(ln.clickedChannel===e({async:!0})||ln.clickedChannel&&ln.convoSteppedUp)&&!ln.poppedOut&&!ln.external?Ie.trigger({appName:"*",eventName:lpTag.unifiedWindow.events.chat.AUTHENTICATION_ERROR,data:{error:lpTag.unifiedWindow.consts.authErrorsTypes.LOGOUT}}):Ae()}function i(){var e={debug:ln.debug};e[vn]={site:ln.accountId,env:ln.env,app:vn,url:ln.secureStorageLocation,firstParty:!0,disableFirstPartyGlobalConfig:ln.disableFirstPartyGlobalConfig,chosenStorageHandler:l};xe.configure(e)}function a(e){var n;e.invalidAuthConnector?n=We.Messages.SESSION_EXPIRED:e.JsLoadingFailure?n=We.Messages.CONNECTION_UNAVAILABLE:"#RIP"===window.location.hash&&(n=We.Messages.RIP);return n}function o(e){lpTag.getExternalConfig&&(ln=lpTag.getExternalConfig());r(e)}function r(e){if(e&&e.constructor===Array){try{tn.convertConfig(e,ln)}catch(n){}ln.displayShortlyMessage=s()}else e&&(ln=tn.cloneExtend(ln,e,!0))}function s(){var e=ln.textCustomization&&ln.textCustomization[0]&&ln.textCustomization[0].displayShortlyMessage;return e===!0||"true"===e}function l(e){f(e,g.bind(this,e))}function c(e){e=ye(e);if(e.redirect||"undefined"!=typeof ln.embeddedSupported)u(e);else{ln.startedEngConf=e;ln.clickedChannel=Me.getClickedChannel(e,!0)}}function u(e){var n,t,i,a;e=ye(e);e&&e.preChatLines&&(e.preChatLines=Se(e.preChatLines));ln.clickedChannel=Me.getClickedChannel(e);e.accountSettings&&(cn=e.accountSettings);if(Cn&&!qe.engConf.externalFailed){a=!qe||!qe.window||qe.window.maximized;en.Application&&Ce()&&a&&Ie.trigger({appName:$e,eventName:"maximize"});t=Pe.getCurrentSessionKey();if(ln.clickedChannel!==t){n=Me.getEngagementTypeByChannel(t);Ie.trigger({appName:$e,eventName:lpTag.unifiedWindow.events.chat.MULTIPLE_CHANNELS_REQUESTED,data:{channelType:n}})}}else if(Le.isConnected()){we()&&ke();i=w(e);if(i)b(e,i);else if(ln.browserModeUnSupported){m();dn=We.Messages.UNSUPPORTED;d(W.bind(this,e))}else{m();d(M.bind(this,e))}}else{m();dn=We.Messages.CONNECTION_UNAVAILABLE;d(W.bind(this,e))}}function d(e,n){n&&m();f(null,function(){je.getState(e,e)})}function p(){return{conf:tn.clone(ln)}}function g(e){"object"!=typeof e?ln.secureStorageType=e:e&&e.error&&(ln.browserModeUnSupported=!0);Re=e;ln.popoutSupported=ln.secureStorageType&&ln.secureStorageType!==xe.storageTypes.SESSIONSTORAGE&&Le.visibilitySupported();ln.embeddedSupported=!!ln.secureStorageType;Ie.trigger({appName:$e,eventName:yn,global:!0});N()}function m(){if(!We){We=new en.WrapperWindow(ln,De,Le,Ie,fe);ln.wrapperElementId=We.getWrapperElementId()}}function f(e,n){Pe||(Pe=v());ln.clickedChannel&&Pe.setClickedSession(ln.clickedChannel);Pe.getSessionId(h.bind(this,e,n))}function v(){return new en.SessionManager({accountId:ln.accountId,sessionId:ln.sessionId,external:ln.external,events:Ie,sessionsPriority:Me.getChannelsPriority(ln),sessions:Me.getChannels(ln),clickedSession:ln.clickedChannel,secureStorageLocation:ln.secureStorageLocation,echoedSessionTimeout:ln.sessionTimeout})}function h(e,n,t){if(t){ln.sessionId=t;je||(je=new en.StateAnalyzer({storageKey:ln.sessionId,accountId:ln.accountId,disableSessionTimeout:ln.disableSessionTimeout,secureStorageLocation:ln.secureStorageLocation},Pe))}tn.runCallback(n,null,e)}function b(e,n){Xe=e.windowConf;switch(n.type){case Tn.TAP_TO_TEXT:k(e,n.target);break;case Tn.POPOUT:E(e);break;default:E(e)}if(ln.openedExternal||!ln.showMinimizedIfExternalBlocked){e.externalFailed=!1;lpTag.hooks&&lpTag.hooks.exec&&lpTag.hooks.exec({name:An.ON_EXTERNAL_LAUNCH,data:{type:n.type,engConf:e,externalTarget:n}})}else{e.minimiseOnStart=!0;e.externalFailed=!0;e.externalConfIfFailed=Ze;m();d(M.bind(this,e))}}function k(e,n){var t="menubar=no, location=no, resizable=false, scrollbars=no, status=yes, width=280px, height=400px, modal=true",i="",a={launchProperties:R(n),smsAPI:lpTag.csds.getDomain(fn.SMS_API)};i=Me.getSMSClientLaunchResourceURL(e,ln,a);Ze={url:i};ln.openedExternal=window.open(i,e.target+"POP",t)}function E(e){try{var n=ln.staticCodeRepository+(e.resource||"/index.html"),t=Me.getURLBreakdownInfo(n),i=Me.getURLBreakdownInfo(window.location.href);kn="https://"+t.hostname+(t&&t.port&&""!==t.port?":"+t.port:"");En="https://"+i.hostname+(i&&i.port&&""!==i.port?":"+i.port:"")}catch(a){}if(e.redirect||O()&&_())window.location.href=Me.getExternalResourceURL(e,ln,!1,!0);else{var o=Me.getExternalResourceURL(e,ln,!1,!0)+(En&&""!==En?"&parentWindowOrigin="+En:"");Ze={url:o};ln.openedExternal=Me.openExternal(e,o)}}function w(e){if(e.externalTargets){var n=e.externalTargets[zn.SMS];if(n&&n.brandIdentifier&&De.canAttemptSMSClientLaunch()&&n.deflectionTargetProperties&&n.deflectionTargetProperties.tapToText)return{type:Tn.TAP_TO_TEXT,target:n}}return C(e)?{type:Tn.POPOUT,target:e}:void 0}function C(e){return!ln.embeddedSupported||e.isPopOut||_()||Me.isRecaptchaEnabled()||S(e)}function S(e){return z()&&y(e)&&De.isDesktop()}function y(){return T(an.EXTERNAL_FALLBACK,"true","false")}function T(e,n,t){var i=cn&&cn.filter(function(n){return n.id===e});return i&&i.length>0&&tn.getPropertyFromObject(i[0],"propertyValue.value",t)===n}function z(){return xe.getStorageType(ln.secureStorageLocation)[vn]===xe.storageTypes.SESSIONSTORAGE}function A(){return ln.poppedOut||ln.external}function _(){return!De.isMobileOptimized()&&!De.isDesktop()}function O(){return ln.startedEngConf}function N(){je&&je.getState(j,j)}function I(e,n,t){if(x())ie(We.Messages.EXTERNAL_OPEN,!0);else{ln.poppedOut&&(n=je.state.IN_SESSION);Ge=n;switch(n){case je.state.INVALID:he();return;case je.state.IN_SESSION:return{uiState:e};case je.state.NOT_STARTED:return t?{engConf:t}:void 0;case je.state.EXPIRED:he();return null}}}function x(){if(ln.openedExternal){if(!ln.openedExternal.closed)return!0;ln.openedExternal=void 0;delete ln.openedExternal}return!1}function R(e){var n={};n.phoneNumber=e.brandIdentifier;if(e.deflectionTargetProperties&&"string"==typeof e.deflectionTargetProperties.message&&""!==e.deflectionTargetProperties.message){var t=decodeURIComponent(e.deflectionTargetProperties.message);n.message=De.isIOS()?De.isIOS8OrAbove()?"&body="+t:";body="+t:"?body="+t}else n.message="";return n}function j(e,n){var t=I(e,n);if(ln.external){t&&t.uiState&&t.uiState.chat&&t.uiState.chat.state===mn&&(t.uiState={engConf:t.uiState.engConf});F(t||ln)}else t?Le.isConnected()?F(t):ie(We.Messages.CONNECTION_UNAVAILABLE):O()&&u(ln.startedEngConf)}function M(e,n,t){var i=I(n,t,e);i&&F(i)}function W(e,n,t){var i=I(n,t,e);i&&F(i,!0,dn)}function L(e){qe=e;if(Ve&&cn&&!0===pn&&un&&!Fe){var n={window:Ve,unified:ln,uiState:e,accountSettings:cn};Pe.refresh(D.bind(this,n))}}function D(e){Y(function(){P(e)})}function P(e){Fe=en.Application(e,{appConfigurationManager:Me,browserStateManager:Le,sessionManager:Pe,deviceDetector:De,wrapperWindow:We,events:Ie})}function U(e,n,t){if(t&&!t.error){Ve=t;Ve.windowSize&&(e.window.size=Ve.windowSize);Ve.floatingWindow&&(e.window.floating=Ve.floatingWindow);n(e)}else ie(We.Messages.CONNECTION_UNAVAILABLE)}function V(e,n){cn=n;L(e)}function B(e,n){if(n){ie(We.Messages.CONNECTION_UNAVAILABLE);he()}else{pn=!0;L(e)}}function F(e,n,t,i){var a;if(!Cn){Cn=!0;nn.triggerEvent(nn.events.APP_STARTED);Ve=e&&e.engConf&&e.engConf.windowConf;cn=e&&e.engConf&&e.engConf.accountSettings;Array.isArray(cn)&&cn.length>0?delete e.engConf.accountSettings:cn=null;var o={storageKey:ln.sessionId,accountId:ln.accountId,secureStorageLocation:ln.secureStorageLocation,domain:ln.acCdnDomain,initialConf:ln};if(e.uiState){a=e.uiState;a.engConf.sessionKey=Pe.getCurrentSessionKey();if(a.engConf&&"undefined"!=typeof a.engConf.lewid){o.windowId=a.engConf.lewid;a.engConf.subscription&&a.engConf.subscription.provideraccountid&&(o.accountId=a.engConf.subscription.provideraccountid)}Ue=new en.WindowConfigurationManager(o);Ue.getConf(U.bind(this,a,L));H.call(this,a,n,t,i)}else{a=tn.cloneExtend(rn);a.engConf=e.engConf;a.engConf.sessionKey=Pe.getCurrentSessionKey();if(a.engConf&&"undefined"!=typeof a.engConf.lewid){o.windowId=a.engConf.lewid;a.engConf.subscription&&a.engConf.subscription.provideraccountid&&(o.accountId=a.engConf.subscription.provideraccountid)}e.engConf&&e.engConf.minimiseOnStart&&(a.window.maximized=!1);Ue=new en.WindowConfigurationManager(o);if(Ve){delete e.engConf.windowConf;Ve.windowSize&&(a.window.size=Ve.windowSize);Ve.floatingWindow&&(a.window.floating=Ve.floatingWindow);U.call(this,a,L,Ve);H.call(this,a,n,t,i)}else{a.engConf&&"undefined"!=typeof a.engConf.lewid&&(o.windowId=a.engConf.lewid);Ue.getConf(U.bind(this,a,function(e){H.call(this,e,n,t,i)}))}}Be=new en.AccountSettingsManager(o);cn?V.call(this,a,cn):Be.getSettings(V.bind(this,a));Z(B.bind(this,a),a)}}function H(e,n,t,i){n?We.render(e,function(){We.message(t,!0)},!0):We.render(e,function(){un=!0;We.message(We.Messages.WAIT);L(e)},!0);n&&(i||A()||(He=setTimeout(function(){We&&We.dispose()},gn)))}function G(e){var n=xn.NAMESPACE+"_";n+=e.isMobile()?xn.MOBILE_CSS_CLASS:e.isTablet()?xn.TABLET_CSS_CLASS:xn.DESKTOP_CSS_CLASS;return n}function K(e){ln.isMessaging=!!e.async;var n=ln.loadObj||{};if(A()){Ke=ee();lpTag.ovr=lpTag.ovr||{domain:Ke};lpTag.debug=ln.debug?"2":"1"}e&&e.lang&&"en-us"!==e.lang.toLowerCase()&&(n.lang=ln.langRepository+"/"+e.lang+".js"+on);!C(e)&&Me.isAuthenticatedEnabled(e)&&(n.xhr=ln.codeRepository+"/xhr.js"+on);ln.widgetSDK&&(n.widgetSDK="https://"+ln.leCdnDomain+"/unifiedwindow/widgetSDK.min.js"+on);return n}function q(e,n){tn.isEmpty(e)?tn.runCallback(n):lpTag.taglets.jsLoader.loadJS({loadObj:e,success:function(){Y(function(){tn.runCallback(n)})},error:function(e){Y(function(){tn.runCallback(n,null,e||{})})}})}function Z(e,n){var t=K(n.engConf);_n||ze();lpTag.loadTaglets&&!A()?lpTag.loadTaglets({scp:ln.scp,excludeWhitelist:!0,success:function(){q(t,e)},error:function(n){tn.runCallback(e,null,n||{})}}):q(t,e)}function X(){var e=De.getDeviceFamilyName().toLowerCase();J(ln.codeRepository+"/resources/js/"+e+"EmbeddedStyle.js"+on,"lpStylesLoader");J(ln.codeRepository+"/ui-framework.js"+on,"lp-ui-framework");J(ln.codeRepository+"/UMSClientAPI.min.js"+on,"lp-api-messaging");J(ln.codeRepository+"/lpChatV3.min.js"+on,"lp-api-chat");J(ln.codeRepository+"/surveylogicinstance.min.js"+on,"lp-survey-logic")}function Y(e){var n,t=50;Nn===On?e():n=setInterval(function(){if(Nn===On){clearInterval(n);e()}},t)}function J(e,n){var t=document.getElementById("#"+n);if(!t){var i=document.createElement("script");i.async=!0;i.id=n;i.src=e;i.setAttribute("charset","UTF-8");document.querySelector("head").appendChild(i);i.onload=function(){Nn++;if("lp-ui-framework"===n){var e=De.getDeviceFamilyName().toLowerCase();J(ln.codeRepository+"/"+e+"Embedded.js"+on,"lp-uw-embedded")}};i.onerror=function(){Nn++}}}function $(e){e.accountId=""+(e.accountId||lpTag.site);e.domain=lpTag.csds.getDomain(fn.ADMIN_AREA)||lpTag.csds.getDomain(fn.ALL);e.domain="hc1"===e.domain?"hc1.dev.lprnd.net":e.domain;e.env=e.env||Q();e.asyncMessagingDomain=lpTag.csds.getDomain(fn.ASYNC_MESSAGING);e.idpDomain=lpTag.csds.getDomain(fn.IDP);e.messagingHistoryDomain=lpTag.csds.getDomain(fn.MESSAGING_HISTORY);e.debug=ne()}function Q(){return"function"==typeof lpTag.getEnv&&lpTag.getEnv()}function ee(){return"function"==typeof lpTag.getTagDomain&&lpTag.getTagDomain(ln.env)}function ne(){return ln.debug||ln.accountId&&(0===ln.accountId.indexOf("qa")||0===ln.accountId.indexOf("le"))||ln.domain&&0===ln.domain.indexOf("hc1")}function te(e,n){function t(e){e&&e.data&&"string"==typeof e.data&&e.data.indexOf("LPExternalWindowClosed")>-1&&e.origin&&e.origin===kn&&fe()}var i,a,o,r;e.leCdnDomain=e.leCdnDomain||lpTag.csds.getDomain(fn.LECDN);e.acCdnDomain=e.acCdnDomain||lpTag.csds.getDomain(fn.ACCDN);i="https://"+e.leCdnDomain+"/";o="le_unified_window";a=o+Me.getUWDir(e,Qe);r=i+"le_secure_storage/"+(xe.v?xe.v+"/":"");e.staticCodeRepository=i+(e.codeRepository?e.codeRepository:o);e.codeRepository=i+(e.codeRepository?e.codeRepository:a);e.imagesRepository=i+(e.imagesRepository?e.imagesRepository:a+"/resources");e.iconsRepository=i+(e.iconsRepository?e.iconsRepository:a+"/resources/icons")+"/"+De.getDeviceFamilyName().toLowerCase();e.audioRepository=i+(e.audioRepository?e.audioRepository:a+"/resources/audio");e.langRepository=i+(e.langRepository?e.langRepository:a+"/resources/i18n");e.agentImageRepository=i+(e.agentImageRepository?e.agentImageRepository:a+"/resources/agentImages");e.secureStorageLocation=e.external?xe.sessionStorageStaticDomain:e.secureStorageLocation||r;e.jsRepository=i+(e.jsRepository?e.jsRepository:a+"/resources/js");(De.isMobile()||De.isTablet())&&(n.position={right:0});n.window.embedded=!e.external;window.addEventListener("message",t,!1);if(!n.window.embedded){e.NativeSDK="1"==hn.sdk;e.IOS="1"==hn.ios}e.supportBlockCCPattern=!!lpTag.taglets.cleanCCPatterns;e.scp=e.scp||"uw"}function ie(e,n){He&&clearTimeout(He);We.render(null,function(){We.message(e,!0)});n||A()||(He=setTimeout(function(){We&&We.dispose()},gn))}function ae(){Le.on(Le.EVENT_NAME.FOCUS_CHANGE,le);Ie.bind({appName:"ChatStateManager",eventName:"ended",func:he});Ie.bind({appName:"ConversationManager",eventName:"ended",func:ke});Ie.bind({appName:"Application",eventName:"appEnded",func:ke});Ie.bind({appName:"*",eventName:"doHaraKiri(Seppuku)",func:be});Ie.bind({appName:"SessionManager",eventName:"sessionChanged",func:de});Ie.bind({appName:"ChatAPIV3",eventName:"error",func:re});Ie.bind({appName:"API",eventName:"error",func:re});Ie.bind({appName:"API",eventName:"error",func:se});Ie.bind({appName:"ChatStateManager",eventName:"startChatInfo",func:oe});Ie.bind({appName:"*",eventName:"forgetMe",func:he});Ie.bind({appName:"*",eventName:"knockout",func:Ee})}function oe(e){e.chatTimeout&&(ln.sessionTimeout=e.chatTimeout)}function re(e){var n=We.Messages[e&&e.errorType]||We.Messages.CONNECTION_UNAVAILABLE;ie(n,e&&e.keepError)}function se(e){Sn=e&&e.errorType===lpTag.unifiedWindow.consts.errorTypes.AUTH_ERROR?ke:Sn}function le(e){e.focus&&Ge===sn&&ce();

}function ce(){Pe=Pe||v();Pe.setClickedSession(ln.clickedChannel);Pe.getSession(ue)}function ue(e){if(e&&e.sid&&"null"!==e.sid){Pe=null;d(ge,!0)}}function de(){Pe&&Pe.getSession(pe)}function pe(e){if(e&&e.sid&&"null"!==e.sid){he(!0);m();d(ge)}else he()}function ge(e,n){Ge=n;switch(n){case je.state.INVALID:ie(We.Messages.IN_SESSION);break;case je.state.IN_SESSION:me(e.engConf);break;case je.state.NOT_STARTED:ke()}}function me(e,n){ke(n);u(e)}function fe(){if(bn&&wn){bn.postMessage("LPExternalWindowClosed",wn);bn=null}ln.clickedChannel=null;tn.runCallback(Sn)}function ve(){if(!In){he();ke()}}function he(e){Cn=!1;nn.triggerEvent(nn.events.APP_ENDED);He&&clearTimeout(He);Ge=sn;if(Pe){Pe.dispose(e);Pe=null}Ve=null;if(Ue){Ue.clear();Ue=null}Be&&(Be=null);ln.sessionId=null;delete ln.sessionId;je=null}function be(){We&&We.dispose()}function ke(e){pn=!1;un=!1;if(Fe){Fe.methods.end();Fe=null;Cn=!1;nn.triggerEvent(nn.events.APP_ENDED)}We=null;Ie.trigger({appName:$e,eventName:"windowClosed",global:!0});e||In||lpTag.newPage(document.URL)}function Ee(){ke();he()}function we(){return tn.getPropertyFromObject(Fe,"methods.isDisposed")&&Fe.methods.isDisposed()}function Ce(){return tn.getPropertyFromObject(Fe,"methods.isDisposed")&&!Fe.methods.isDisposed()}function Se(e){var n="msg",t=0,i={};e.forEach(function(e){i[n+ ++t]=e});return i}function ye(e){var n=tn.getPropertyFromObject(e,"connector.configuration.acrValues");"undefined"!=typeof n&&delete e.connector.configuration.acrValues;return e}function Te(e){var n="https://"+ln.acCdnDomain+"/api/account/"+ln.accountId+"/configuration/le-connectors/all-connectors";lpTag.taglets.jsonp.issueCall({url:n,timeout:5e3,retries:0,success:function(n){e(n)},error:function(){nn.error("_getAllConnectors - ERROR FROM SERVER",$e);e()}})}function ze(){var e=De.getDeviceFamilyName().toLowerCase(),n=ln.codeRepository+"/resources/js/"+e+"EmbeddedStyle.js"+on,t=document.createElement("script");t.setAttribute("src",n);t.setAttribute("id","lpStylesLoader");t.setAttribute("charset","utf-8");document.getElementsByTagName("head").item(0).appendChild(t);_n=!0}function Ae(){if(ln.isStepUpEnabled&&ln.isSPAStepUpEnabled){Je=!0;nn.info("resetIfStepUp: checking if step up needed",$e);if(!Ye){lpTag.events.bind({appName:"lp_monitoringSDK",eventName:"SP_SENT",func:_e});Ye=!0}}}function _e(){Je&&Ne()&&Fe&&Ie.trigger({appName:"*",eventName:"getChatState",data:{gotChatStateCallback:Oe}});Je=!1}function Oe(e){var n=e.engConf&&e.engConf.async;if("chatting"===e.state&&n){lpTag.stepUpShouldStart=!0;In=!0;me(e.engConf,!0);In=!1}}function Ne(){for(var e=!1,n=!1,t=lpTag.identitiesObjects||[],i=0;i<t.length;i++)"0"===t[i].acr||0===t[i].acr?n=!0:e=!0;return e&&n}var Ie,xe,Re,je,Me,We,Le,De,Pe,Ue,Ve,Be,Fe,He,Ge,Ke,qe,Ze,Xe,Ye,Je,$e="lpUnifiedWindow",Qe="10.22.0.0-release_5548",en=lpTag.unifiedWindow,nn=en.log,tn=lpTag.taglets.lpUtil,an=lpTag.unifiedWindow.settingsIDs,on="?version="+(Qe||(new Date).getTime().toString()),rn={window:{maximized:!0,position:{right:"20px",bottom:0},sound:!0,notificationCount:0,actionsVisible:!1,embedded:!0}},sn=3,ln={},cn=[],un=!1,dn=null,pn=!1,gn=5e3,mn="applicationEnded",fn={ADMIN_AREA:"adminArea",ALL:"ALL",LECDN:"leCdnDomain",ACCDN:"acCdnDomain",ASYNC_MESSAGING:"asyncMessagingEnt",MESSAGING_HISTORY:"msgHist",IDP:"idp",SMS_API:"smsConnector"},vn=en.apps.UNIFIED_WINDOW,hn=tn.getURLParams(window.location.search),bn=null,kn=null,En=null,wn=hn&&hn.parentWindowOrigin&&""!==hn.parentWindowOrigin?hn.parentWindowOrigin:null,Cn=!1,Sn=ve,yn="STORAGE_SELECTED",Tn={POPOUT:"popout",TAP_TO_TEXT:"tapToText"},zn={SMS:0},An={ON_EXTERNAL_LAUNCH:"ON_EXTERNAL_LAUNCH"},_n=!1,On=6,Nn=0,In=!1,xn={NAMESPACE:"lpc",MOBILE_CSS_CLASS:"mobile",TABLET_CSS_CLASS:"tablet",DESKTOP_CSS_CLASS:"desktop"};window.addEventListener("beforeunload",function(){if(bn&&wn){bn.postMessage("LPExternalWindowClosed",wn);bn=null}});return{v:Qe,name:$e,init:e,reinit:t,onBeforeNavigation:n,startFlow:c,clicked:u,inspect:p}}();}catch(e){lpTag.handleGeneralError("lpUnifiedWindow",e);}try{window.lpTag=lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.SMT=lpTag.taglets.SMT||function(){function a(){}var t="SMT",g="2.21.0";return{v:g,name:t,init:a}}();}catch(e){lpTag.handleGeneralError("SMT",e);}try{"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};window.lpTag=window.lpTag||{};window.lpTag.taglets=window.lpTag.taglets||{};window.lpTag.taglets.hooks=window.lpTag.taglets.hooks||function(o){function n(){c={};e(o.hooks);t()}function t(){o.hooks=o.taglets.hooks}function e(o){o=Array.isArray(o)?o:[o];o.length>0&&o.forEach(function(o){if(a(o)){c[o.name]=c[o.name]||[];c[o.name].push(o.callback)}})}function a(n){if(!n){o.log("Hook is not defined","ERROR","hooks");return!1}if("string"!=typeof n.name){o.log("Hook name '"+n.name+"' is not a string","ERROR","hooks");return!1}if("function"!=typeof n.callback){o.log("Hook callback for '"+n.name+"' is not a function","ERROR","hooks");return!1}o.log("Hook callback for '"+n.name+"' was added successfully","INFO","hooks");return!0}function i(n){if(n&&n.name){var t=c[n.name]||[];t.forEach(function(t){if("function"==typeof t)try{var e=t(n);if("object"===("undefined"==typeof e?"undefined":_typeof(e))){n=e;o.log("Hook '"+n.name+"' returned data successfully","INFO","hooks")}else o.log("Hook '"+n.name+"' callback didn't return an object","ERROR","hooks")}catch(a){o.log("Hook callback threw an exception: "+a.message,"ERROR","hooks")}})}return n}var l="hooks",r="0.0.2",c={};return{version:r,name:l,init:n,push:e,exec:i}}(window.lpTag);}catch(e){lpTag.handleGeneralError("hooks",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lp_SMT=lpTag.taglets.lp_SMT||function(){function e(e){if(e)for(var t=0;t<e.length;t++){var n=e[t].value;"string"==typeof n&&""!==n&&("["===n.charAt(0)||"{"===n.charAt(0))&&("undefined"!=typeof JSON&&JSON.parse?n=JSON.parse(n):s("unable to parse JSON, no JSON object on page"));b[e[t].id]=n}else l("No cfg were given on init")}function t(){b.active=!0;if(lpTag.taglets.lp_monitoringSDK.inspect().conf.baseUrl===lpTag.getDomain("ALL")){b.active=!1;s("Monitoring set to inactive! smt domain was not found")}lpTag.events.trigger(E,"MONITORING_STATE",{active:b.active});R=lpTag.events.bind("lp_monitoringSDK","SP_SENT",o);O(_.sp)}function n(){clearTimeout(d);lpTag.events.unbind(R);N&&lpTag.events.unbind(N);b.active=!1}function i(t){clearTimeout(d);lpTag.events.unbind(R);N&&lpTag.events.unbind(N);e(t)}function a(){return b.active}function o(){lpTag.isDom?O(_.pl):N=lpTag.events.bind("LPT","DOM_READY",function(){O(_.pl)})}function r(e,t){window.lpTag&&lpTag.log&&lpTag.log(e,t,E)}function s(e){r(e,"ERROR")}function g(e){r(e,"DEBUG")}function l(e){r(e,"INFO")}function p(e){lpTag.events.trigger(E,"MONITORING_REQUEST_SUCCESS",e);l("success call made by smt with the following result: "+("string"!=typeof e?JSON.stringify(e):e))}function c(e){lpTag.events.trigger(E,"MONITORING_REQUEST_ERROR",e);s("error returned to smt callback onError: "+("string"!=typeof e?JSON.stringify(e):e))}function u(e){return e.status===y.ok&&!e.error}function T(e){S(e);v();if(b.keepAliveFreq&&b.active){if(e.reqType===_.pl||e.reqType===_.ip){d=setTimeout(function(){O(_.ip)},1e3*b.keepAliveFreq);g("Next request to be issued in "+b.keepAliveFreq+"sec")}}else lpTag.taglets.lp_monitoringSDK.stop();f(u(e)?p:c,e,"Client onSuccess callback returned an error: ")}function f(e,t,n){try{e(t)}catch(i){s(n+JSON.stringify(i.message))}}function v(){b.active||lpTag.events.trigger(E,"MONITORING_STATE",{active:b.active})}function S(e){if(e.smtConf){for(var t in e.smtConf)b[t]=e.smtConf[t];delete e.smtConf}}function O(e){if(b.active){lpTag.taglets.lp_monitoringSDK[e](function(t){t.status=y.ok;t.reqType=e;T(t)},function(t){t.status=y.err;t.reqType=e;T(t)});g("Sending"+e+"request")}else{lpTag.events.trigger(E,"MONITORING_REQUEST_ERROR",{message:"Monitoring is set to inactive, not sending any requests",status:"ERROR",reqType:e});l("Monitoring is set to inactive, not sending any requests")}}var d,R,N,m="2.33.0",E="lp_SMT",_={sp:"startPage",pl:"pageLoaded",ip:"inPage"},y={err:"ERROR",ok:"OK"},b={keepAliveFreq:10,active:!0};return{v:m,name:E,inspect:function(){return b},init:e,start:t,reinit:i,restart:t,stop:n,isActive:a}}();}catch(e){lpTag.handleGeneralError("lp_SMT",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.authenticator=lpTag.taglets.authenticator||function(){function t(){lpTag.log("authenticator init called","DEBUG","authenticator")}function e(t,e,i){return t.type===f.OAUTH_IMPLICIT||t.type===f.OAUTH_CODE?n(t,e,i):a(t,e,i)}function n(t,e,n){var a=r(n),o=i(e,a);t=t||{configuration:{clientId:lpTag.site}};var u={callback:o,clientId:t.configuration.clientId};lpTag.log("_getOAuthSSOKey: "+c,"DEBUG","authenticator");t.type&&t.type===f.OAUTH_IMPLICIT&&"lpTag.taglets.unAuthMessaging"===t.configuration.jsContext&&"lpTag.taglets.unAuthMessaging.lpUnauthFunction"===t.configuration.jsMethodName&&lpTag.taglets.unAuthMessaging&&lpTag.taglets.unAuthMessaging.jsMethodExtended?lpTag.taglets.lpUtil.runCallbackByObject(t.configuration,u,a):lpTag.taglets.lpUtil.runCallbackByObject(t.configuration,u.callback,a)}function a(t,e,n){lpTag.log("_getServer2ServerSSOKey"+c,"DEBUG","authenticator");lpTag.taglets.xhr.issueCall({url:t.configuration.genKeyUrl,method:"GET",query:{rt:"json"},retries:p.retries,timeout:p.timeout,success:o(e),error:r(n)})}function i(t,e){return function(n,a){var i=null===a||"undefined"==typeof a;if(i&&n){var r,o;if("object"==typeof n){r=n.ssoKey;o=n.redirect_uri}else r=n;t({ssoKey:r,redirect_uri:o})}else e()}}function r(t){return function(e){s=!0;"function"==typeof t&&t(e)}}function o(t){return function(e){t(e.body||{})}}function u(){return s?!0:!1}function l(){var t={name:c,ssoKeyGenTransport:{timeout:p.timeout,retries:p.retries}};return t}var s,g="0.2.0",c="authenticator",p={timeout:3e4,retries:3,successResponseCode:201},f={S2S:0,OAUTH_IMPLICIT:1,OAUTH_CODE:2};return{v:g,init:t,getSSOKey:e,isErroneous:u,inspect:l}}();}catch(e){lpTag.handleGeneralError("authenticator",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.taglets.lpUtil=lpTag.taglets.lpUtil||function(){function t(t,e){if("function"==typeof[].indexOf&&"function"==typeof t.indexOf)return t.indexOf(e);if(t.constructor===Array)for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}function e(t){return"string"!=typeof t?t:t.trim?t.trim():t.replace(/^\s+|\s+$/gm,"")}function n(t){if("string"!=typeof t)return t;var n=e(t);return n.toLowerCase()}function r(t,e){var n=new RegExp(/((?:http|ftp|ws){1}s{0,1}?:\/\/){0,1}([^\/\?\/:]+)(\/?)/gi),r=n.exec(t),o=null;if(r&&r.length>=3&&""!==r[2]){o=r[2].toLowerCase();e&&(o=r[1]+o)}return o}function o(t){var e,n,r={};if("string"==typeof t){e=t.substr(1).split("&");for(var o=0;o<e.length;o++)if(e[o].indexOf("=")>-0){n=e[o].split("=");2==n.length&&(r[decodeURIComponent(n[0])]=decodeURIComponent(n[1]))}}return r}function a(t){t=""+t;var e,n,o=null,a={top:null,country:null};t=r(t);e=t.split(".");if(e.length<3)return t;for(var s=e.length-1,c=s;c>-1;c--){l(e[c],a,c);if(null!==a.country&&null!==a.top)break}if(null!==a.top||null!==a.country){o=a.top;(null===o||null!==a.country&&a.country<o&&o-1===a.country)&&(o=a.country);n=o>0?o-1:o;return i(e.slice(n))}return t}function i(t){return t.join(".")}function l(t,e,n){t=""+t;null===e.top&&(q.topLevelDomain[t]||q.customTopLevelDomain[t])?e.top=n:null===e.country&&q.countryTopLevelDomain[t]&&(e.country=n)}function s(t,e){var n=/(\?|&|\/|\\)$/;if("string"==typeof t&&t.length>0){n.test(t)&&(t=t.substr(0,t.length-1));if(Array.isArray(e))return c(t,e);if(m(e))return u(t,e);if("object"==typeof e)return g(t,e)}return t}function c(t,e){for(var n,r=t,o=0;o<e.length;o++){n=e[o];if(!r||"object"!=typeof n)break;r=u(r,n)}return r}function u(t,e){return p(t,e)?f(t,e.key,e.value):t}function g(t,e){for(var n in e)e.hasOwnProperty(n)&&(t=f(t,n,e[n]));return t}function f(t,e,n){var r=new RegExp("([?&])"+e+"=.*?(&|$)","ig"),o=-1===t.indexOf("?")?"?":"&";if("object"==typeof n)try{n=JSON.stringify(n)}catch(a){}return t.match(r)?t.replace(r,"$1"+e+"="+n+"$2"):t+o+e+"="+n}function p(t,e){return"string"==typeof t&&t.length>0&&m(e)}function m(t){var e=t&&t.key,n=t&&t.value;return t&&"string"==typeof e&&e.length>0&&("number"==typeof n||"string"==typeof n&&n.length>0)}function d(t,e,n){var r;if(!t||"object"!=typeof t)return t;if(!e)return y(t);r=e||t.constructor()||{};for(var o in t)r[o]!==t[o]&&t.hasOwnProperty(o)&&(r[o]=n?d(t[o],void 0,n):t[o]);return r}function y(t){try{return JSON.parse(x(t))}catch(e){lpTag.log("unable to clone object:"+JSON.stringify(e),"ERROR",I);return}}function h(t,e){if("undefined"!=typeof e){if(t)for(var n=0;n<t.length;n++){var r=t[n].value;if("string"==typeof r&&""!==r)if("true"===r)r=!0;else if("false"===r)r=!1;else if("["==r.charAt(0)||"{"==r.charAt(0))try{r=JSON.parse(r)}catch(o){lpTag.log("unable to parse JSON:"+JSON.stringify(o),"ERROR",I)}e[t[n].id]=r}}else lpTag.log("_config is passed as undefined","ERROR",I)}function v(t,e){if(t&&"string"==typeof t){e=e||{};var n,r=e.document||window.document,o=e.id;if("undefined"!=typeof o){n=r.getElementById(o)||r.createElement("style");n.id=o}else n=r.createElement("style");n.type="text/css";r.getElementsByTagName("head")[0].appendChild(n);n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t));return n}}function b(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=n);return e}function w(t,e){function n(){o.body?R(t,r):setTimeout(n,50)}e=e||{};var r=e.context,o=e.document||window.document;n()}function x(t){var e,n;if("function"==typeof Array.prototype.toJSON){n=Array.prototype.toJSON;delete Array.prototype.toJSON;try{e=JSON.stringify(t)}catch(r){Array.prototype.toJSON=n;throw r}Array.prototype.toJSON=n}else e=JSON.stringify(t);return e}function k(){var t="tttttttt-tttt-4ttt-fttt-t7ttttttttttt".replace(/[tf]/g,function(t){var e=16*Math.random()|0,n="t"==t?e:3&e|8;return n.toString(16)});return t+"-"+Math.floor(1e5*Math.random())}function R(t,e){e=e||window;if("function"==typeof t){var n=Array.prototype.slice.call(arguments,2);try{return t.apply(e,n)}catch(r){lpTag.log("Failed to execute callback exc= "+r.message,"ERROR",I)}}}function O(t,e,n){if("function"==typeof C){t=t||{};var r=C(window,t.jsContext),o=C(window,t.jsMethodName);if("function"!=typeof o){lpTag.log("runCallbackByObject err=function "+t.jsMethodName+" was not found","ERROR","utils");n()}else{lpTag.log("runCallbackByObject calling function "+t.jsMethodName,"DEBUG","utils");o.call(r,e)}}else lpTag.log("lpTag.taglets.lpUtil.getPropertyFromObject is not a function","ERROR","utils")}function j(t,e,n){t&&e&&n&&(t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n))}function T(t,e,n){t&&e&&n&&(t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n))}function E(e,n,r){var o,a;e="string"==typeof e?e:"";o=e.split(" ");a=n&&n.constructor===Array?n:"string"==typeof n?[n]:[];r=r&&r.constructor===Array?r:"string"==typeof r?[r]:[];for(var i=0;i<o.length;i++)t(r,o[i])<0&&t(a,o[i])<0&&a.push(o[i]);return a.join(" ").replace(/$\s/gi,"")}function z(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function C(t,e,n){var r,o=t;if("string"==typeof e){r=e.split(".");for(var a=0;a<r.length;a++){if("undefined"==typeof o||null===o||"undefined"==typeof o[r[a]]||null===o[r[a]]){o="undefined"!=typeof n?n:void 0;break}o=o[r[a]]}}else lpTag.log("Empty path sent to lookup getPropertyFromObject","DEBUG","utils");return o}function N(t,e){if(t.className.indexOf(e)<0){t.className=[t.className,e].join(" ");t.className=S(t.className)}}function A(t,e){t.className=t.className.replace(new RegExp(e,"g"),"");t.className=S(t.className)}function S(t){return e(t.replace(/\s\s*/g," "))}function P(t,e,n){var r={};if(t&&"string"==typeof t){n&&(t=decodeURIComponent(t));for(var o,a=t.split(e),i=0;i<a.length;i++){o=a[i].split("=");r[o[0]]=o[1]}}return r}function U(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return t?t.replace(/[&<>"'`=\/]/g,function(t){return e[t]}):void 0}var I="Utils",q={customTopLevelDomain:{aero:"aero",asia:"asia",bike:"bike",biz:"biz",camera:"camera",cat:"cat",clothing:"clothing",coop:"coop",equipment:"equipment",estate:"estate",eus:"eus",gallery:"gallery",graphics:"graphics",guru:"guru",info:"info","int":"int",holdings:"holdings",jobs:"jobs",lighting:"lighting",mobi:"mobi",museum:"museum",name:"name",photography:"photography",plumbing:"plumbing",post:"post",pro:"pro",singles:"singles",tel:"tel",travel:"travel",ventures:"ventures",xxx:"xxx"},topLevelDomain:{ac:"ac",co:"co",com:"com",edu:"edu",gov:"gov",mil:"mil",net:"net",org:"org"},countryTopLevelDomain:{ac:"ac",ad:"ad",ae:"ae",af:"af",ag:"ag",ai:"ai",al:"al",am:"am",an:"an",ao:"ao",aq:"aq",ar:"ar",as:"as",at:"at",au:"au",aw:"aw",ax:"ax",az:"az",ba:"ba",bb:"bb",bd:"bd",be:"be",bf:"bf",bg:"bg",bh:"bh",bi:"bi",bj:"bj",bm:"bm",bn:"bn",bo:"bo",bq:"bq",br:"br",bs:"bs",bt:"bt",bv:"bv",bw:"bw",by:"by",bz:"bz",bzh:"bzh",ca:"ca",cc:"cc",cd:"cd",cf:"cf",cg:"cg",ch:"ch",ci:"ci",ck:"ck",cl:"cl",cm:"cm",cn:"cn",co:"co",cr:"cr",cs:"cs",cu:"cu",cv:"cv",cw:"cw",cx:"cx",cy:"cy",cz:"cz",dd:"dd",de:"de",dj:"dj",dk:"dk",dm:"dm","do":"do",dz:"dz",ec:"ec",ee:"ee",eg:"eg",eh:"eh",er:"er",es:"es",et:"et",eu:"eu",fi:"fi",fj:"fj",fk:"fk",fm:"fm",fo:"fo",fr:"fr",ga:"ga",gb:"gb",gd:"gd",ge:"ge",gf:"gf",gg:"gg",gh:"gh",gi:"gi",gl:"gl",gm:"gm",gn:"gn",gp:"gp",gq:"gq",gr:"gr",gs:"gs",gt:"gt",gu:"gu",gw:"gw",gy:"gy",hk:"hk",hm:"hm",hn:"hn",hr:"hr",ht:"ht",hu:"hu",id:"id",ie:"ie",il:"il",im:"im","in":"in",io:"io",iq:"iq",ir:"ir",is:"is",it:"it",je:"je",jm:"jm",jo:"jo",jp:"jp",ke:"ke",kg:"kg",kh:"kh",ki:"ki",km:"km",kn:"kn",kp:"kp",kr:"kr","krd:":"krd",kw:"kw",ky:"ky",kz:"kz",la:"la",lb:"lb",lc:"lc",li:"li",lk:"lk",lr:"lr",ls:"ls",lt:"lt",lu:"lu",lv:"lv",ly:"ly",ma:"ma",mc:"mc",md:"md",me:"me",mg:"mg",mh:"mh",mk:"mk",ml:"ml",mm:"mm",mn:"mn",mo:"mo",mp:"mp",mq:"mq",mr:"mr",ms:"ms",mt:"mt",mu:"mu",mv:"mv",mw:"mw",mx:"mx",my:"my",mz:"mz",na:"na",nc:"nc",ne:"ne",nf:"nf",ng:"ng",ni:"ni",nl:"nl",no:"no",np:"np",nr:"nr",nu:"nu",nz:"nz",om:"om",pa:"pa",pe:"pe",pf:"pf",pg:"pg",ph:"ph",pk:"pk",pl:"pl",pm:"pm",pn:"pn",pr:"pr",ps:"ps",pt:"pt",pw:"pw",py:"py",qa:"qa",re:"re",ro:"ro",rs:"rs",ru:"ru",rw:"rw",sa:"sa",sb:"sb",sc:"sc",sd:"sd",se:"se",sg:"sg",sh:"sh",si:"si",sj:"sj",sk:"sk",sl:"sl",sm:"sm",sn:"sn",so:"so",sr:"sr",ss:"ss",st:"st",su:"su",sv:"sv",sx:"sx",sy:"sy",sz:"sz",tc:"tc",td:"td",tf:"tf",tg:"tg",th:"th",tj:"tj",tk:"tk",tl:"tl",tm:"tm",tn:"tn",to:"to",tp:"tp",tr:"tr",tt:"tt",tv:"tv",tw:"tw",tz:"tz",ua:"ua",ug:"ug",uk:"uk",us:"us",uy:"uy",uz:"uz",va:"va",vc:"vc",ve:"ve",vg:"vg",vi:"vi",vn:"vn",vu:"vu",wf:"wf",ws:"ws",ye:"ye",yt:"yt",yu:"yu",za:"za",zm:"zm",zr:"zr"}},D={delimiter:"|",set:function(t,e,n){if("string"==typeof t&&e.join&&"function"==typeof e.join){var r=encodeURIComponent(t)+"="+encodeURIComponent(e.join(this.delimiter))+";path=/";"undefined"!=typeof n&&(r+=";domain="+n);document.cookie=r;return!0}},get:function(t){var e="\\$&";if("string"==typeof t){var n=document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,e)+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1")||null;if("string"==typeof n){var r=decodeURIComponent(n);if(r)return r.split(this.delimiter)}}},remove:function(t,e){if("string"==typeof t){this.set(t,["null"],e);return!0}}};return{indexOf:t,trim:e,trimAndLower:n,getDomain:r,getURLParams:o,getParentDomain:a,addQueryParams:s,cloneExtend:d,clone:y,convertConfig:h,addStyleTag:v,objectKeys:b,waitForBody:w,stringify:x,cookieActions:D,getUID:k,runCallback:R,runCallbackByObject:O,registerEvent:j,unregisterEvent:T,buildClassString:E,isEmpty:z,getPropertyFromObject:C,addClass:N,removeClass:A,mapString:P,escapeHtml:U}}();window.lpTag=window.lpTag||{};window.lpTag.taglets=window.lpTag.taglets||{};window.lpTag.taglets.cleanCCPatterns=window.lpTag.taglets.cleanCCPatterns||function(){function t(t){c("init configuration","INFO");x=!0;o(t)}function e(t,e){if("string"==typeof t&&Array.isArray(w)){e=e||{};w.forEach(function(r){try{t=n(t,r,e.replaceValue)}catch(o){c("clean: clean execution failed","ERROR")}})}return t}function n(t,e,n){var o=t;n=""+r(n);if("string"==typeof t){var a,i=[],l=0,s=e.pattern===h;e.pattern.lastIndex=0;for(;null!==(a=e.pattern.exec(o))&&""!==a[0];)if(!s||u(a[0])){i.push({matchedText:a[0],index:a.index});if(!e.pattern.global)break}for(var c=0;c<i.length;++c){var g;e.replacePattern.lastIndex=0;var f,p=i[c].matchedText,m=0,d=RegExp(/\d/),y=t.indexOf(p)-1;f=y>0?y+p.length+1:p.length;if(e.pattern!==h||!d.test(t.charAt(y))&&!d.test(t.charAt(f))){for(;null!==(g=e.replacePattern.exec(i[c].matchedText))&&""!==g[0];){p=p.substring(0,g.index+m)+n+p.substring(g.index+g[0].length+m);m+=n.length-g[0].length;if(!e.replacePattern.global)break}o=o.substring(0,i[c].index+l)+p+o.substring(i[c].index+i[c].matchedText.length+l);l+=p.length-i[c].matchedText.length}}}return o}function r(t){return"string"==typeof t||!isNaN(t)&&"number"==typeof t?t:b}function o(t){var e=[],n={};try{m.convertConfig(t,n)}catch(r){c("_setConfigParameters: Failed to convert configuration","ERROR")}n=n.ccPatterns&&n.ccPatterns[0];if(n){x="false"===n.useDefault||n.useDefault===!1?!1:!0;e=Array.isArray(n.patternsArray)?n.patternsArray:e;k="true"===n.trueGlobalTag||n.trueGlobalTag===!0}x&&e.push(h);w=a(e)}function a(t){var e=[];Array.isArray(t)&&t.forEach(function(t){t=i(t);t&&e.push(t)});return e}function i(t){var e,n,r;if(t&&"string"==typeof t.pattern){e=t.pattern;n=t.replacePattern||t.pattern}else{e=t;n=v}e=l(e);n=l(n);s(n)||(n=e);s(e)&&(r={pattern:e,replacePattern:n});return r}function l(t){var e;if(s(t))e=t;else if("string"==typeof t){t=g(t);var n,r,o=t.lastIndexOf("/"),a=t.indexOf("/");if(0===a&&o>a){n=t.slice(a+1,o);r=t.slice(o+1);r=r.replace(y,"");if(d.test(r))try{e=new RegExp(n,r)}catch(i){c("_getRegexFromString: failed create regex: "+t,"ERROR")}else c("_getRegexFromString: regex flags are invalid: "+t,"ERROR")}else c("_getRegexFromString: regex pattern is not valid: "+t,"ERROR")}return e}function s(t){return t&&t.constructor===RegExp}function c(t,e){lpTag.log&&lpTag.log(t,e,p)}function u(t){if(/[^0-9-\s]+/.test(t))return!1;var e=0,n=!1;t=t.replace(/\D/g,"");for(var r=t.length-1;r>=0;r--){var o=t.charAt(r),a=parseInt(o,10);n&&(a*=2)>9&&(a-=9);e+=a;n=!n}return e%10===0}function g(t){try{return decodeURIComponent(t)}catch(e){return decodeURIComponent(window.escape(t))}}var f="1.6",p="cleanCCPatterns",m=lpTag.taglets.lpUtil,d=/^[gmi]{0,3}$/,y=/(.)(?=.*\1)/g,h=/(?:4[0-9]{3}((([-\s.]*[0-9]{4}){3})|(([-\s.]*[0-9]{3}){3}))|5[1-5][0-9]{2}([-\s.]*[0-9]{4}){3}|6(?:011|5[0-9]{2})([-\s.]*[0-9]{4}){3}|3[47][0-9]{2}[-\s.]*[0-9]{6}[-\s.]*[0-9]{5}|3(?:0[0-5]|[68][0-9])[0-9][-\s.]*[0-9]{6}[-\s.]*[0-9]{4}|((?:2131|1800)[-\s.]*[0-9]{6}[-\s.]*[0-9]{5})|(35[0-9]{2}([-\s.]*[0-9]{4}){3}))/g,v=/[0-9]/g,b="*",w=[],x=!0,k=!1;return{version:f,name:p,init:t,clean:e}}();}catch(e){lpTag.handleGeneralError("cleanCCPatterns",e);}try{window.lpTag.taglets.lp_global_utils=function(){function e(){}function n(e,n){if("undefined"!=typeof n){if(e)for(var a=0;a<e.length;a++){var t=e[a].value;if("string"==typeof t&&""!==t)if("true"===t)t=!0;else if("false"===t)t=!1;else if("["===t.charAt(0)||"{"===t.charAt(0))try{"undefined"!=typeof JSON&&JSON.parse?t=JSON.parse(t):lpTag.log("unable to parse JSON, no JSON object on page ","ERROR",l)}catch(i){lpTag.log("unable to parse JSON:"+i,"ERROR",l)}n[e[a].id]=t}}else lpTag.log("_config is passed as undefined","ERROR",l)}function a(e){return e.replace(/^\s+|\s+$/g,"")}var t=1.4,l="lp_global_utils";return{v:t,name:l,init:e,convertConfig:n,trim:a}}();}catch(e){lpTag.handleGeneralError("lp_global_utils",e);}try{var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};window.lpTag=window.lpTag||{};window.lpTag.taglets=window.lpTag.taglets||{};window.lpTag.taglets.unAuthMessaging=window.lpTag.taglets.unAuthMessaging||function(){function e(e,t,n){window.lpTag&&window.lpTag.log&&window.lpTag.log(n+": "+e,t,ae)}function t(t){if(t){var n=t.split(".");if(n.length>=2)try{return JSON.parse(window.atob(n[1]))}catch(a){e("error parsing jwt","ERROR","getPayloadFromJWT")}}return{}}function n(e){if(e&&e.aud){if(0===e.aud.indexOf("acc:")){var t=e.aud.substring(4);return"undefined"===t?"":t}if("undefined"!==e.aud)return e.aud}return""}function a(e){return n(t(e))}function o(e){var n=t(e);return n&&n.exp?n.exp:0}function r(e,t){if(lpTag.sdes&&e&&e.length>0&&pe!==e&&!lpTag.identitiesSupport){pe=e;lpTag.sdes.push({type:ie.names.sdeType,id:e,account:t})}}function i(e,t){t&&r(t,e);if(ve){var n={iss:"LivePerson",acr:"0"};e&&(n.account=e);t&&(n.sub=t);Te.push(n);if(Ie<=Te.length){ve(Te);ve=null}}}function s(e){return e===me.accountId?ie.names.secureStorageKey:ie.names.secureStorageKey+"_"+e}function c(){var e=window.lpTag.device,t=e&&e.os&&e.os(),n=e&&e.browser&&e.browser();return 3===t&&2===n}function u(e,t,n){var a=null,o=s(n||me.convOwnerAccountId);c()&&(a=window.localStorage.getItem(me.accountId+o));window.lpTag.taglets.lpSecureStorage.getValue({key:o,site:me.accountId,app:ae,success:function(t){e(t||a)},error:function(){Ie-=1;t()},appName:ae,domain:me.secureStorageLocation,firstParty:!0})}function d(e,t,n){if(e){var a=Object.keys(e);Ie=a.length;Te=[];a.forEach(function(e){u(t,n,e)})}else{Ie=1;u(t,n)}}function l(e,t){window.lpTag.taglets.lpSecureStorage.getValue({key:ie.names.storedAccountIdentitiesDictionaryKey,site:me.accountId,app:ae,success:function(n){d(n,e,t)},error:t,appName:ae,domain:me.secureStorageLocation,firstParty:!0})}function g(e){var t=_extends({},e);if(me.useCaptcha){t.data=e.data||{};t.data.recaptcha={};t.data.recaptcha[ie.names.captchaResponse]=window.grecaptcha&&window.grecaptcha.getResponse()}return t}function f(e){var t=g(e);window.lpTag.taglets.postmessage.issueCall(t)}function p(e){window.lpTag.taglets.postmessage.configure({frames:{url:ie.endPoints.postmessageConfigureFrameURL({domain:e})}})}function w(t){e(t,"ERROR","handleError");if(me.success){me.success(null,t);delete me.success}}function h(e){for(var t=e.search,n={},a=void 0,o=t.substr(1).split("&"),r=0;r<o.length;r+=1)if(o[r].indexOf("=")>-1){a=o[r].split("=");if(2===a.length)try{var i=decodeURIComponent(a[0]);n[i]=decodeURIComponent(a[1])}catch(s){w("Unable to parse params from UW config")}}return n}function m(e){var t={};if(e){var n=document.createElement("a");n.href=e;t=h(n)}return t}function v(e){var t=void 0;if(e.state)try{t=JSON.parse(e.state);if(t.lpUnifiedWindowConfig)return t.lpUnifiedWindowConfig;t=null}catch(n){t=null}!t&&e.redirect_uri&&(t=m(e.redirect_uri));if(t&&t.lpUnifiedWindowConfig)switch(_typeof(t.lpUnifiedWindowConfig)){case"string":try{t=JSON.parse(t.lpUnifiedWindowConfig)}catch(n){w("Couldn't parse unified window config")}break;case"object":t=t.lpUnifiedWindowConfig}return t}function I(t){if(t&&t.constructor===Array)try{ge.convertConfig(t,me)}catch(n){e("Failed to parse taglet configuration: "+n.message,"ERROR","convertTagletConfig")}else t&&(me=ge.cloneExtend(me,t,!0))}function T(e){if(we)e();else{we=!0;var t={debug:!1};t[ae]={site:me.accountId,env:!0,app:ae,url:me.secureStorageLocation,chosenStorageHandler:e,firstParty:!0};window.lpTag.taglets.lpSecureStorage.configure(t)}}function y(){window.lpTag.redirect=window.lpTag.redirect||function(e){window.location.href=e}}function S(e){var t=window.lpTag.taglets.lpSecureStorage.v;return"https://"+e+"/le_secure_storage/"+(t?t+"/":"")}function R(e){var t=lpTag&&lpTag.csds&&lpTag.csds.getDomain(ie.names.csdsIDP),n=lpTag&&lpTag.csds&&lpTag.csds.getDomain(ie.names.leCdnDomain);n=n?S(n):!1;if(e){me.useCaptcha=e.useCaptcha;me.env=e.env||ie.envType.PRODUCTION;me.success=e.success;me.error=w;me.state=e.state;me.IDPDomain=e.IDPDomain||t;me.accountId=lpTag&&lpTag.site||e.accountId;me.secureStorageLocation=n||window.lpTag.taglets.lpSecureStorage.sessionStorageStaticDomain;me.redirect_uri=e.redirect_uri;me.isExternal=e.isExternal;me.language=e.language||ie.defaultLanguage;me.convOwnerAccountId=e.convOwnerAccountId||me.accountId}return me.success&&(me.IDPDomain||me.isExternal)&&me.accountId&&me.secureStorageLocation}function O(e,t){var n=t||{};n[e]=s(e);window.lpTag.taglets.lpSecureStorage.setValue({key:ie.names.storedAccountIdentitiesDictionaryKey,site:me.accountId,app:ae,value:n,success:function(){},error:function(){},appName:ae,domain:me.secureStorageLocation,firstParty:!0})}function D(e){window.lpTag.taglets.lpSecureStorage.getValue({key:ie.names.storedAccountIdentitiesDictionaryKey,site:me.accountId,app:ae,success:function(t){O(e,t)},error:function(){O(e,{})},appName:ae,domain:me.secureStorageLocation,firstParty:!0})}function N(e,t){var n=s(e),a=(new Date).getTime();Se&&Se.setSessionData(n,a);c()&&window.localStorage.setItem(me.accountId+n,t);window.lpTag.taglets.lpSecureStorage.setValue({key:n,site:me.accountId,app:ae,value:t,success:function(){de[e]=se.READY},error:function(){de[e]=se.NONE},appName:ae,domain:me.secureStorageLocation,ttl:le,firstParty:!0});D(e)}function A(e){var a=e&&e.body&&e.body.token;if(a){var o=t(a),r=n(o);N(r,a);i(r,o.sub);if(me.success&&r===me.convOwnerAccountId){me.success(a);delete me.success}}else{de[me.convOwnerAccountId]=se.NONE;me.error("Couldn't get JWT from "+me.IDPDomain)}}function C(){de[me.convOwnerAccountId]=se.PENDING;var e=function(e){de[me.convOwnerAccountId]=se.NONE;me&&me.error&&me.error(e)},t={url:ie.endPoints.unAuthJWT(me),method:"POST",error:e,success:A};p(me.IDPDomain);f(t)}function E(e){fe=ie.refreshJwtRetryAttempts;var a=e&&e.body&&e.body.token;if(a){var o=t(a),r=n(o);e.usingJWTFromSecureStorage||N(r,a);i(r,o.sub);if(me.success){me.success(a);delete me.success}}else C()}function b(t,n,a){if(0>=fe){e("The amount of token refresh attempts has reached its limit, requesting a fresh token","INFO","retryJWTRefresh");fe=ie.refreshJwtRetryAttempts;C()}else{var o=a&&a.body&&a.body.internalErrorCode;if(ce.SHOULD_REQUEST_NEW_TOKEN_ERRORS.indexOf(o)>-1){fe=ie.refreshJwtRetryAttempts;C()}else{fe-=1;e("Retrying to refresh the token #"+(ie.refreshJwtRetryAttempts-fe),"INFO","retryJWTRefresh");setTimeout(function(){de[t]=se.RETRY;k(n)},1e3)}}}function P(e){return de[e]!==se.PENDING}function U(e){return de[e]!==se.PENDING&&de[e]!==se.NONE}function k(t){var n=a(t);n||e("jwtAccountId is invalid","ERROR","refreshJWT");var r=!0,i=parseInt(me.jwtRefreshMilliseconds,10);if(i){var c=s(n),u=Se?Se.getSessionData(c)||1:1;r=(new Date).getTime()-u>=i}else r=Date.now()>=1e3*o(t);e("Is JWT refresh needed?: "+r,"INFO","refreshJWT");if(P(n)&&r){de[n]=se.PENDING;setTimeout(function(){P(n)||(de[n]=se.NONE)},1e4);var d={url:ie.endPoints.unAuthJWT({IDPDomain:me.IDPDomain,convOwnerAccountId:n,accountId:lpTag&&lpTag.site}),method:"POST",data:{id_token:t},error:b.bind(this,n,t),success:E};p(me.IDPDomain);f(d)}else P(n)&&!r&&E({body:{token:t},usingJWTFromSecureStorage:!0})}function _(e,t,n,a){var o=ue[t];if(!P(n)&&o){var r=t+1;setTimeout(function(){return _(e,r)},o)}else a?u(function(e){return a(e)},C,n):u(function(e){return E({body:{token:e}})},C,n)}function J(e){if(e){if("string"!=typeof e)C();else if(e){var t=a(e);P(t)?k(e):_(e,0,t)}}else C()}function L(e){if(e){var t=a(e);P(t)?k(e):_(e,0,t)}else i()}function W(){U(me.convOwnerAccountId)?u(J,C):_(null,0,me.convOwnerAccountId,k)}function x(t){e("The selected storage is "+t+".","INFO","initGetAllJwtsFromSecureStorage");t&&(he=!0);ve&&he&&l(L,i.bind(this,null))}function F(e){x(e||"NONE")}function K(t){ve=function(n){t(n);e("Identity callback called with payload: "+JSON.stringify(n||{})+".","INFO","verifyIdentity")};x()}function j(t){ge=lpTag.taglets.lpUtil;pe="";Ie=1;Te=[];lpTag.identities=lpTag.identities||[];lpTag.identities.push(K);I(t);R({});de[me.convOwnerAccountId]=se.INIT;T(F);e("Initialized with configuration "+JSON.stringify(me||{}),"INFO","init")}function M(e){if(e&&R({success:e.callback||e,convOwnerAccountId:e.clientId})){pe="";W()}}function G(e,t){return e.filter(function(e){return e.service===t})}function z(){return me.env===ie.envType.DEV||me.env===ie.envType.QA?ie.domains.csdsQA:ie.domains.csdsGA}function B(){var e=z(),t={url:ie.endPoints.csds({csdsDomain:e,accountId:me.accountId}),method:"GET",error:window.lpTag.taglets.unAuthMessaging.lpUnauthCsds,success:window.lpTag.taglets.unAuthMessaging.lpUnauthCsds};window.lpTag.taglets.jsonp.issueCall(t)}function H(e){return e&&e.engConf&&e.engConf.lang||ie.defaultLanguage}function V(){var e=window.grecaptcha&&"function"==typeof window.grecaptcha.getResponse&&window.grecaptcha.getResponse();if(e&&e.length>0){me[ie.names.captchaResponse]=e;B()}}function Q(){if(me.useCaptcha){var e=document.getElementById("captchaContainer"),t=document.getElementById("reCaptchaSubmit");e&&(e.style.display="flex");t&&(t.onclick=V)}}function Y(e){var t=e,n=document.getElementById("reCaptchaTitle"),a=document.getElementById("reCaptchaSubmit"),o=document.getElementById("reCaptchaCancel");window.translations[t]||(t="en-US");if(n&&o&&a){n.innerText=window.translations[t].message_us;a.innerText=window.translations[t].next;o.innerText=window.translations[t].close}}function q(e){return!(!e||!e.useRecaptcha)}function X(e,t){if(e&&!t){var n=void 0;if(me.state)try{n=ie.endPoints.externalStandardAuth2({uri:me.redirect_uri,jwt:e,state:encodeURIComponent(me.state)})}catch(a){w("Couldn't redirect to correct URI")}else n=ie.endPoints.external({uri:me.redirect_uri,jwt:e});window.lpTag.redirect(n)}}function Z(t){e("The selected storage is "+t+".","INFO","startExternalFlow");t&&(he=!0);me&&me.accountId&&W()}function $(e){return e&&e.env||ie.envType.PRODUCTION}function ee(e){pe="";y();window.lpCaptchaOnloadCallback=window.lpTag.taglets.unAuthMessaging.captchaOnloadCallback;var t=h(e||window.location);if(t.redirect_uri&&t.client_id){var n={},a=v(t),o=H(a);n.accountId=t.client_id;n.redirect_uri=t.redirect_uri;n.state=t.state;n.success=X;n.isExternal=!0;n.useCaptcha=q(a);n.language=o;n.env=$(a);if(n.accountId&&R(n)){if(me.useCaptcha){Q();Y(o)}else B();return!0}}return!1}function te(e){var t=e&&e.ResultSet&&e.ResultSet.lpData;if(t){var n=G(t.baseURIs,ie.names.csdsIDP),a=G(t.baseURIs,ie.names.leCdnDomain);if(n.length>0&&a.length>0){me.IDPDomain=n[0].baseURI;me.secureStorageLocation=S(a[0].baseURI);T(Z)}}else w("Couldn't get site map from csds. site: "+me.accountId)}function ne(){if(me.useCaptcha&&window.grecaptcha&&"function"==typeof window.grecaptcha.render){var e=ie.languageMapping[ie.defaultLanguage];me.language&&ie.languageMapping[me.language]&&(e=ie.languageMapping[me.language]);window.grecaptcha.render("reCaptcha",{sitekey:ie.captchaSiteKey,theme:"light",hl:e})}}var ae="unAuthMessaging",oe="1.0.36",re=!0,ie={endPoints:{unAuthJWT:function(e){var t=e.IDPDomain,n=e.accountId,a=e.convOwnerAccountId;return"https://"+t+"/api/account/"+(a||n)+"/anonymous/authorize"},externalStandardAuth2:function(e){var t=e.uri,n=e.state,a=e.jwt;return t+"?state="+n+"#id_token="+a},external:function(e){var t=e.uri,n=e.jwt;return t+"#id_token="+n},postmessageConfigureFrameURL:function(e){var t=e.domain;return"https://"+t+"/postmessage/postmessage.min.html"},csds:function(e){var t=e.csdsDomain,n=e.accountId,a=e.convOwnerAccountId;return"https://"+t+"/csdr/account/"+(a||n)+"/service/baseURI.lpCsds?version=1.0"}},names:{secureStorageKey:"-unAuthJWT",storedAccountIdentitiesDictionaryKey:"-unAuthJWTAccounts",sdeType:"lpConsumer",captchaResponse:"gRecaptchaResponse",csdsIDP:"idp",leCdnDomain:"leCdnDomain"},domains:{csdsGA:"api.liveperson.net",csdsQA:"hc1n.dev.lprnd.net"},captchaSiteKey:"6LdCazcUAAAAACpzhC0F6mj-SpyDQkcqXvg6ymaJ",languageMapping:JSON.parse('{"ar-AE":"ar","bg-BG":"bg","cs-CZ":"cs","Cy-sr-SP":"sr","da-DK":"da","de-DE":"de","el-GR":"el","en-UK":"en-GB","en-US":"en","es-419":"es-419","es-ES":"es","et-EE":"et","fi-FI":"fi","fr-CA":"fr-CA","fr-FR":"fr","he-IL":"iw","hi-IN":"hi","hr-HR":"hr","hu-HU":"hu","id-ID":"id","it-IT":"it","ja-JP":"ja","ko-KR":"ko","lt-LT":"lt","lv-LV":"lv","ms-MY":"ms","nb-NO":"no","nl-NL":"nl","pl-PL":"pl","pt-BR":"pt-BR","pt-PT":"pt-PT","ro-RO":"ro","ru-RU":"ru","sk-SK":"sk","sl-SI":"sl","sv-SE":"sv","th-TH":"th","tr-TR":"tr","uk-UA":"uk","vi-VN":"vi","zh-CN":"zh-CN","zh-HK":"zh-HK","zh-TW":"zh-TW"}'),defaultLanguage:"en-US",envType:{ALPHA:"alpha",QA:"qa",PRODUCTION:"prod",DEV:"dev"},refreshJwtRetryAttempts:60},se={READY:"READY",PENDING:"PENDING",NONE:"NONE",INIT:"INIT",RETRY:"RETRY"},ce={SHOULD_REQUEST_NEW_TOKEN_ERRORS:["9002","9007","9008","9009","9011","9012","9014","9015","1001","1003","1004","1005","1006","1007","1008","1009","1010","1011","1012","1013","1024","1025","1026","1037","1038","1049","2001","2002","2004","2005","2006","2007","2008","2009","3001","3002","3003"]},ue=[10,50,100,300,1e3,5e3],de={},le=31536e6,ge=void 0,fe=ie.refreshJwtRetryAttempts,pe="",we=!1,he=!1,me={},ve=null,Ie=1,Te=[],ye=lpTag,Se=ye.storageMethods;return{version:oe,name:ae,lpUnauthFunction:M,lpUnauthExternal:ee,lpUnauthCsds:te,captchaOnloadCallback:ne,init:j,jsMethodExtended:re}}();}catch(e){lpTag.handleGeneralError("unAuthMessaging",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.jsLoader=lpTag.taglets.jsLoader||function(e){function t(e){var t=[],n=[],a=!1;for(var r in e)if("string"==typeof e[r]||e[r].url)if(e[r].dependency){var l=o(e,e[r].dependency);l.length>0&&(t=t.concat(l))}else"string"==typeof e[r]||"string"==typeof e[r].url?a=!0:n.push(e[r]);else"string"!=typeof e[r]&&n.push(r);return{missingKeys:t,invalidUrls:n,requestValid:0===t.length&&0===n.length&&a}}function n(){lpTag.log("JSLoader was initialised","DEBUG",v)}function a(e){T+=1;var n="";if(e&&e.loadObj){var a=t(e.loadObj);if(a.requestValid){e.startTime=new Date;for(var r in e.loadObj)if(e.loadObj[r]!==!0&&!e.loadObj[r].dependency){n=e.loadObj[r].url||e.loadObj[r];f(n,e.context,i(r,e))}}else j(e.error,e.context||null,a)}}function r(){return{version:S,name:v,errors:m,downloads:E,configsCount:T}}function o(e,t){var n=[];t=t.constructor===Array?t:[t];for(var a=0;a<t.length;a++)e[t[a]]||n.push(t[a]);return n}function l(e,t,n){m+=1;n.loadError=n.loadError||[];n.loadError.push({key:e,url:t});return!0}function d(e,t,n){E+=1;if("object"==typeof t.loadObj[e]){var a=t.loadObj[e];j(n&&a.error?a.error:a.success,a.context||null,n?{error:!0,data:a}:{data:a})}t.loadObj[e]=!0}function c(e){var t=!0;for(var n in e.loadObj)if(e.loadObj.hasOwnProperty(n)&&e.loadObj[n]!==!0){t=!1;break}return t}function i(e,t){return function(n,a){d(e,t,a);a&&l(e,n,t);u(e,t);c(t)&&s(t,!!t.loadError)}}function s(e,t){e.endTime=new Date;setTimeout(function(){j(t?e.error:e.success,e.context,t?e.loadError:e);e=null},10)}function u(e,t){var n;for(var a in t.loadObj)if("object"==typeof t.loadObj[a]){t.loadObj[a].dependency=t.loadObj[a].dependency&&t.loadObj[a].dependency.constructor===Array?t.loadObj[a].dependency:[t.loadObj[a].dependency];n=[];for(var r=0;r<t.loadObj[a].dependency.length;r++)t.loadObj[a].dependency[r]!==e&&n.push(t.loadObj[a].dependency[r]);if(n.length!==t.loadObj[a].dependency.length){t.loadObj[a].dependency=n;0===n.length&&f(t.loadObj[a].url,t.loadObj[a].context,i(a,t))}}}function f(e,t,n){if(w[e])w[e].state===R.LOADING?g(n,w[e].callbackQueue):w[e].state===R.SUCCESS&&j(n,t,[e]);else{w[e]=p(R.LOADING);g(n,w[e].callbackQueue);b(e,{success:function(){w[e].state=R.SUCCESS;O.call(this,e,t,w[e].callbackQueue)},error:function(){w[e].state=R.ERROR;y.call(this,e,t,w[e].callbackQueue)}})}}function p(e,t){return{state:e,callbackQueue:t||[]}}function b(e,t){var n=document.createElement("script");n.setAttribute("type","text/javascript");n.setAttribute("charset","UTF-8");n.onreadystatechange=n.onload=t.success;n.onerror=t.error;n.setAttribute("src",e);(document.head||document.getElementsByTagName("head")[0]).appendChild(n)}function O(t,n,a){var r=!1;this.readyState?e.opera||"loaded"!==this.readyState&&"complete"!==this.readyState||(r=!0):r=!0;if(r){h(t,n,a,!1);this.onerror=this.onload=this.onreadystatechange=null}}function y(e,t,n){h(e,t,n,!0);this.onerror=this.onload=this.onreadystatechange=null}function g(e,t){t&&-1===t.indexOf(e)&&t.push(e)}function h(e,t,n,a){for(var r;n.length;){r=n.pop();j(r,t,e,a)}}function j(t,n){n=n||e;if("function"==typeof t){var a=Array.prototype.slice.call(arguments,2);try{return t.apply(n,a)}catch(r){lpTag.log("Failed to execute callback exc= "+r.message,"ERROR",v)}}}var v="jsLoader",S="1.0.1",E=0,m=0,T=0,R={LOADING:"LOADING",SUCCESS:"SUCCESS",ERROR:"ERROR"},w={};return{v:S,init:n,loadJS:a,validateLoadObj:t,inspect:r}}(window);}catch(e){lpTag.handleGeneralError("jsLoader",e);}